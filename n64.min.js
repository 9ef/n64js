(function(b){function K(b,a){b=Number(b);0>b&&(b=4294967295+b+1);var f=b.toString(16);if(a)for(var x=Math.floor(a/4);f.length<x;)f="0"+f;return f}function q(b){return"0x"+K((b&255)>>>0,8)}function B(b){return"0x"+K((b&65535)>>>0,16)}function j(b){return"0x"+K(b,32)}function A(b){this.message=b}function t(b){this.arrayBuffer=b;this.length=b.byteLength;this.u8=new Uint8Array(b);this.s32=new Int32Array(b)}function o(b,a,f,x,g){var m;for(m=0;m<g;++m)b.u8[a+m]=f.u8[x+m]}function p(b,a,f,x){this.name=b;
this.u8=(this.mem=a)?a.u8:null;this.rangeStart=f;this.rangeEnd=x;this.quiet=!1}function z(b){function a(b,F,f,k,m){var b=new Uint8Array(b),g;for(g=0;g<b.length;g+=4){var h=b[g+f],l=b[g+k],u=b[g+m];b[g]=b[g+F];b[g+1]=h;b[g+2]=l;b[g+3]=u}}var f=new DataView(b);switch(f.getUint32(0)){case 2151092800:break;case 1074935680:a(b,3,2,1,0);break;case 306217015:a(b,2,3,0,1);break;case 931151890:a(b,1,0,3,2);break;default:throw"Unhandled byteswapping: "+f.getUint32(0).toString(16);}}function E(b){return b>>
24&255|b>>8&65280|b<<8&16711680|b<<24&4278190080}function sa(a){var k=0,f;for(f=0;4032>f;f++)k+=a[64+f];switch(k){case 211495:return"6101";case 213534:return"6101";case 213060:return"6102";case 219088:return"6103";case 293505:return"6105";case 225740:return"6106";case 213961:return"6106";default:return b.log("Unknown CIC Code "+j(k)),"6102"}}function v(){r&&r.begin();if(N){requestAnimationFrame(v);var a=l;$(".debug").is(":visible")&&!b.debugDisplayListRequested()&&(a=b.getDebugCycles());if(la||I){var k;
k=[la,I];var f,x;for(x=0;x<k.length;++x)if(f=k[x])f.tick()||(a=0),f=Math.floor(f.getAvailableBytes()/8),f=Math.max(0,f-100),a=Math.min(a,f);k=a;0<k&&(b.run(k),b.refreshDebugger())}else b.run(a),b.refreshDebugger();N||$("#runbutton").html('<i class="icon-play"></i> Run')}else b.debugDisplayListRunning()&&(requestAnimationFrame(v),b.debugDisplayList()&&b.presentBackBuffer(b.getRamU8Array(),b.viOrigin()));r&&r.end()}function aa(){var b=Math.floor(65535*Math.random())&65535,a=Math.floor(65535*Math.random())&
65535,b=b<<16|a;I&&(b=I.reflect32(b));return b}function D(F,k){if(!ba[k].present)return F[1]|=128,F[3]=255,F[4]=255,F[5]=255,!0;var f,x,g;switch(F[2]){case Ma:case Ua:F[3]=5;F[4]=0;F[5]=ba[k].mempack?1:0;break;case Va:f=ba[k].buttons;x=ba[k].stick_x;g=ba[k].stick_y;I&&(I.sync32(3203395597,"input"),f=I.reflect32(f),x=I.reflect32(x),g=I.reflect32(g));F[3]=f>>>8;F[4]=f&255;F[5]=x;F[6]=g;break;case tb:if(m){f=32768===((F[3]<<8|F[4])&65504)?128:0;for(x=0;32>x;++x)F[5+x]=f}else if(f=F[3]<<8|F[4],32769===
f)for(x=0;32>x;++x)F[5+x]=0;else if(b.log("Reading from mempack+"+f),f&=65504,32736>=f)for(x=0;32>x;++x)F[5+x]=ya[k][f+x];else for(x=0;32>x;++x)F[5+x]=0;F[37]=a(F,5);return!1;case eb:if(!m&&(f=F[3]<<8|F[4],32769!==f&&(b.log("Writing to mempack+"+f),f&=65504,32736>=f)))for(x=0;32>x;++x)ya[k][f+x]=F[5+x];F[37]=a(F,5);return!1;default:b.halt("Unknown controller command "+F[2])}return!0}function a(b,a){var f=0,x;for(x=0;32>x;x++)var g=b[a+x],f=(f<<1|g>>7&1)^(f&128?133:0),f=(f<<1|g>>6&1)^(f&128?133:0),
f=(f<<1|g>>5&1)^(f&128?133:0),f=(f<<1|g>>4&1)^(f&128?133:0),f=(f<<1|g>>3&1)^(f&128?133:0),f=(f<<1|g>>2&1)^(f&128?133:0),f=(f<<1|g>>1&1)^(f&128?133:0),f=(f<<1|g>>0&1)^(f&128?133:0);for(x=8;0!==x;x--)f=f<<1^(f&128?133:0);return f}function s(){var a=0!==G.getBits32(P,Q),k=0!==va.getBits32(S,ca);a!==k&&b.halt("SI_STATUS register is in an inconsistent state")}function h(a){var k=fb[a>>>18];if(!k)throw b.log("read from unhandled location "+j(a)),"unmapped read "+j(a)+" - need to set exception";return k}
function C(){var b=new t(new ArrayBuffer(4096)),a=localStorage.getItem("eeprom-"+g.id);a&&(a=JSON.parse(a),a.data&&nb.decodeArray(a.data,b.u8));return b}function Z(a){za=null;Ga=!1;if(a)switch(a){case "Eeprom4k":za=C(4096,"eeprom-"+g.id);break;case "Eeprom16k":za=C(16384,"eeprom-"+g.id);break;default:b.displayWarning("Unhandled savegame type: "+a+".")}}var r=null,l=1E8,la,I;b.getSyncFlow=function(){return la};var P=8,Q=2,S=24,ca=4096,N=!1,R=!1,Na=0,m=!1,g={id:"",name:"",cic:"6101",country:69,save:"Eeprom4k"};
A.prototype.toString=function(){return"AssertException: "+this.message};t.prototype={clear:function(){var b;for(b=0;b<this.u8.length;++b)this.u8[b]=0},readU32:function(b){return(this.u8[b]<<24|this.u8[b+1]<<16|this.u8[b+2]<<8|this.u8[b+3])>>>0},readU16:function(b){return this.u8[b]<<8|this.u8[b+1]},readU8:function(b){return this.u8[b]},readS32:function(b){return this.u8[b]<<24|this.u8[b+1]<<16|this.u8[b+2]<<8|this.u8[b+3]|0},readS16:function(b){return(this.u8[b]<<24|this.u8[b+1]<<16)>>16},readS8:function(b){return this.u8[b]<<
24>>24},write32:function(b,a){this.u8[b]=a>>24;this.u8[b+1]=a>>16;this.u8[b+2]=a>>8;this.u8[b+3]=a},write16:function(b,a){this.u8[b]=a>>8;this.u8[b+1]=a},write8:function(b,a){this.u8[b]=a},clearBits32:function(b,a){var f=this.readU32(b)&~a;this.write32(b,f);return f},setBits32:function(b,a){var f=this.readU32(b)|a;this.write32(b,f);return f},getBits32:function(b,a){return this.readU32(b)&a}};p.prototype={setMem:function(b){this.mem=b;this.u8=b.u8},calcEA:function(b){return b-this.rangeStart},readInternal32:function(b){b=
this.calcEA(b);return b+4>this.mem.u8.length?3722304989:this.mem.readU32(b)},logRead:function(a){this.quiet||b.log("Reading from "+this.name+": "+j(a))},logWrite:function(a,k){this.quiet||b.log("Writing to "+this.name+": "+k+" -> ["+j(a)+"]")},readU32:function(b){this.logRead(b);return this.mem.readU32(this.calcEA(b))},readU16:function(b){this.logRead(b);return this.mem.readU16(this.calcEA(b))},readU8:function(b){this.logRead(b);return this.mem.readU8(this.calcEA(b))},readS32:function(b){this.logRead(b);
return this.mem.readS32(this.calcEA(b))},readS16:function(b){this.logRead(b);return this.mem.readS16(this.calcEA(b))},readS8:function(b){this.logRead(b);return this.mem.readS8(this.calcEA(b))},write32:function(b,a){this.logWrite(b,j(a));this.mem.write32(this.calcEA(b),a)},write16:function(b,a){this.logWrite(b,B(a));this.mem.write16(this.calcEA(b),a)},write8:function(b,a){this.logWrite(b,q(a));this.mem.write8(this.calcEA(b),a)}};var u=null,T=new t(new ArrayBuffer(2048)),H=new t(new ArrayBuffer(8388608)),
Ha=new t(new ArrayBuffer(8192)),w=new t(new ArrayBuffer(32)),Ia=new t(new ArrayBuffer(8)),wa=new t(new ArrayBuffer(32)),ob=new t(new ArrayBuffer(16)),ta=new t(new ArrayBuffer(48)),G=new t(new ArrayBuffer(16)),ma=new t(new ArrayBuffer(56)),pb=new t(new ArrayBuffer(24)),Ja=new t(new ArrayBuffer(52)),Wa=new t(new ArrayBuffer(32)),va=new t(new ArrayBuffer(28)),za=null,Ga=!1,Xa=new DataView(Ha.arrayBuffer,4032,64),ga=new p("VMEM",null,0,2147483648),na=new p("RAM",H,2147483648,2155872256),gb=new p("RAM",
H,2684354560,2692743168),Ya=new p("RDRAMReg",ta,2750414848,2751463424),Za=new p("SPMem",Ha,2751463424,2751471616),Aa=new p("SPReg",w,2751725568,2751725600),ub=new p("SPIBIST",Ia,2751987712,2751987720),$a=new p("DPC",wa,2752512E3,2752512032),ab=new p("DPS",ob,2753560576,2753560592),Ka=new p("MIReg",G,2754609152,2754609168),La=new p("VIReg",ma,2755657728,2755657784),hb=new p("AIReg",pb,2756706304,2756706328),qb=new p("PIReg",Ja,2757754880,2757754932),zb=new p("RIReg",Wa,2758803456,2758803488),ua=new p("SIReg",
va,2759852032,2759852060),ha=new p("ROMd2a1",null,2768240640,2785017856),Ba=new p("ROMd1a1",u,2785017856,2818572288),da=new p("ROMd2a2",null,2818572288,2952790016),Oa=new p("ROMd1a2",u,2952790016,3217031168),U=new p("PIRAM",T,3217031168,3217033216),Ca=new p("ROMd1a3",u,3218079744,3221225472);b.toggleRun=function(){N=!N;$("#runbutton").html(N?'<i class="icon-pause"></i> Pause':'<i class="icon-play"></i> Run');N&&v()};b.breakEmulationForDisplayListDebug=function(){N&&(b.toggleRun(),b.cpu0.breakExecution())};
b.triggerLoad=function(){var b=$("#fileInput");b.val("");b.click()};b.loadFile=function(){var a=document.getElementById("fileInput");if(a&&0<a.files.length){var a=a.files[0],k=new FileReader;k.onerror=function(){b.displayWarning("error loading file")};k.onload=function(a){a=a.target.result;z(a);u=new t(a);Ba.setMem(u);Oa.setMem(u);Ca.setMem(u);a={};a.header=u.readU32(0);a.clock=u.readU32(4);a.bootAddress=u.readU32(8);a.release=u.readU32(12);a.crclo=u.readU32(16);a.crchi=u.readU32(20);a.unk0=u.readU32(24);
a.unk1=u.readU32(28);var F=u.u8,k="",m;for(m=0;20>m;++m){var h=F[32+m];if(0===h)break;k+=String.fromCharCode(h)}a.name=k;a.unk2=u.readU32(52);a.unk3=u.readU16(56);a.unk4=u.readU8(58);a.manufacturer=u.readU8(59);a.cartId=u.readU16(60);a.countryId=u.readU8(62);a.unk5=u.readU8(63);var F=$('<table class="register-table"><tbody></tbody></table>'),k=F.find("tbody"),l;for(l in a)k.append("<tr><td>"+l+"</td><td>"+("string"===typeof a[l]?a[l]:j(a[l]))+"</td></tr>");b.outputAppendHTML(F);g.cic=sa(u.u8);g.id=
K(E(a.crclo),32)+K(E(a.crchi),32);g.country=a.countryId;(l=b.romdb[g.id])?(b.log("Loaded info for "+g.id+" from db"),g.name=l.name,g.save=l.save):(b.log("No info for "+g.id+" in db"),g.name=a.name,g.save="Eeprom4k");b.log("rominfo is "+JSON.stringify(g));$("#title").text("n64js - "+g.name);b.reset();b.refreshDebugger();N=!1;b.toggleRun()};k.readAsArrayBuffer(a)}};b.step=function(){N||(b.run(1),b.refreshDebugger())};b.getRamU8Array=function(){return na.u8};b.getRamS32Array=function(){return na.mem.s32};
b.getRamDataView=function(){return new DataView(H.arrayBuffer)};na.readU32=function(b){b-=2147483648;return(this.u8[b+0]<<24|this.u8[b+1]<<16|this.u8[b+2]<<8|this.u8[b+3])>>>0};na.readS32=function(b){b-=2147483648;return this.u8[b+0]<<24|this.u8[b+1]<<16|this.u8[b+2]<<8|this.u8[b+3]};na.write32=function(b,a){var f=b-2147483648;this.u8[f+0]=a>>24;this.u8[f+1]=a>>16;this.u8[f+2]=a>>8;this.u8[f+3]=a};ga.readInternal32=function(a){a=b.cpu0.translateReadInternal(a)&8388607;return 0!==a&&a+3<H.u8.length?
H.readU32(a):0};ga.readU32=function(a){a=b.cpu0.translateRead(a)&8388607;if(0!==a)return H.readU32(a);b.halt("virtual readU32 failed - need to throw refill/invalid");return 0};ga.readU16=function(a){a=b.cpu0.translateRead(a)&8388607;if(0!==a)return H.readU16(a);b.halt("virtual readU16 failed - need to throw refill/invalid");return 0};ga.readU8=function(a){a=b.cpu0.translateRead(a)&8388607;if(0!==a)return H.readU8(a);b.halt("virtual readU8 failed - need to throw refill/invalid");return 0};ga.readS32=
function(a){a=b.cpu0.translateRead(a)&8388607;return 0!==a?H.readS32(a):0};ga.readS16=function(a){a=b.cpu0.translateRead(a)&8388607;if(0!==a)return H.readS16(a);b.halt("virtual readS16 failed - need to throw refill/invalid");return 0};ga.readS8=function(a){a=b.cpu0.translateRead(a);if(0!==a)return H.readS8(a);b.halt("virtual readS8 failed - need to throw refill/invalid");return 0};ga.write32=function(a,k){var f=b.cpu0.translateWrite(a)&8388607;0!==f?H.write32(f,k):b.halt("virtual write32 failed - need to throw refill/invalid")};
ga.write16=function(a,k){var f=b.cpu0.translateWrite(a)&8388607;0!==f?H.write16(f,k):b.halt("virtual write16 failed - need to throw refill/invalid")};ga.write8=function(a,k){var f=b.cpu0.translateWrite(a)&8388607;0!==f?H.write8(f,k):b.halt("virtual write8 failed - need to throw refill/invalid")};Ba.write32=function(){throw"Writing to rom d1a1";};Ba.write16=function(){throw"Writing to rom d1a1";};Ba.write8=function(){throw"Writing to rom d1a1";};Oa.write32=function(){throw"Writing to rom d1a2";};Oa.write16=
function(){throw"Writing to rom d1a2";};Oa.write8=function(){throw"Writing to rom d1a2";};Ca.write32=function(){throw"Writing to rom d1a3";};Ca.write16=function(){throw"Writing to rom d1a3";};Ca.write8=function(){throw"Writing to rom d1a3";};ha.readU32=function(){b.log("reading noise");return aa()};ha.readU16=function(){b.log("reading noise");return aa()&65535};ha.readU8=function(){b.log("reading noise");return aa()&255};ha.readS32=function(){b.log("reading noise");return aa()};ha.readS16=function(){b.log("reading noise");
return aa()&65535};ha.readS8=function(){b.log("reading noise");return aa()&255};ha.write32=function(){throw"Writing to rom";};ha.write16=function(){throw"Writing to rom";};ha.write8=function(){throw"Writing to rom";};da.readU32=function(){throw"Reading from rom d2a2";};da.readU16=function(){throw"Reading from rom d2a2";};da.readU8=function(){throw"Reading from rom d2a2";};da.readS32=function(){throw"Reading from rom d2a2";};da.readS16=function(){throw"Reading from rom d2a2";};da.readS8=function(){throw"Reading from rom d2a2";
};da.write32=function(){throw"Writing to rom";};da.write16=function(){throw"Writing to rom";};da.write8=function(){throw"Writing to rom";};Ya.calcEA=function(b){return b&255};Aa.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";switch(f){case 0:case 4:case 28:this.mem.write32(f,k);break;case 8:this.mem.write32(f,k);var f=w.readU32(0),g=w.readU32(4),m=(w.readU32(8)&4095)+1;Aa.quiet||b.log("SP: copying from ram "+j(g)+" to sp "+B(f));o(Ha,f&4095,H,g&16777215,
m);w.setBits32(24,0);w.clearBits32(16,4);break;case 12:this.mem.write32(f,k);f=w.readU32(0);g=w.readU32(4);m=(w.readU32(12)&4095)+1;Aa.quiet||b.log("SP: copying from sp "+B(f)+" to ram "+j(g));o(H,g&16777215,Ha,f&4095,m);w.setBits32(24,0);w.clearBits32(16,4);break;case 16:Aa.quiet||(k&1&&b.log("SP: Clearing Halt"),k&2&&b.log("SP: Setting Halt"),k&4&&b.log("SP: Clearing Broke"),k&8&&b.log("SP: Clearing Interrupt"),k&16&&b.log("SP: Setting Interrupt"),k&32&&b.log("SP: Clearing Single Step"),k&64&&b.log("SP: Setting Single Step"),
k&128&&b.log("SP: Clearing Interrupt on break"),k&256&&b.log("SP: Setting Interrupt on break"),k&512&&b.log("SP: Clearing Sig0 (Yield)"),k&1024&&b.log("SP: Setting Sig0 (Yield)"),k&2048&&b.log("SP: Clearing Sig1 (Yielded)"),k&4096&&b.log("SP: Setting Sig1 (Yielded)"),k&8192&&b.log("SP: Clearing Sig2 (TaskDone)"),k&16384&&b.log("SP: Setting Sig2 (TaskDone)"),k&32768&&b.log("SP: Clearing Sig3"),k&65536&&b.log("SP: Setting Sig3"),k&131072&&b.log("SP: Clearing Sig4"),k&262144&&b.log("SP: Setting Sig4"),
k&524288&&b.log("SP: Clearing Sig5"),k&1048576&&b.log("SP: Setting Sig5"),k&2097152&&b.log("SP: Clearing Sig6"),k&4194304&&b.log("SP: Setting Sig6"),k&8388608&&b.log("SP: Clearing Sig7"),k&16777216&&b.log("SP: Setting Sig7"));g=f=0;m=!1;k&1&&(f|=1,m=!0);k&2&&(g|=1);k&16?(G.setBits32(P,1),b.cpu0.updateCause3()):k&8&&(G.clearBits32(P,1),b.cpu0.updateCause3());var f=f|(k&4)>>1|k&32|(k&128)>>1|(k&512)>>2|(k&2048)>>3|(k&8192)>>4|(k&32768)>>5|(k&131072)>>6|(k&524288)>>7|(k&2097152)>>8|(k&8388608)>>9,g=
g|(k&64)>>1|(k&256)>>2|(k&1024)>>3|(k&4096)>>4|(k&16384)>>5|(k&65536)>>6|(k&262144)>>7|(k&1048576)>>8|(k&4194304)>>9|(k&16777216)>>10,h=w.readU32(16);w.write32(16,h&~f|g);m&&b.rspProcessTask(Xa);break;case 20:case 24:break;default:b.log("Unhandled write to SPReg: "+j(k)+" -> ["+j(a)+"]"),this.mem.write32(f,k)}};$a.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";switch(f){case 0:this.quiet||b.log("DPC start set to: "+j(k));this.mem.write32(f,k);this.mem.write32(8,
k);break;case 4:this.quiet||b.log("DPC end set to: "+j(k));this.mem.write32(f,k);break;case 12:f=wa.readU32(12);k&1&&(f&=-2);k&2&&(f|=1);k&4&&(f&=-3);k&16&&(f&=-5);k&32&&(f|=4);wa.write32(12,f);break;case 8:case 16:case 20:case 24:case 28:b.log("Wrote to read only DPC reg");break;default:this.mem.write32(f,k)}};$a.readS32=function(b){this.logRead(b);b=this.calcEA(b);if(b+4>this.u8.length)throw"Read is out of range";return this.mem.readS32(b)};$a.readU32=function(b){return this.readS32(b)>>>0};ab.write32=
function(b){if(this.calcEA(b)+4>this.u8.length)throw"Write is out of range";throw"DPS writes are unhandled";};ab.readS32=function(b){this.logRead(b);if(this.calcEA(b)+4>this.u8.length)throw"Read is out of range";throw"DPS reads are unhandled";};ab.readU32=function(b){return this.readS32(b)>>>0};Ka.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";switch(f){case 0:this.quiet||b.log("Wrote to MI mode register: "+j(k));f=G.readU32(0);k&8192&&(f|=512);k&4096&&
(f&=-513);k&256&&(f|=128);k&128&&(f&=-129);k&1024&&(f|=256);k&512&&(f&=-257);G.write32(0,f);k&2048&&(G.clearBits32(P,32),b.cpu0.updateCause3());break;case 12:this.quiet||b.log("Wrote to MI interrupt mask register: "+j(k));var f=G.readU32(12),g=G.readU32(P),f=f&~(0|(k&1)>>>0|(k&4)>>>1|(k&16)>>>2|(k&64)>>>3|(k&256)>>>4|(k&1024)>>>5)|0|(k&2)>>>1|(k&8)>>>2|(k&32)>>>3|(k&128)>>>4|(k&512)>>>5|(k&2048)>>>6;G.write32(12,f);f&g&&b.cpu0.updateCause3();break;case 4:case P:break;default:b.log("Unhandled write to MIReg: "+
j(k)+" -> ["+j(a)+"]"),this.mem.write32(f,k)}};hb.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";switch(f){case 0:case 8:case 20:this.quiet||b.log("Wrote to AIReg: "+j(k)+" -> ["+j(a)+"]");this.mem.write32(f,k);break;case 4:this.quiet||b.log("AI len changed to "+k);this.mem.write32(f,k);break;case 16:this.quiet||b.log("AI dacrate changed to "+k);this.mem.write32(f,k);break;case 12:b.log("AI interrupt cleared");pb.clearBits32(P,4);b.cpu0.updateCause3();
break;default:b.log("Unhandled write to AIReg: "+j(k)+" -> ["+j(a)+"]"),this.mem.write32(f,k)}};La.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";switch(f){case 4:var g=this.mem.readU32(f),m=k>>>0;m!==g&&(b.presentBackBuffer(b.getRamU8Array(),m),b.returnControlToSystem());this.mem.write32(f,k);break;case 0:this.quiet||b.log("VI control set to: "+j(k));this.mem.write32(f,k);break;case 8:this.quiet||b.log("VI width set to: "+k);this.mem.write32(f,k);break;
case 16:this.quiet||b.log("VI current set to: "+j(k)+".");this.quiet||b.log("VI interrupt cleared");G.clearBits32(P,8);b.cpu0.updateCause3();break;default:this.mem.write32(f,k)}};La.readS32=function(b){this.logRead(b);b=this.calcEA(b);if(b+4>this.u8.length)throw"Read is out of range";var a=this.mem.readS32(b);16===b&&(a=(a+2)%512,this.mem.write32(b,a));return a};La.readU32=function(b){return this.readS32(b)>>>0};qb.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";
switch(f){case 0:case 4:this.quiet||b.log("Writing to PIReg: "+j(k)+" -> ["+j(a)+"]");this.mem.write32(f,k);break;case 8:this.mem.write32(f,k);b.halt("PI copy from rdram triggered!");break;case 12:this.mem.write32(f,k);var f=Ja.readU32(0)&16777215,m=Ja.readU32(4),h=Ja.readU32(12)+1;qb.quiet||b.log("PI: copying "+h+" bytes of data from "+j(m)+" to "+j(f));h&1&&(b.log("PI: Warning - odd address"),h++);100663296<=m&&134217728>m?(o(H,f,u,m-100663296,h),b.invalidateICacheRange(2147483648|f,h,"PI")):268435456<=
m&&532676607>m?(o(H,f,u,m-268435456,h),b.invalidateICacheRange(2147483648|f,h,"PI")):533725184<=m&&2147483647>m?(o(H,f,u,m-533725184,h),b.invalidateICacheRange(2147483648|f,h,"PI")):83886080<=m&&100663296>m?b.halt("PI: dom2addr1 transfer is unhandled (save)"):134217728<=m&&268435456>m?b.halt("PI: dom2addr2 transfer is unhandled (save/flash)"):b.halt("PI: unknown cart address: "+m);R||(H.write32(("6105"===g.cic?2147484656:2147484440)-2147483648,8388608),b.log("Setting memory size"),R=!0);Ja.clearBits32(16,
1);G.setBits32(P,16);b.cpu0.updateCause3();break;case 16:k&1&&(this.quiet||b.log("PI_STATUS_REG reset"),this.mem.write32(16,0));k&2&&(this.quiet||b.log("PI interrupt cleared"),G.clearBits32(P,16),b.cpu0.updateCause3());break;default:b.log("Unhandled write to PIReg: "+j(k)+" -> ["+j(a)+"]"),this.mem.write32(f,k)}};var Ua=0,Va=1,tb=2,eb=3,Ma=255,ba=[{present:!0,mempack:!0},{present:!0,mempack:!1},{present:!0,mempack:!1},{present:!0,mempack:!1}],ya=[new Uint8Array(32768),new Uint8Array(32768),new Uint8Array(32768),
new Uint8Array(32768)];b.handleKey=function(b,a){var f=0;switch(b){case 65:f=4096;break;case 83:f=32768;break;case 88:f=16384;break;case 90:f=8192;break;case 89:f=8192;break;case 67:f=32;break;case 86:f=16;break;case 84:f=2048;break;case 71:f=1024;break;case 70:f=512;break;case 72:f=256;break;case 73:f=8;break;case 75:f=4;break;case 74:f=2;break;case 76:f=1;break;case 37:ba[0].stick_x=a?-80:0;break;case 39:ba[0].stick_x=a?80:0;break;case 40:ba[0].stick_y=a?-80:0;break;case 38:ba[0].stick_y=a?80:0}if(f){var g=
ba[0].buttons;ba[0].buttons=a?g|f:g&~f}};b.checkSIStatusConsistent=s;ua.readS32=function(b){this.logRead(b);b=this.calcEA(b);if(b+4>this.u8.length)throw"Read is out of range";b===S&&s();return this.mem.readS32(b)};ua.readU32=function(b){return this.readS32(b)>>>0};ua.write32=function(a,k){var f=this.calcEA(a);if(f+4>this.u8.length)throw"Write is out of range";switch(f){case 0:this.quiet||b.log("Writing to SI dram address reigster: "+j(k));this.mem.write32(f,k);break;case 4:this.mem.write32(f,k);a:{for(var f=
new Uint8Array(T.arrayBuffer,1984,64),g=0,m=0;64>g;){var h=f.subarray(g);if(254===h[0])break;if(255===h[0]||253===h[0])g++;else if(0===h[0])g++,m++;else{if(4>m){if(!D(h,m))break}else if(4===m){g=h;h=m=void 0;switch(g[2]){case Ma:case Ua:g[3]=0;g[4]=128;g[5]=0;break;case 4:h=8*g[3];b.log("Reading from eeprom+"+h);for(m=0;8>m;++m)g[4+m]=za.u8[h+m];break;case 5:h=8*g[3];b.log("Writing to eeprom+"+h);for(m=0;8>m;++m)za.u8[h+m]=g[4+m];Ga=!0;break;case 6:g[3]=0;g[4]=16;g[5]=0;break;case 7:b.halt("rtc read unhandled");
break;case 8:b.halt("rtc write unhandled");break;default:b.halt("unknown eeprom command: "+q(g[2]))}break}else{b.halt("Trying to read from invalid controller channel "+m+"!");break a}m++;g+=h[0]+(h[1]&63)+2}}f[63]=0}f=va.readU32(0)&536870911;g=new Uint8Array(T.arrayBuffer,1984,64);ua.quiet||b.log("SI: copying from PI RAM to "+j(f));for(m=0;64>m;++m)H.u8[f+m]=g[m];va.setBits32(S,ca);G.setBits32(P,Q);b.cpu0.updateCause3();break;case 16:this.mem.write32(f,k);f=va.readU32(0)&536870911;g=new Uint8Array(T.arrayBuffer,
1984,64);ua.quiet||b.log("SI: copying from "+j(f)+" to PI RAM");for(m=0;64>m;++m)g[m]=H.u8[f+m];f=g[63];0<f&&(ua.quiet||b.log("SI: wrote "+f+" to the control byte"));va.setBits32(S,ca);G.setBits32(P,Q);b.cpu0.updateCause3();break;case S:this.quiet||b.log("SI interrupt cleared");va.clearBits32(S,ca);G.clearBits32(P,Q);b.cpu0.updateCause3();break;default:b.log("Unhandled write to SIReg: "+j(k)+" -> ["+j(a)+"]"),this.mem.write32(f,k)}};U.readS32=function(a){var k=this.calcEA(a);if(k+4>this.u8.length)throw"Read is out of range";
var f=this.mem.readS32(k);if(1984>k)b.log("Reading from PIF rom ("+j(a)+"). Got "+j(f));else switch(k-1984){case 36:b.log("Reading CIC values: "+j(f));break;case 60:b.log("Reading Control byte: "+j(f));break;default:b.log("Reading from PI ram ["+j(a)+"]. Got "+j(f))}return f};U.readU32=function(b){return this.readS32(b)>>>0};U.readS8=function(a){var k=this.calcEA(a),f=T.readU8(k);if(1984>k)b.log("Reading from PIF rom ("+j(a)+"). Got "+q(f));else switch(k-1984){case 36:b.log("Reading CIC values: "+
q(f));break;case 60:b.log("Reading Control byte: "+q(f));break;default:b.log("Reading from PI ram ["+j(a)+"]. Got "+q(f))}return f};U.readU8=function(b){return this.mem.readS8(b)>>>0};U.write32=function(a,k){var f=this.calcEA(a);if(1984>f)b.log("Attempting to write to PIF ROM");else{var g=f-1984;this.mem.write32(f,k);switch(g){case 36:b.log("Writing CIC values: "+j(k));break;case 60:b.log("Writing Control byte: "+j(k));var f=new Uint8Array(T.arrayBuffer,0,1984),g=new Uint8Array(T.arrayBuffer,1984,
64),m=g[63];switch(m){case 1:b.log("PI: execute block\n");break;case 8:b.log("PI: interrupt control\n");g[63]=0;va.setBits32(S,ca);G.setBits32(P,Q);b.cpu0.updateCause3();break;case 16:b.log("PI: clear rom\n");for(m=0;m<f.length;++m)f[m]=0;break;case 48:b.log("PI: set 0x80 control \n");g[63]=128;break;case 192:b.log("PI: clear ram\n");for(m=0;m<g.length;++m)g[m]=0;break;default:b.halt("Unkown PI control value: "+q(m))}break;default:b.log("Writing directly to PI ram ["+j(a)+"] <-- "+j(k))}}};var fb=
function(){var b=[],a;for(a=0;16384>a;++a)b.push(void 0);[ga,na,gb,Za,Aa,ub,$a,ab,Ya,Ka,La,hb,qb,zb,ua,ha,da,Ba,Oa,Ca,U].map(function(a){var k,g=a.rangeEnd-1>>>18;for(k=a.rangeStart>>>18;k<=g;++k)b[k]=a});if(16384!==b.length)throw"initialisation error";return b}();b.readMemoryInternal32=function(b){var a=fb[b>>>18];return!a?3722304989:a?a.readInternal32(b):3722304989};b.readMemoryU32=function(b){return h(b).readU32(b)};b.readMemoryU16=function(b){return h(b).readU16(b)};b.readMemoryU8=function(b){return h(b).readU8(b)};
b.readMemoryS32=function(b){return h(b).readS32(b)};b.readMemoryS16=function(b){return h(b).readS16(b)};b.readMemoryS8=function(b){return h(b).readS8(b)};b.writeMemory32=function(b,a){return h(b).write32(b,a)};b.writeMemory16=function(b,a){return h(b).write16(b,a)};b.writeMemory8=function(b,a){return h(b).write8(b,a)};var nb={lookup:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeArray:function(b){var a="",f;for(f=0;f<b.length;f+=3){var g=b[f+0],m=b[f+1],h=b[f+2],l=g>>>2,
g=(g&3)<<4|m>>>4,m=(m&15)<<2|h>>>6,h=h&63;f+1>=b.length&&(m=64);f+2>=b.length&&(h=64);a+=this.lookup.charAt(l)+this.lookup.charAt(g)+this.lookup.charAt(m)+this.lookup.charAt(h)}return a},decodeArray:function(b,a){var f=0,g;for(g=0;g<b.length;g+=4){var m=this.lookup.indexOf(b.charAt(g+0)),h=this.lookup.indexOf(b.charAt(g+1)),l=this.lookup.indexOf(b.charAt(g+2)),u=this.lookup.indexOf(b.charAt(g+3)),m=m<<2|h>>>4,h=(h&15)<<4|l>>>2,j=(l&3)<<6|u;a[f++]=m;64!==l&&(a[f++]=h);64!==u&&(a[f++]=j)}}},y,Pa;b.emitRunningTime=
function(a){b.displayWarning("Time to "+a+" "+((new Date).getTime()-y.getTime()).toString())};b.onPresent=function(){var b=new Date;if(Pa){var a=b.getTime()-Pa.getTime(),a=g.name?"n64js - "+g.name+" - "+a+"mspf":"n64js - "+a+"mspf";$("#title").text(a)}Pa=b};b.reset=function(){function a(b,f,g){j.gprHi[b]=f;j.gprLo[b]=g}var m=g.country,f=g.cic;I=la=void 0;R=!1;Z(g.save);var h=[T,H,Ha,w,Ia,ta,G,ma,pb,Ja,Wa,va],l;for(l=0;l<h.length;++l)h[l].clear();b.cpu0.reset();b.cpu1.reset();b.resetRenderer();G.write32(4,
33685762);Wa.write32(12,1);u&&o(Ha,64,u,64,4032);var j=b.cpu0;j.control[j.kControlSR]=872415232;j.control[j.kControlConfig]=451683;j.control[j.kControlCount]=20480;j.control[j.kControlCause]=92;j.control[j.kControlContext]=8388592;j.control[j.kControlEPC]=4294967295;j.control[j.kControlBadVAddr]=4294967295;j.control[j.kControlErrorEPC]=4294967295;a(0,0,0);a(6,4294967295,2751471372);a(7,4294967295,2751471368);a(8,0,192);a(9,0,0);a(10,0,64);a(11,4294967295,2751463488);a(16,0,0);a(17,0,0);a(18,0,0);
a(19,0,0);a(21,0,0);a(26,0,0);a(27,0,0);a(28,0,0);a(29,4294967295,2751471600);a(30,0,0);switch(m){case 68:case 70:case 73:case 80:case 83:case 85:case 88:case 89:switch(f){case "6102":a(5,4294967295,3237075033);a(14,0,769722602);a(24,0,0);break;case "6103":a(5,4294967295,3563348595);a(14,0,452565380);a(24,0,0);break;case "6105":a(5,4294967295,3737823953);a(14,0,217603091);a(24,0,2);break;case "6106":a(5,4294967295,2957887747),a(14,0,452565380),a(24,0,2)}a(20,0,0);a(23,0,6);a(31,4294967295,2751468884);
break;default:switch(f){case "6102":a(5,4294967295,3378082773);a(14,0,608805734);break;case "6103":a(5,4294967295,2503039528);a(14,0,1538040287);break;case "6105":a(5,0,1418984346);a(14,4294967295,3267494788);break;case "6106":a(5,4294967295,3764855327),a(14,0,1557313295)}a(20,0,1);a(23,0,0);a(24,0,3);a(31,4294967295,2751468880)}switch(f){case "6101":a(22,0,63);break;case "6102":a(1,0,1);a(2,0,247309622);a(3,0,247309622);a(4,0,42294);a(12,4294967295,3977302195);a(13,0,335717580);a(15,0,822337825);
a(22,0,63);a(25,4294967295,2649470287);break;case "6103":a(1,0,1);a(2,0,1235611286);a(3,0,1235611286);a(4,0,61078);a(12,4294967295,3466460151);a(13,4294967295,3466460151);a(15,0,414596392);a(22,0,120);a(25,4294967295,2187010505);break;case "6105":a(1,0,0);a(2,4294967295,4119531455);a(3,4294967295,4119531455);a(4,0,4031);a(12,4294967295,2521954334);a(13,0,759343813);a(15,0,1448627552);a(22,0,145);a(25,4294967295,3452851807);break;case "6106":a(1,0,0),a(2,4294967295,2841194660),a(3,4294967295,2841194660),
a(4,0,12452),a(12,4294967295,3166016784),a(13,4294967295,3166016784),a(15,0,2050754548),a(22,0,133),a(25,0,1180581746)}j.pc=2751463488;y=new Date;Pa=void 0};b.verticalBlank=function(){if(za&&Ga){var a=nb.encodeArray(za.u8),a=JSON.stringify({name:g.name,id:g.id,data:a});localStorage.setItem("eeprom-"+g.id,a);Ga=!1}G.setBits32(P,8);b.cpu0.updateCause3();++Na};b.padString=function(a,b){for(var f=a.toString();f.length<b;)f="0"+f;return f};b.toHex=K;b.toString8=q;b.toString16=B;b.toString32=j;b.toString64=
function(a,b){var f=K(b,32);return"0x"+K(a,32)+f};b.miInterruptsUnmasked=function(){return 0!==(G.readU32(12)&G.readU32(P))};b.miIntrReg=function(){return G.readU32(P)};b.miIntrMaskReg=function(){return G.readU32(12)};b.viOrigin=function(){return ma.readU32(4)};b.viWidth=function(){return ma.readU32(8)};b.viXScale=function(){return ma.readU32(48)};b.viYScale=function(){return ma.readU32(52)};b.viHStart=function(){return ma.readU32(36)};b.viVStart=function(){return ma.readU32(40)};b.haltSP=function(){w.setBits32(16,
515)&64&&(G.setBits32(P,1),b.cpu0.updateCause3())};b.interruptDP=function(){G.setBits32(P,32);b.cpu0.updateCause3()};b.assert=function(a,b){if(!a)throw new A(b);};b.check=function(a,g){a||b.log(g)};b.warn=function(a){b.log(a)};b.halt=function(a){N=!1;b.cpu0.breakExecution();b.log('<span style="color:red">'+a+"</span>");b.displayError(a)};b.displayWarning=function(a){a=$('<div class="alert"><button class="close" data-dismiss="alert">\u00d7</button><strong>Warning!</strong> '+a+"</div>");$("#alerts").append(a)};
b.displayError=function(a){a=$('<div class="alert alert-error"><button class="close" data-dismiss="alert">\u00d7</button><strong>Error!</strong> '+a+"</div>");$("#alerts").append(a)};b.returnControlToSystem=function(){b.cpu0.breakExecution()};b.init=function(){na.quiet=!0;gb.quiet=!0;Za.quiet=!0;Aa.quiet=!0;ub.quiet=!0;Ka.quiet=!0;La.quiet=!0;hb.quiet=!0;qb.quiet=!0;ua.quiet=!0;Oa.quiet=!0;$a.quiet=!0;b.reset();$(".debug").hide();b.initialiseDebugger();b.initialiseRenderer($("#display"));$("body").keyup(function(a){b.handleKey(a.which,
!1)});$("body").keydown(function(a){b.handleKey(a.which,!0)});$(".tabbable a").on("shown",function(){b.refreshDebugger()});b.refreshDebugger()};b.togglePerformance=function(){r?($("#performance").html(""),r=null):(r=new Stats,r.setMode(1),r.domElement.style.position="relative",r.domElement.style.left="8px",r.domElement.style.top="0px",$("#performance").append(r.domElement))}})(window.n64js=window.n64js||{});
(function(){var b=0,K=["ms","moz","webkit","o"],q;for(q=0;q<K.length&&!window.requestAnimationFrame;++q)window.requestAnimationFrame=window[K[q]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[K[q]+"CancelAnimationFrame"]||window[K[q]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(q){var j=(new Date).getTime(),A=Math.max(0,16-(j-b)),t=window.setTimeout(function(){q(j+A)},A);b=j+A;return t});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();(function(b){function K(){this.global=this.mask=this.pfno=this.pfne=this.hi=this.pagemask=0}function q(){this.opsExecuted=0;this.ram=void 0;this.gprLoMem=new ArrayBuffer(128);this.gprHiMem=new ArrayBuffer(128);this.gprLoBytes=new Uint8Array(this.gprLoMem);this.gprLo=new Uint32Array(this.gprLoMem);this.gprHi=new Uint32Array(this.gprHiMem);this.gprLo_signed=new Int32Array(this.gprLoMem);this.gprHi_signed=new Int32Array(this.gprHiMem);this.controlMem=new ArrayBuffer(128);this.control=new Uint32Array(this.controlMem);
this.control_signed=new Int32Array(this.controlMem);this.stuffToDo=this.branchTarget=this.nextPC=this.delayPC=this.pc=0;this.events=[];this.multHiMem=new ArrayBuffer(8);this.multLoMem=new ArrayBuffer(8);this.multHi=new Uint32Array(this.multHiMem);this.multLo=new Uint32Array(this.multLoMem);this.multHi_signed=new Int32Array(this.multHiMem);this.multLo_signed=new Int32Array(this.multLoMem);this.tlbEntries=[];for(var d=0;32>d;++d)this.tlbEntries.push(new K);this.kRegister_r0=0;this.kRegister_at=1;this.kRegister_v0=
2;this.kRegister_v1=3;this.kRegister_a0=4;this.kRegister_a1=5;this.kRegister_a2=6;this.kRegister_a3=7;this.kRegister_t0=8;this.kRegister_t1=9;this.kRegister_t2=10;this.kRegister_t3=11;this.kRegister_t4=12;this.kRegister_t5=13;this.kRegister_t6=14;this.kRegister_t7=15;this.kRegister_s0=16;this.kRegister_s1=17;this.kRegister_s2=18;this.kRegister_s3=19;this.kRegister_s4=20;this.kRegister_s5=21;this.kRegister_s6=22;this.kRegister_s7=23;this.kRegister_t8=24;this.kRegister_t9=25;this.kRegister_k0=26;this.kRegister_k1=
27;this.kRegister_gp=28;this.kRegister_sp=29;this.kRegister_s8=30;this.kRegister_ra=31;this.kControlIndex=0;this.kControlRand=1;this.kControlEntryLo0=2;this.kControlEntryLo1=3;this.kControlContext=4;this.kControlPageMask=5;this.kControlWired=6;this.kControlBadVAddr=8;this.kControlCount=9;this.kControlEntryHi=10;this.kControlCompare=11;this.kControlSR=12;this.kControlCause=13;this.kControlEPC=14;this.kControlPRId=15;this.kControlConfig=16;this.kControlLLAddr=17;this.kControlWatchLo=18;this.kControlWatchHi=
19;this.kControlECC=26;this.kControlCacheErr=27;this.kControlTagLo=28;this.kControlTagHi=29;this.kControlErrorEPC=30}function B(d,a){this.type=d;this.countdown=a}function j(d){this.address=d}function A(d){return d>>>11&31}function t(d){return d>>>11&31}function o(d){return d>>>16&31}function p(d){return d>>>21&31}function z(d){return(d&65535)<<16>>16}function E(d){return d>>>21&31}function sa(d){return c.gprLo[E(d)]+z(d)}function v(d,a){return d+4+4*((a&65535)<<16>>16)>>>0}function aa(d,a){return(d&
4026531840|4*(a&67108863))>>>0}function D(d){c.branchTarget=d}function a(d,a){c.gprLo[d]=a;c.gprHi_signed[d]=a>>31}function s(d,a){d[0]=a;d[1]=a>>31}function h(d){return 0===d?"0":"rlo["+d+"]"}function C(d){return 0===d?"0":"rhi["+d+"]"}function Z(d){return b.readMemoryS32(d>>>0)}function r(d,a){var M=b.disassembleOp(d,a),M="Unimplemented op "+b.toString32(a)+" : "+M.disassembly;b.log(M);throw M;}function l(d){throw"Unknown op: "+b.toString32(c.pc)+", "+b.toString32(d);}function la(d,a){if(0===d.instruction)return J("/*NOP*/\n",
d);var b=d.instr_rd(),c=d.instr_rt(),e=d.instr_sa(),c=""+("var result = "+h(c)+" "+a+" "+e+";\n");return J(c+("rlo["+b+"] = result;\n")+("rhi["+b+"] = result >> 31;\n"),d)}function I(d,a){var b=d.instr_rd(),c=d.instr_rs(),e=d.instr_rt(),c=""+("var result = "+h(e)+" "+a+" ("+h(c)+" & 0x1f);\n");return J(c+("rlo["+b+"] = result;\n")+("rhi["+b+"] = result >> 31;\n"),d)}function P(d){var a=t(d),b=o(d),d=p(d),d=c.gprLo[d]&63,ia=c.gprLo[b],b=c.gprHi[b];32>d?(c.gprLo[a]=ia<<d,c.gprHi[a]=b<<d|ia>>>32-d):
(c.gprLo_signed[a]=0,c.gprHi_signed[a]=ia<<d-32)}function Q(d){var a=t(d),b=o(d),d=p(d),d=c.gprLo[d]&63,ia=c.gprLo[b],b=c.gprHi[b];32>d?(c.gprLo[a]=ia>>>d|b<<32-d,c.gprHi[a]=b>>>d):(c.gprLo[a]=b>>>d-32,c.gprHi_signed[a]=0)}function S(d){var a=t(d),b=o(d),d=p(d),d=c.gprLo[d]&63,ia=c.gprLo[b],b=c.gprHi_signed[b];32>d?(c.gprLo[a]=ia>>>d|b<<32-d,c.gprHi[a]=b>>d):(b>>=d-32,c.gprLo_signed[a]=b,c.gprHi_signed[a]=b>>31)}function ca(d){var a=t(d),b=o(d),d=d>>>6&31,ia=c.gprLo[b],b=c.gprHi[b];c.gprLo[a]=ia<<
d;c.gprHi[a]=b<<d|ia>>>32-d}function N(d){var a=t(d);c.gprLo_signed[a]=0;c.gprHi_signed[a]=c.gprLo[o(d)]<<(d>>>6&31)}function R(d){var a=t(d),b=o(d),d=d>>>6&31,ia=c.gprHi[b];c.gprLo[a]=c.gprLo[b]>>>d|ia<<32-d;c.gprHi[a]=ia>>>d}function Na(d){var a=t(d);c.gprLo[a]=c.gprHi[o(d)]>>>(d>>>6&31);c.gprHi_signed[a]=0}function m(d){var a=t(d),b=o(d),d=d>>>6&31,ia=c.gprHi_signed[b];c.gprLo[a]=c.gprLo[b]>>>d|ia<<32-d;c.gprHi[a]=ia>>d}function g(d){var a=t(d),d=c.gprHi_signed[o(d)]>>(d>>>6&31);c.gprLo_signed[a]=
d;c.gprHi_signed[a]=d>>31}function u(d){r(c.pc,d)}function T(d){r(c.pc,d)}function H(d){r(c.pc,d)}function Ha(d){d=c.getGPR_s64(p(d))*c.getGPR_s64(o(d));c.multLo[0]=d&4294967295;c.multLo[1]=b.getHi32(d);c.multHi_signed[0]=0;c.multHi_signed[1]=0}function w(d){d=c.getGPR_u64(p(d))*c.getGPR_u64(o(d));c.multLo[0]=d&4294967295;c.multLo[1]=b.getHi32(d);c.multHi_signed[0]=0;c.multHi_signed[1]=0}function Ia(d){var a=c.gprLo_signed[p(d)];if(d=c.gprLo_signed[o(d)])s(c.multLo,Math.floor(a/d)),s(c.multHi,a%d)}
function wa(d){var a=c.gprLo[p(d)];if(d=c.gprLo[o(d)])s(c.multLo,Math.floor(a/d)),s(c.multHi,a%d)}function ob(d){var a=p(d),d=o(d);if(0!==c.gprHi[a]+(c.gprLo[a]>>>31)+c.gprHi[d]+(c.gprLo[d]>>>31)){if(a=c.getGPR_s64(a),d=c.getGPR_s64(d)){var b=c.multLo;b[0]=Math.floor(a/d);b[1]=0;b=c.multHi;b[0]=a%d;b[1]=0}}else if(a=c.gprLo_signed[a],d=c.gprLo_signed[d])s(c.multLo,Math.floor(a/d)),s(c.multHi,a%d)}function ta(d){var a=p(d),d=o(d);0!==(c.gprHi[a]|c.gprHi[d])?(a=c.getGPR_u64(a),d=c.getGPR_u64(d)):(a=
c.gprLo[a],d=c.gprLo[d]);if(d){var b=c.multLo;b[0]=Math.floor(a/d);b[1]=0;b=c.multHi;b[0]=a%d;b[1]=0}}function G(d,a){var b=d.instr_rd(),c=d.instr_rs(),e=d.instr_rt(),c=""+("var result = "+h(c)+" "+a+" "+h(e)+";\n");return J(c+("rlo["+b+"] = result;\n")+("rhi["+b+"] = result >> 31;\n"),d)}function ma(d,a){var b=d.instr_rd(),c=d.instr_rs(),e=d.instr_rt(),f;f=""+("rlo["+b+"] = "+h(c)+" "+a+" "+h(e)+";\n");f+="rhi["+b+"] = "+C(c)+" "+a+" "+C(e)+";\n";return J(f,d)}function pb(d){c.setGPR_s64(t(d),c.getGPR_s64(p(d))+
c.getGPR_s64(o(d)))}function Ja(d){c.setGPR_s64(t(d),c.getGPR_s64(p(d))+c.getGPR_s64(o(d)))}function Wa(d){c.setGPR_s64(t(d),c.getGPR_s64(p(d))-c.getGPR_s64(o(d)))}function va(d){c.setGPR_s64(t(d),c.getGPR_s64(p(d))-c.getGPR_s64(o(d)))}function za(d){r(c.pc,d)}function Ga(d){r(c.pc,d)}function Xa(d){r(c.pc,d)}function ga(d){r(c.pc,d)}function na(d){r(c.pc,d)}function gb(d){r(c.pc,d)}function Ya(d){var a=A(d);a===c.kControlCause&&Fa();a===c.kControlRand?(a=o(d),d=c.getRandom(),c.gprLo[a]=d,c.gprHi_signed[a]=
0):(d=o(d),c.gprLo[d]=c.control[a],c.gprHi_signed[d]=0)}function Za(d){var a=A(d),d=c.gprLo[o(d)];switch(a){case c.kControlContext:b.log("Setting Context register to "+b.toString32(d));c.control[c.kControlContext]=d;break;case c.kControlWired:b.log("Setting Wired register to "+b.toString32(d));c.control[c.kControlRand]=31;c.control[c.kControlWired]=d;break;case c.kControlRand:case c.kControlBadVAddr:case c.kControlPRId:case c.kControlCacheErr:b.log("Attempted write to read-only cpu0 control register. "+
b.toString32(d)+" --\> "+b.cop0ControlRegisterNames[a]);break;case c.kControlCause:b.log("Setting cause register to "+b.toString32(d));b.check(0===d,"Should only write 0 to Cause register.");c.control[c.kControlCause]&=-769;c.control[c.kControlCause]|=d&768;break;case c.kControlSR:c.setSR(d);break;case c.kControlCount:c.control[c.kControlCount]=d;break;case c.kControlCompare:c.setCompare(d);break;case c.kControlEPC:case c.kControlEntryHi:case c.kControlEntryLo0:case c.kControlEntryLo1:case c.kControlIndex:case c.kControlPageMask:case c.kControlTagLo:case c.kControlTagHi:c.control[a]=
d;break;default:c.control[a]=d,b.log("Write to cpu0 control register. "+b.toString32(d)+" --\> "+b.cop0ControlRegisterNames[a])}}function Aa(d){switch(d&63){case 1:c.tlbRead();return;case 2:c.tlbWriteIndex();return;case 6:c.tlbWriteRandom();return;case 8:c.tlbProbe();return;case 24:c.control[c.kControlSR]&fc?(c.nextPC=c.control[c.kControlErrorEPC],c.control[c.kControlSR]&=~fc,b.log("ERET from error trap - "+c.nextPC)):(c.nextPC=c.control[c.kControlEPC],c.control[c.kControlSR]&=~gc);return}l(d)}function ub(d){r(c.pc,
d)}function $a(d){r(c.pc,d)}function ab(d){r(c.pc,d)}function Ka(d){r(c.pc,d)}function La(d){r(c.pc,d)}function hb(d){r(c.pc,d)}function qb(d){var a=p(d);0>c.gprHi_signed[a]||0===c.gprHi_signed[a]&&0===c.gprLo_signed[a]?D(v(c.pc,d)):c.nextPC+=4}function zb(d){var a=p(d);0<=c.gprHi_signed[a]&&(0!==c.gprHi_signed[a]||0!==c.gprLo_signed[a])?D(v(c.pc,d)):c.nextPC+=4}function ua(d){a(c.kRegister_ra,c.pc+8);0>c.gprHi_signed[p(d)]&&D(v(c.pc,d))}function ha(d){a(c.kRegister_ra,c.pc+8);0>c.gprHi_signed[p(d)]?
D(v(c.pc,d)):c.nextPC+=4}function Ba(d){a(c.kRegister_ra,c.pc+8);0<=c.gprHi_signed[p(d)]&&D(v(c.pc,d))}function da(d){a(c.kRegister_ra,c.pc+8);0<=c.gprHi_signed[p(d)]?D(v(c.pc,d)):c.nextPC+=4}function Oa(d){c.setGPR_s64(o(d),c.getGPR_s64(p(d))+z(d))}function U(d){c.setGPR_s64(o(d),c.getGPR_s64(p(d))+z(d))}function Ca(d){r(c.pc,d)}function Ua(d){var V=sa(d)>>>0,M=b.readMemoryU32((V&-4)>>>0),e=c.gprLo[o(d)];switch(V%4){case 0:V=M;break;case 1:V=e&255|M<<8;break;case 2:V=e&65535|M<<16;break;default:V=
e&16777215|M<<24}a(o(d),V)}function Va(d){var V=sa(d)>>>0,M=b.readMemoryU32((V&-4)>>>0),e=c.gprLo[o(d)];switch(V%4){case 0:V=e&4294967040|M>>>24;break;case 1:V=e&4294901760|M>>>16;break;case 2:V=e&4278190080|M>>>8;break;default:V=M}a(o(d),V)}function tb(d){r(c.pc,d)}function eb(d){r(c.pc,d)}function Ma(d){r(c.pc,d)}function ba(d){var a=sa(d),M=(a&-4)>>>0,e=b.readMemoryU32(M),d=c.gprLo[o(d)];switch(a%4){case 0:a=d;break;case 1:a=e&4278190080|d>>>8;break;case 2:a=e&4294901760|d>>>16;break;default:a=
e&4294967040|d>>>24}b.writeMemory32(M,a)}function ya(d){var a=sa(d),M=(a&-4)>>>0,e=b.readMemoryU32(M),d=c.gprLo[o(d)];switch(a%4){case 0:a=e&16777215|d<<24;break;case 1:a=e&65535|d<<16;break;case 2:a=e&255|d<<8;break;default:a=d}b.writeMemory32(M,a)}function fb(d){r(c.pc,d)}function nb(d){r(c.pc,d)}function y(d){r(c.pc,d)}function Pa(d){r(c.pc,d)}function F(d){r(c.pc,d)}function k(d){r(c.pc,d)}function f(d){var a;a="var cc = false;\nif (isNaN(fs+ft)) {\n";d&8&&(a+='  n64js.halt("should raise Invalid Operation here.");\n');
d&1&&(a+="  cc = true;\n");a+="} else {\n";d&4&&(a+="  cc |= fs < ft;\n");d&2&&(a+="  cc |= fs == ft;\n");return a+"}\nif (cc) { cpu1.control[31] |= FPCSR_C; } else { cpu1.control[31] &= ~FPCSR_C; }\n"}function x(d,a,c){var e=!1;isNaN(a+c)?(d&8&&b.halt("Should raise Invalid Operation here."),d&1&&(e=!0)):(d&4&&(e|=a<c),d&2&&(e|=a==c));n.setCondition(e)}function db(d){Kb[d>>>21&31](d)}function cc(){b.log("Thread accessing cop1 for first time, throwing cop1 unusable exception");b.assert(0===(c.control[c.kControlSR]&
Lb),"SR_CU1 in inconsistent state");c.throwCop1Unusable()}function ka(){this.fragment=void 0;this.post_pc=this.instruction=this.pc=0;this.bailOut=!1;this.needsDelayCheck=!0;this.isTrivial=!1;this.delayedPCUpdate=0;this.dump=!1}function Fa(){var d=b.miInterruptsUnmasked();b.assert(d===(0!==(c.control[c.kControlCause]&Mb)),"CAUSE_IP3 inconsistent with MI_INTR_REG")}function dc(){for(;0<c.events.length&&0>=c.events[0].countdown;){var d=c.events[0];c.events.splice(0,1);d.type===qa?c.stuffToDo|=Nb:d.type===
Da?(c.control[c.kControlCause]|=tc,c.checkForUnmaskedInterrupts()&&(c.stuffToDo|=rb)):d.type===Ab?(c.addEvent(Ab,Gb),b.verticalBlank(),c.stuffToDo|=Nb):b.halt("unhandled event!")}}function ec(d){this.minPC=this.entryPC=d;this.maxPC=d+4;this.func=void 0;this.executionCount=this.opsCompiled=0;this.bailedOut=!1;this.nextFragments=[];this.body_code="";this.needsDelayCheck=!0;this.usesCop1=this.cop1statusKnown=!1}function Jb(d){var a=Ob[d];if(!a){if(!uc)return null;a=vb[d]||0;a++;vb[d]=a;if(a<hc)return null;
a=new ec(d);Ob[d]=a}a.func||a.invalidate();return a}function mb(){var d;this.kNumEntries=16384;this.entries=[];for(d=0;d<this.kNumEntries;++d)this.entries.push({})}function Pb(d,a){return"string"===typeof d?Qb("n64js."+d+"("+b.toString32(a.instruction)+");\n",a):d(a)}function Qb(d,a){var c;c=""+a.genAssert("c.pc === "+b.toString32(a.pc),"pc mismatch");a.needsDelayCheck?c+="if (c.delayPC) { c.nextPC = c.delayPC; } else { c.nextPC = "+b.toString32(a.pc+4)+"; }\n":(c+=a.genAssert("c.delayPC === 0","delay pc should be zero"),
c+="c.nextPC = "+b.toString32(a.pc+4)+";\n");c=c+"c.branchTarget = 0;\n"+d+"c.pc = c.nextPC;\nc.delayPC = c.branchTarget;\n";a.needsDelayCheck=!0;sb&&(c+="c.control_signed[9] += 1;\n");a.bailOut?c+="return "+a.fragment.opsCompiled+";\n":(c+="if (c.stuffToDo) { return "+a.fragment.opsCompiled+"; }\n",c+="if (c.pc !== "+b.toString32(a.post_pc)+") { return "+a.fragment.opsCompiled+"; }\n");return c}function vc(d,a,c){var e;e=""+a.genAssert("c.pc === "+b.toString32(a.pc),"pc mismatch");a.needsDelayCheck?
(e+="if (c.delayPC) { c.nextPC = c.delayPC; c.delayPC = 0; } else { c.nextPC = "+b.toString32(a.pc+4)+"; }\n",e=e+d+"c.pc = c.nextPC;\n"):c?(e+=a.genAssert("c.delayPC === 0","delay pc should be zero"),e+="c.nextPC = "+b.toString32(a.pc+4)+";\n",e=e+d+"c.pc = c.nextPC;\n"):(e+=a.genAssert("c.delayPC === 0","delay pc should be zero"),e=e+d+("c.pc = "+b.toString32(a.pc+4)+";\n"));return e}function ja(d,a){var c;c=""+vc(d,a,!0);c+=a.genAssert("c.delayPC === 0","delay pc should be zero");a.needsDelayCheck=
!1;sb&&(c+="c.control_signed[9] += 1;\n");b.assert(!a.bailOut,"Not expecting bailOut to be set for memory access");c+="if (c.stuffToDo) { return "+a.fragment.opsCompiled+"; }\n";return c+="if (c.pc !== "+b.toString32(a.post_pc)+") { return "+a.fragment.opsCompiled+"; }\n"}function ea(d,a,c){var e=a.needsDelayCheck||c||a.post_pc!==a.pc+4,d=""+vc(d,a,c);a.needsDelayCheck=!0;sb&&(d+="c.control_signed[9] += 1;\n");d+=a.genAssert("c.stuffToDo === 0","stuffToDo should be zero");return d=a.bailOut?d+("return "+
a.fragment.opsCompiled+";\n"):e?d+("if (c.pc !== "+b.toString32(a.post_pc)+") { return "+a.fragment.opsCompiled+"; }\n"):d+"/* skipping pc test */\n"}function J(d,a){var c;c=""+d;a.isTrivial=!0;sb&&(c+="c.control_signed[9] += 1;\n");a.needsDelayCheck?(c+="if (c.delayPC) { c.pc = c.delayPC; c.delayPC = 0; } else { c.pc = "+b.toString32(a.pc+4)+"; }\n",c+="if (c.pc !== "+b.toString32(a.post_pc)+") { return "+a.fragment.opsCompiled+"; }\n"):(c+=a.genAssert("c.delayPC === 0","delay pc should be zero"),
a.post_pc!==a.pc+4?(b.assert("post_pc should always be pc+4 for trival ops?"),c+="c.pc = "+b.toString32(a.pc+4)+";\n",c+="if (c.pc !== "+b.toString32(a.post_pc)+") { return "+a.fragment.opsCompiled+"; }\n"):(c+="/* delaying pc update */\n",a.delayedPCUpdate=a.pc+4));c+=a.genAssert("c.delayPC === 0","delay pc should be zero");a.needsDelayCheck=!1;return c+=a.genAssert("c.stuffToDo === 0","stuffToDo should be zero")}var uc=!0,vb={},Ob={},ic=[],hc=500,sb=!1,gc=2,fc=4,Lb=536870912,Mb=1024,tc=32768,rb=
2,Nb=4,Gb=62500,Ab=0,Da=1,qa=2;b.getHi32=function(d){return Math.floor(d/4294967296)};K.prototype.update=function(d,a,b,c,e){this.pagemask=a;this.hi=b;this.pfne=c;this.pfno=e;this.global=c&e&1;this.mask=a|8191;this.mask2=this.mask>>>1;this.vpnmask=~this.mask>>>0;this.vpn2mask=this.vpnmask>>>1;this.addrcheck=(b&this.vpnmask)>>>0;this.pfnehi=this.pfne<<6&this.vpn2mask;this.pfnohi=this.pfno<<6&this.vpn2mask;switch(this.pagemask){case 0:this.checkbit=4096;break;case 24576:this.checkbit=16384;break;case 122880:this.checkbit=
65536;break;case 516096:this.checkbit=262144;break;case 2088960:this.checkbit=1048576;break;case 8380416:this.checkbit=4194304;break;case 33546240:this.checkbit=16777216;break;default:this.checkbit=0}};q.prototype.getCount=function(){return this.control[this.kControlCount]};q.prototype.getGPR_s64=function(d){return 4294967296*this.gprHi_signed[d]+this.gprLo[d]};q.prototype.getGPR_u64=function(d){return 4294967296*this.gprHi[d]+this.gprLo[d]};q.prototype.setGPR_s64=function(d,a){this.gprHi_signed[d]=
Math.floor(a/4294967296);this.gprLo_signed[d]=a};q.prototype.reset=function(){var d;vb={};Ob={};ic=[];this.ram=b.getRamU8Array();for(d=0;32>d;++d)this.gprLo[d]=0,this.gprHi[d]=0,this.control[d]=0;for(d=0;32>d;++d)this.tlbEntries[d].update(d,0,2147483648,0,0);this.stuffToDo=this.branchTarget=this.nextPC=this.delayPC=this.pc=0;this.events=[];this.multLo[0]=this.multLo[1]=0;this.multHi[0]=this.multHi[1]=0;this.control[this.kControlRand]=31;this.control[this.kControlSR]=1883242500;this.control[this.kControlConfig]=
451683;this.addEvent(Ab,Gb)};q.prototype.breakExecution=function(){this.stuffToDo|=1};q.prototype.speedHack=function(){if(0===b.readMemoryInternal32(this.pc+4))if(0<this.events.length){var d=0;this.events[0].type===qa&&1<this.events.length&&(d+=this.events[0].countdown,this.events.splice(0,1));this.control[this.kControlCount]+=d+this.events[0].countdown-1;this.events[0].countdown=1;d&&this.addEvent(qa,d)}else b.log("no events")};q.prototype.updateCause3=function(){b.miInterruptsUnmasked()?(this.control[this.kControlCause]|=
Mb,this.checkForUnmaskedInterrupts()&&(this.stuffToDo|=rb)):this.control[this.kControlCause]&=~Mb;Fa()};q.prototype.setSR=function(d){(this.control[this.kControlSR]&67108864)!==(d&67108864)&&b.log("Changing FPU to "+(d&67108864?"64bit":"32bit"));this.control[this.kControlSR]=d;Hb[17]=0!==(d&Lb)?db:cc;this.checkForUnmaskedInterrupts()&&(this.stuffToDo|=rb)};q.prototype.checkForUnmaskedInterrupts=function(){var d=this.control[this.kControlSR];return 1===(d&(gc|fc|1))&&0!==(d&this.control[this.kControlCause]&
65280)?!0:!1};q.prototype.throwTLBException=function(d,a,b){this.control[this.kControlBadVAddr]=d;this.control[this.kControlContext]&=4286578688;this.control[this.kControlContext]|=d>>>13<<4;this.control[this.kControlEntryHi]&=8191;this.control[this.kControlEntryHi]|=d&68719468544;this.setException(124,a);this.nextPC=b};q.prototype.throwTLBReadMiss=function(d){this.throwTLBException(d,8,2147483648)};q.prototype.throwTLBWriteMiss=function(d){this.throwTLBException(d,12,2147483648)};q.prototype.throwTLBReadInvalid=
function(d){this.throwTLBException(d,8,2147484032)};q.prototype.throwTLBWriteInvalid=function(d){this.throwTLBException(d,12,2147484032)};q.prototype.throwCop1Unusable=function(){this.setException(805306492,268435500);this.nextPC=2147484032};q.prototype.handleInterrupt=function(){this.checkForUnmaskedInterrupts()?(this.setException(124,0),this.pc=2147484032,this.delayPC=0):b.assert(!1,"Was expecting an unmasked interrupt - something wrong with kStuffToDoCheckInterrupts?")};q.prototype.setException=
function(d,a){this.control[this.kControlCause]&=~d;this.control[this.kControlCause]|=a;this.control[this.kControlSR]|=gc;this.control[this.kControlEPC]=this.pc;this.delayPC?(this.control[this.kControlCause]|=-2147483648,this.control[this.kControlEPC]-=4):this.control[this.kControlCause]&=2147483647};q.prototype.setCompare=function(d){this.control[this.kControlCause]&=~tc;if(d!==this.control[this.kControlCompare]&&0!==d){var a=this.control[this.kControlCount];d>a?(a=d-a,this.removeEventsOfType(Da),
this.addEvent(Da,a)):b.warn("setCompare underflow - was"+b.toString32(a)+", setting to "+d)}this.control[this.kControlCompare]=d};B.prototype.getName=function(){switch(this.type){case Ab:return"Vbl";case Da:return"Compare";case qa:return"Run"}return"?"};q.prototype.addEvent=function(d,a){b.assert(0<a,"Countdown is invalid");for(var c=0;c<this.events.length;++c){var e=this.events[c];if(a<=e.countdown){e.countdown-=a;this.events.splice(c,0,new B(d,a));return}a-=e.countdown}this.events.push(new B(d,
a))};q.prototype.removeEventsOfType=function(d){for(var a=0,b=0;b<this.events.length;++b)if(a+=this.events[b].countdown,this.events[b].type==d)return b+1<this.events.length&&(this.events[b+1].countdown+=this.events[b].countdown),this.events.splice(b,1),a;return-1};q.prototype.hasEvent=function(d){for(var a=0;a<this.events.length;++a)if(this.events[a].type==d)return!0;return!1};q.prototype.getRandom=function(){var d=this.control[this.kControlWired]&31,a=Math.floor(Math.random()*(32-d))+d,c=b.getSyncFlow();
c&&(a=c.reflect32(a));b.assert(a>=d&&31>=a,"Ooops - random should be in range "+d+"..31, but got "+a);return a};q.prototype.setTLB=function(d,a){d.tlbEntries[a].update(a,d.control[d.kControlPageMask],d.control[d.kControlEntryHi],d.control[d.kControlEntryLo0],d.control[d.kControlEntryLo1])};q.prototype.tlbWriteIndex=function(){this.setTLB(this,this.control[this.kControlIndex]&31)};q.prototype.tlbWriteRandom=function(){this.setTLB(this,this.getRandom())};q.prototype.tlbRead=function(){var d=this.tlbEntries[this.control[this.kControlIndex]&
31];this.control[this.kControlPageMask]=d.mask;this.control[this.kControlEntryHi]=d.hi;this.control[this.kControlEntryLo0]=d.pfne|d.global;this.control[this.kControlEntryLo1]=d.pfno|d.global};q.prototype.tlbProbe=function(){for(var d=this.control[this.kControlEntryHi],a=d&4294959104,d=d&255,b=0;32>b;++b){var c=this.tlbEntries[b];if((c.hi&4294959104)===a&&((c.hi&255)===d||c.global)){this.control[this.kControlIndex]=b;return}}this.control[this.kControlIndex]=2147483648};q.prototype.tlbFindEntry=function(d){for(var a=
0;32>a;++a){var b=this.tlbEntries[a];if((d&b.vpnmask)===b.addrcheck&&(b.global||(b.hi&255)===(this.control[this.kControlEntryHi]&255)))return b}return null};q.prototype.translateReadInternal=function(d){var a=this.tlbFindEntry(d);if(a){var b;d&a.checkbit?(b=0!==(a.pfno&2),d=a.pfnohi|d&a.mask2):(b=0!==(a.pfne&2),d=a.pfnehi|d&a.mask2);if(b)return d}return 0};q.prototype.translateRead=function(d){var a=this.tlbFindEntry(d);if(a){var b;d&a.checkbit?(b=0!==(a.pfno&2),a=a.pfnohi|d&a.mask2):(b=0!==(a.pfne&
2),a=a.pfnehi|d&a.mask2);if(b)return a;this.throwTLBReadInvalid(d);throw new j(d);}this.throwTLBReadMiss(d);throw new j(d);};q.prototype.translateWrite=function(d){var a=this.tlbFindEntry(d);if(a){var b;d&a.checkbit?(b=0!==(a.pfno&2),a=a.pfnohi|d&a.mask2):(b=0!==(a.pfne&2),a=a.pfnehi|d&a.mask2);if(b)return a;this.throwTLBWriteInvalid(d);throw new j(d);}this.throwTLBWriteMiss(d);throw new j(d);};var c=new q,n=new function(){this.control=new Uint32Array(32);this.mem=new ArrayBuffer(128);this.float32=
new Float32Array(this.mem);this.float64=new Float64Array(this.mem);this.int32=new Int32Array(this.mem);this.uint32=new Uint32Array(this.mem);this.reset=function(){for(var d=0;32>d;++d)this.control[d]=0,this.int32[d]=0;this.control[0]=1297};this.setCondition=function(d){this.control[31]=d?this.control[31]|8388608:this.control[31]&-8388609};this.store_64=function(d,a,b){this.int32[d+0]=a;this.int32[d+1]=b};this.load_f64=function(d){return this.float64[d>>1]};this.load_s64_as_double=function(d){return 4294967296*
this.int32[d+1]+this.int32[d]};this.store_float_as_long=function(d,a){this.int32[d]=a&4294967295;this.int32[d+1]=Math.floor(a/4294967296)};this.store_f64=function(d,a){this.float64[d>>1]=a}};b.cpu0=c;b.cpu1=n;b.load_u8=function(d,a){return-2139095040>a?d[a+2147483648|0]:b.readMemoryU8(a>>>0)};b.load_s8=function(d,a){return-2139095040>a?d[a+2147483648|0]<<24>>24:b.readMemoryS8(a>>>0)};b.load_u16=function(d,a){if(-2139095040>a){var c=a+2147483648|0;return d[c]<<8|d[c+1]}return b.readMemoryU16(a>>>0)};
b.load_s16=function(d,a){if(-2139095040>a){var c=a+2147483648|0;return(d[c]<<24|d[c+1]<<16)>>16}return b.readMemoryS16(a>>>0)};b.load_u32=function(d,a){if(-2139095040>a){var c=a+2147483648|0;return(d[c]<<24|d[c+1]<<16|d[c+2]<<8|d[c+3])>>>0}return b.readMemoryU32(a>>>0)};b.load_s32=function(d,a){if(-2139095040>a){var b=a+2147483648|0;return d[b]<<24|d[b+1]<<16|d[b+2]<<8|d[b+3]|0}return Z(a)};b.store_8=function(d,a,c){-2139095040>a?d[a+2147483648|0]=c:b.writeMemory8(a>>>0,c)};b.store_16=function(d,
a,c){-2139095040>a?(a=a+2147483648|0,d[a]=c>>8,d[a+1]=c):b.writeMemory16(a>>>0,c)};b.store_32=function(d,a,c){-2139095040>a?(a=a+2147483648|0,d[a+0]=c>>24,d[a+1]=c>>16,d[a+2]=c>>8,d[a+3]=c):b.writeMemory32(a>>>0,c)};b.store_64=function(d,a,c,e){-2139095040>a?(a=a+2147483648|0,d[a+0]=e>>24,d[a+1]=e>>16,d[a+2]=e>>8,d[a+3]=e,d[a+4]=c>>24,d[a+5]=c>>16,d[a+6]=c>>8,d[a+7]=c):(b.writeMemory32(a>>>0,e),b.writeMemory32(a+4>>>0,c))};b.trunc=function(d){return 0>d?Math.ceil(d):Math.floor(d)};b.convert=function(d){switch(n.control[31]&
3){case 0:return Math.round(d);case 1:return b.trunc(d);case 2:return Math.ceil(d);case 3:return Math.floor(d)}b.assert("unknown rounding mode")};var oa=[function(d){if(0!==d){var a=t(d),b=o(d),d=c.gprLo_signed[b]<<(d>>>6&31);c.gprLo_signed[a]=d;c.gprHi_signed[a]=d>>31}},l,function(d){var a=t(d),b=o(d),d=c.gprLo_signed[b]>>>(d>>>6&31);c.gprLo_signed[a]=d;c.gprHi_signed[a]=d>>31},function(d){var a=t(d),b=o(d),d=c.gprLo_signed[b]>>(d>>>6&31);c.gprLo_signed[a]=d;c.gprHi_signed[a]=d>>31},function(d){var a=
t(d),b=p(d),d=o(d),b=c.gprLo_signed[d]<<(c.gprLo_signed[b]&31);c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},l,function(d){var a=t(d),b=p(d),d=o(d),b=c.gprLo_signed[d]>>>(c.gprLo_signed[b]&31);c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},function(d){var a=t(d),b=p(d),d=o(d),b=c.gprLo_signed[d]>>(c.gprLo_signed[b]&31);c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},function(d){D(c.gprLo[p(d)])},function(d){var b=c.gprLo[p(d)];a(t(d),c.pc+8);D(b)},l,l,u,T,l,H,function(d){d=t(d);c.gprLo_signed[d]=c.multHi_signed[0];
c.gprHi_signed[d]=c.multHi_signed[1]},function(d){d=p(d);c.multHi_signed[0]=c.gprLo_signed[d];c.multHi_signed[1]=c.gprHi_signed[d]},function(d){d=t(d);c.gprLo_signed[d]=c.multLo_signed[0];c.gprHi_signed[d]=c.multLo_signed[1]},function(d){d=p(d);c.multLo_signed[0]=c.gprLo_signed[d];c.multLo_signed[1]=c.gprHi_signed[d]},P,l,Q,S,function(d){var a=c.gprLo_signed[p(d)]*c.gprLo_signed[o(d)],d=a&4294967295,a=b.getHi32(a);c.multLo[0]=d;c.multLo[1]=d>>31;c.multHi[0]=a;c.multHi[1]=a>>31},function(d){var a=
c.gprLo[p(d)]*c.gprLo[o(d)],d=a&4294967295,a=b.getHi32(a);c.multLo[0]=d;c.multLo[1]=d>>31;c.multHi[0]=a;c.multHi[1]=a>>31},Ia,wa,Ha,w,ob,ta,function(d){var a=t(d),b=p(d),d=o(d),b=c.gprLo_signed[b]+c.gprLo_signed[d];c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},function(d){var a=t(d),b=p(d),d=o(d),b=c.gprLo_signed[b]+c.gprLo_signed[d];c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},function(d){var a=t(d),b=p(d),d=o(d),b=c.gprLo_signed[b]-c.gprLo_signed[d];c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},function(d){var a=
t(d),b=p(d),d=o(d),b=c.gprLo_signed[b]-c.gprLo_signed[d];c.gprLo_signed[a]=b;c.gprHi_signed[a]=b>>31},function(d){var a=t(d),b=p(d),d=o(d);c.gprHi_signed[a]=c.gprHi_signed[b]&c.gprHi_signed[d];c.gprLo_signed[a]=c.gprLo_signed[b]&c.gprLo_signed[d]},function(d){var a=t(d),b=p(d),d=o(d);c.gprHi_signed[a]=c.gprHi_signed[b]|c.gprHi_signed[d];c.gprLo_signed[a]=c.gprLo_signed[b]|c.gprLo_signed[d]},function(d){var a=t(d),b=p(d),d=o(d);c.gprHi_signed[a]=c.gprHi_signed[b]^c.gprHi_signed[d];c.gprLo_signed[a]=
c.gprLo_signed[b]^c.gprLo_signed[d]},function(d){var a=t(d),b=p(d),d=o(d);c.gprHi_signed[a]=~(c.gprHi_signed[b]|c.gprHi_signed[d]);c.gprLo_signed[a]=~(c.gprLo_signed[b]|c.gprLo_signed[d])},l,l,function(d){var a=t(d),b=p(d),d=o(d),e=0;c.gprHi_signed[b]<c.gprHi_signed[d]?e=1:c.gprHi_signed[b]===c.gprHi_signed[d]&&(e=c.gprLo[b]<c.gprLo[d]?1:0);c.gprLo_signed[a]=e;c.gprHi_signed[a]=0},function(d){var a=t(d),b=p(d),d=o(d),e=0;if(c.gprHi[b]<c.gprHi[d]||c.gprHi_signed[b]===c.gprHi_signed[d]&&c.gprLo[b]<
c.gprLo[d])e=1;c.gprLo_signed[a]=e;c.gprHi_signed[a]=0},pb,Ja,Wa,va,za,Ga,Xa,ga,na,l,gb,l,ca,l,R,m,N,l,Na,g];if(64!=oa.length)throw"Oops, didn't build the special table correctly";b.executeUnknown=l;var bb=[Ya,l,l,l,Za,l,l,l,l,l,l,l,l,l,l,l,Aa,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l];if(32!=bb.length)throw"Oops, didn't build the cop0 table correctly";var W=["executeMFC0","executeUnknown","executeUnknown","executeUnknown",function(d){d.instr_fs()===c.kControlSR&&(d.fragment.cop1statusKnown=!1);var a;a=""+("n64js.executeMTC0("+
b.toString32(d.instruction)+");\n");return Qb(a,d)},"executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeTLB","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown"];
if(32!=W.length)throw"Oops, didn't build the cop0 table correctly";b.executeMFC0=Ya;b.executeMTC0=Za;b.executeTLB=Aa;var Kb=[function(d){var a=o(d),d=A(d),d=n.int32[d];c.gprLo_signed[a]=d;c.gprHi_signed[a]=d>>31},function(d){var a=o(d),d=A(d);c.gprLo_signed[a]=n.int32[d];c.gprHi_signed[a]=n.int32[d+1]},function(d){var a=A(d),d=o(d);switch(a){case 0:case 31:a=n.control[a],c.gprLo_signed[d]=a,c.gprHi_signed[d]=a>>31}},l,function(d){n.int32[A(d)]=c.gprLo_signed[o(d)]},function(d){var a=A(d),d=o(d);n.int32[a+
0]=c.gprLo_signed[d];n.int32[a+1]=c.gprHi_signed[d]},function(d){var a=A(d),d=o(d);31===a&&(n.control[a]=c.gprLo[d])},l,function(d){b.assert(0===(d>>>18&7),"cc bit is not 0");var a=0!==(d&131072);0!==(n.control[31]&8388608)===(0!==(d&65536))?D(v(c.pc,d)):a&&(c.nextPC+=4)},l,l,l,l,l,l,l,function(d){var a=A(d),e=d>>>16&31,f=d>>>6&31,g=d&63;if(48>g){switch(g){case 0:n.float32[f]=n.float32[a]+n.float32[e];return;case 1:n.float32[f]=n.float32[a]-n.float32[e];return;case 2:n.float32[f]=n.float32[a]*n.float32[e];
return;case 3:n.float32[f]=n.float32[a]/n.float32[e];return;case 4:n.float32[f]=Math.sqrt(n.float32[a]);return;case 5:n.float32[f]=Math.abs(n.float32[a]);return;case 6:n.float32[f]=n.float32[a];return;case 7:n.float32[f]=-n.float32[a];return;case 8:n.store_float_as_long(f,Math.round(n.float32[a]));return;case 9:n.store_float_as_long(f,b.trunc(n.float32[a]));return;case 10:n.store_float_as_long(f,Math.ceil(n.float32[a]));return;case 11:n.store_float_as_long(f,Math.floor(n.float32[a]));return;case 12:n.int32[f]=
Math.round(n.float32[a])|0;return;case 13:n.int32[f]=b.trunc(n.float32[a])|0;return;case 14:n.int32[f]=Math.ceil(n.float32[a])|0;return;case 15:n.int32[f]=Math.floor(n.float32[a])|0;return;case 32:r(c.pc,d);return;case 33:n.store_f64(f,n.float32[a]);return;case 36:n.int32[f]=b.convert(n.float32[a])|0;return;case 37:r(c.pc,d);return}r(c.pc,d)}else x(g,n.float32[a],n.float32[e])},function(d){var a=A(d),e=d>>>16&31,f=d>>>6&31,g=d&63;if(48>g){switch(g){case 0:n.store_f64(f,n.load_f64(a)+n.load_f64(e));
return;case 1:n.store_f64(f,n.load_f64(a)-n.load_f64(e));return;case 2:n.store_f64(f,n.load_f64(a)*n.load_f64(e));return;case 3:n.store_f64(f,n.load_f64(a)/n.load_f64(e));return;case 4:n.store_f64(f,Math.sqrt(n.load_f64(a)));return;case 5:n.store_f64(f,Math.abs(n.load_f64(a)));return;case 6:n.store_f64(f,n.load_f64(a));return;case 7:n.store_f64(f,-n.load_f64(a));return;case 8:n.store_float_as_long(f,Math.round(n.load_f64(a)));return;case 9:n.store_float_as_long(f,b.trunc(n.load_f64(a)));return;case 10:n.store_float_as_long(f,
Math.ceil(n.load_f64(a)));return;case 11:n.store_float_as_long(f,Math.floor(n.load_f64(a)));return;case 12:n.int32[f]=Math.round(n.load_f64(a))|0;return;case 13:n.int32[f]=b.trunc(n.load_f64(a))|0;return;case 14:n.int32[f]=Math.ceil(n.load_f64(a))|0;return;case 15:n.int32[f]=Math.floor(n.load_f64(a))|0;return;case 32:n.float32[f]=n.load_f64(a);return;case 33:r(c.pc,d);return;case 36:n.int32[f]=b.convert(n.load_f64(a))|0;return;case 37:r(c.pc,d);return}r(c.pc,d)}else d=n.load_f64(a),e=n.load_f64(e),
x(g,d,e)},l,l,function(a){var b=A(a),e=a>>>6&31;switch(a&63){case 32:n.float32[e]=n.int32[b];return;case 33:n.store_f64(e,n.int32[b]);return}r(c.pc,a)},function(a){var b=A(a),e=a>>>6&31;switch(a&63){case 32:n.float32[e]=n.load_s64_as_double(b);return;case 33:n.store_f64(e,n.load_s64_as_double(b));return}r(c.pc,a)},l,l,l,l,l,l,l,l,l,l];if(32!=Kb.length)throw"Oops, didn't build the cop1 table correctly";var ib=[function(a){var b=a.instr_rt(),c=a.instr_fs();a.fragment.usesCop1=!0;a.isTrivial=!0;return""+
("var result = cpu1.int32["+c+"];\n")+("rlo["+b+"] = result;\n")+("rhi["+b+"] = result >> 31;\n")},function(a){var b=a.instr_rt(),c=a.instr_fs();a.fragment.usesCop1=!0;a.isTrivial=!0;return""+("rlo["+b+"] = cpu1.int32["+c+"];\n")+("rhi["+b+"] = cpu1.int32["+(c+1)+"];\n")},function(a){var b=a.instr_fs(),c=a.instr_rt();a.fragment.usesCop1=!0;a.isTrivial=!0;switch(b){case 0:case 31:return""+("var value = cpu1.control["+b+"];\n")+("rlo["+c+"] = value;\n")+("rhi["+c+"] = value >> 31;\n")}return"/*CFC1 invalid reg*/\n"},
"executeUnknown",function(a){var b=a.instr_fs(),c=a.instr_rt();a.fragment.usesCop1=!0;a.isTrivial=!0;return"cpu1.int32["+b+"] = rlo["+c+"];\n"},function(a){var b=a.instr_fs(),c=a.instr_rt();a.fragment.usesCop1=!0;a.isTrivial=!0;return""+("cpu1.int32["+b+"] = rlo["+c+"];\n")+("cpu1.int32["+(b+1)+"] = rhi["+c+"];\n")},function(a){var b=a.instr_fs(),c=a.instr_rt();a.fragment.usesCop1=!0;a.isTrivial=!0;return 31===b?"cpu1.control["+b+"] = rlo["+c+"];\n":"/*CTC1 invalid reg*/\n"},"executeUnknown",function(a){var c=
a.instruction;b.assert(0===(c>>>18&7),"cc bit is not 0");var e=0!==(c&65536),f=0!==(c&131072),c=v(a.pc,c);a.fragment.usesCop1=!0;a.isTrivial=!1;a=""+("if ((cpu1.control[31] & FPCSR_C) "+(e?"!==":"===")+" 0) {\n")+("  c.branchTarget = "+b.toString32(c)+";\n");f&&(a+="} else {\n  c.nextPC += 4;\n");return a+"}\n"},"executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown",function(a){var c=a.instr_fs(),e=a.instr_ft(),g=a.instr_fd();a.fragment.usesCop1=
!0;a.isTrivial=!0;var m=a.instruction&63;if(48>m){switch(m){case 0:return"cpu1.float32["+g+"] = cpu1.float32["+c+"] + cpu1.float32["+e+"];\n";case 1:return"cpu1.float32["+g+"] = cpu1.float32["+c+"] - cpu1.float32["+e+"];\n";case 2:return"cpu1.float32["+g+"] = cpu1.float32["+c+"] * cpu1.float32["+e+"];\n";case 3:return"cpu1.float32["+g+"] = cpu1.float32["+c+"] / cpu1.float32["+e+"];\n";case 4:return"cpu1.float32["+g+"] = Math.sqrt( cpu1.float32["+c+"] );\n";case 5:return"cpu1.float32["+g+"] = Math.abs(  cpu1.float32["+
c+"] );\n";case 6:return"cpu1.float32["+g+"] =  cpu1.float32["+c+"];\n";case 7:return"cpu1.float32["+g+"] = -cpu1.float32["+c+"];\n";case 8:return"cpu1.store_float_as_long("+g+",  Math.round( cpu1.float32["+c+"]));\n";case 9:return"cpu1.store_float_as_long("+g+", n64js.trunc( cpu1.float32["+c+"]));\n";case 10:return"cpu1.store_float_as_long("+g+",  Math.ceil(  cpu1.float32["+c+"]));\n";case 11:return"cpu1.store_float_as_long("+g+",  Math.floor( cpu1.float32["+c+"]));\n";case 12:return"cpu1.int32["+
g+"] =  Math.round( cpu1.float32["+c+"] );\n";case 13:return"cpu1.int32["+g+"] = n64js.trunc( cpu1.float32["+c+"] );\n";case 14:return"cpu1.int32["+g+"] =  Math.ceil(  cpu1.float32["+c+"] );\n";case 15:return"cpu1.int32["+g+"] =  Math.floor( cpu1.float32["+c+"] );\n";case 33:return"cpu1.store_f64( "+g+", cpu1.float32["+c+"] );\n";case 36:return"cpu1.int32["+g+"] = n64js.convert( cpu1.float32["+c+"] );\n"}return"unimplemented("+b.toString32(a.pc)+","+b.toString32(a.instruction)+");\n"}return a=""+
("var fs = cpu1.float32["+c+"];\n")+("var ft = cpu1.float32["+e+"];\n")+f(m)},function(a){var c=a.instr_fs(),e=a.instr_ft(),g=a.instr_fd();a.fragment.usesCop1=!0;a.isTrivial=!0;var m=a.instruction&63;if(48>m){switch(m){case 0:return"cpu1.store_f64( "+g+", cpu1.load_f64( "+c+" ) + cpu1.load_f64( "+e+" ) );\n";case 1:return"cpu1.store_f64( "+g+", cpu1.load_f64( "+c+" ) - cpu1.load_f64( "+e+" ) );\n";case 2:return"cpu1.store_f64( "+g+", cpu1.load_f64( "+c+" ) * cpu1.load_f64( "+e+" ) );\n";case 3:return"cpu1.store_f64( "+
g+", cpu1.load_f64( "+c+" ) / cpu1.load_f64( "+e+" ) );\n";case 4:return"cpu1.store_f64( "+g+", Math.sqrt( cpu1.load_f64( "+c+" ) ) );\n";case 5:return"cpu1.store_f64( "+g+", Math.abs(  cpu1.load_f64( "+c+" ) ) );\n";case 6:return"cpu1.store_f64( "+g+",  cpu1.load_f64( "+c+" ) );\n";case 7:return"cpu1.store_f64( "+g+", -cpu1.load_f64( "+c+" )  );\n";case 8:return"cpu1.store_float_as_long("+g+",  Math.round( cpu1.load_f64( "+c+" )));\n";case 9:return"cpu1.store_float_as_long("+g+", n64js.trunc( cpu1.load_f64( "+
c+" )));\n";case 10:return"cpu1.store_float_as_long("+g+",  Math.ceil(  cpu1.load_f64( "+c+" )));\n";case 11:return"cpu1.store_float_as_long("+g+",  Math.floor( cpu1.load_f64( "+c+" )));\n";case 12:return"cpu1.int32["+g+"] =  Math.round( cpu1.load_f64( "+c+" ) ) | 0;\n";case 13:return"cpu1.int32["+g+"] = n64js.trunc( cpu1.load_f64( "+c+" ) ) | 0;\n";case 14:return"cpu1.int32["+g+"] =  Math.ceil(  cpu1.load_f64( "+c+" ) ) | 0;\n";case 15:return"cpu1.int32["+g+"] =  Math.floor( cpu1.load_f64( "+c+" ) ) | 0;\n";
case 32:return"cpu1.float32["+g+"] = cpu1.load_f64( "+c+" );\n";case 36:return"cpu1.int32["+g+"] = n64js.convert( cpu1.load_f64( "+c+" ) ) | 0;\n"}return"unimplemented("+b.toString32(a.pc)+","+b.toString32(a.instruction)+");\n"}return a=""+("var fs = cpu1.load_f64("+c+");\n")+("var ft = cpu1.load_f64("+e+");\n")+f(m)},"executeUnknown","executeUnknown",function(a){var c=a.instr_fs(),e=a.instr_fd();a.fragment.usesCop1=!0;a.isTrivial=!0;switch(a.instruction&63){case 32:return"cpu1.float32["+e+"] = cpu1.int32["+
c+"];\n";case 33:return"cpu1.store_f64("+e+", cpu1.int32["+c+"]);\n"}return"unimplemented("+b.toString32(a.pc)+","+b.toString32(a.instruction)+");\n"},function(a){var c=a.instr_fs(),e=a.instr_fd();a.fragment.usesCop1=!0;a.isTrivial=!0;switch(a.instruction&63){case 32:return"cpu1.float32["+e+"] = cpu1.load_s64_as_double("+c+");\n";case 33:return"cpu1.store_f64("+e+", cpu1.load_s64_as_double("+c+") );\n"}return"unimplemented("+b.toString32(a.pc)+","+b.toString32(a.instruction)+");\n"},"executeUnknown",
"executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown"];if(32!=ib.length)throw"Oops, didn't build the cop1 gen table correctly";var O=[function(a){0>c.gprHi_signed[p(a)]&&D(v(c.pc,a))},function(a){0<=c.gprHi_signed[p(a)]&&D(v(c.pc,a))},function(a){0>c.gprHi_signed[p(a)]?D(v(c.pc,a)):c.nextPC+=4},function(a){0<=c.gprHi_signed[p(a)]?D(v(c.pc,a)):c.nextPC+=4},l,l,l,l,ub,$a,ab,Ka,La,l,hb,l,ua,Ba,ha,da,l,
l,l,l,l,l,l,l,l,l,l,l];if(32!=O.length)throw"Oops, didn't build the regimm table correctly";var Hb=[function(a){oa[a&63](a)},function(a){return O[a>>>16&31](a)},function(a){D(aa(c.pc,a))},function(d){a(c.kRegister_ra,c.pc+8);D(aa(c.pc,d))},function(a){var b=p(a),e=o(a);c.gprHi_signed[b]===c.gprHi_signed[e]&&c.gprLo_signed[b]===c.gprLo_signed[e]&&(-1===(a&65535)<<16>>16&&c.speedHack(),D(v(c.pc,a)))},function(a){var b=p(a),e=o(a);(c.gprHi_signed[b]!==c.gprHi_signed[e]||c.gprLo_signed[b]!==c.gprLo_signed[e])&&
D(v(c.pc,a))},function(a){var b=p(a);(0>c.gprHi_signed[b]||0===c.gprHi_signed[b]&&0===c.gprLo_signed[b])&&D(v(c.pc,a))},function(a){var b=p(a);0<=c.gprHi_signed[b]&&(0!==c.gprHi_signed[b]||0!==c.gprLo_signed[b])&&D(v(c.pc,a))},function(a){var b=p(a),e=o(a),a=c.gprLo_signed[b]+z(a);c.gprLo_signed[e]=a;c.gprHi_signed[e]=a>>31},function(a){var b=p(a),e=o(a),a=c.gprLo_signed[b]+z(a);c.gprLo_signed[e]=a;c.gprHi_signed[e]=a>>31},function(a){var b=p(a),e=o(a),a=z(a),f=a>>31,g=c.gprHi_signed[b];c.gprLo_signed[e]=
g===f?c.gprLo[b]<a>>>0?1:0:g<f?1:0;c.gprHi_signed[e]=0},function(a){var b=p(a),e=o(a),a=z(a),f=a>>31,g=c.gprHi_signed[b];c.gprLo[e]=g===f?c.gprLo[b]<a>>>0?1:0:g>>>0<f>>>0?1:0;c.gprHi[e]=0},function(a){var b=p(a),e=o(a);c.gprLo_signed[e]=c.gprLo_signed[b]&a&65535;c.gprHi_signed[e]=0},function(a){var b=p(a),e=o(a);c.gprLo_signed[e]=c.gprLo_signed[b]|a&65535;c.gprHi_signed[e]=c.gprHi_signed[b]},function(a){var b=p(a),e=o(a);c.gprLo_signed[e]=c.gprLo_signed[b]^a&65535;c.gprHi_signed[e]=c.gprHi_signed[b]},
function(a){var b=o(a),a=z(a)<<16;c.gprLo_signed[b]=a;c.gprHi_signed[b]=a>>31},function(a){bb[a>>>21&31](a)},cc,l,l,function(a){var b=p(a),e=o(a);c.gprHi_signed[b]===c.gprHi_signed[e]&&c.gprLo_signed[b]===c.gprLo_signed[e]?D(v(c.pc,a)):c.nextPC+=4},function(a){var b=p(a),e=o(a);c.gprHi_signed[b]!==c.gprHi_signed[e]||c.gprLo_signed[b]!==c.gprLo_signed[e]?D(v(c.pc,a)):c.nextPC+=4},qb,zb,Oa,U,tb,eb,l,l,l,l,function(a){var e=o(a),f=E(a),a=z(a),f=b.load_s8(c.ram,c.gprLo_signed[f]+a);c.gprLo_signed[e]=
f;c.gprHi_signed[e]=f>>31},function(a){var e=o(a),f=E(a),a=z(a),f=b.load_s16(c.ram,c.gprLo_signed[f]+a);c.gprLo_signed[e]=f;c.gprHi_signed[e]=f>>31},Ua,function(a){var e=o(a),f=E(a),a=z(a);0!==e&&(f=b.load_s32(c.ram,c.gprLo_signed[f]+a),c.gprLo_signed[e]=f,c.gprHi_signed[e]=f>>31)},function(a){var e=o(a),f=E(a),a=z(a);c.gprLo_signed[e]=b.load_u8(c.ram,c.gprLo_signed[f]+a);c.gprHi_signed[e]=0},function(a){var e=o(a),f=E(a),a=z(a);c.gprLo_signed[e]=b.load_u16(c.ram,c.gprLo_signed[f]+a);c.gprHi_signed[e]=
0},Va,function(a){var e=o(a),f=E(a),a=z(a);c.gprLo_signed[e]=b.load_u32(c.ram,c.gprLo_signed[f]+a);c.gprHi_signed[e]=0},function(a){var e=o(a),f=E(a),a=z(a);b.store_8(c.ram,c.gprLo_signed[f]+a,c.gprLo_signed[e])},function(a){var e=o(a),f=E(a),a=z(a);b.store_16(c.ram,c.gprLo_signed[f]+a,c.gprLo_signed[e])},ba,function(a){var e=o(a),f=E(a),a=z(a);b.store_32(c.ram,c.gprLo_signed[f]+a,c.gprLo_signed[e])},fb,nb,ya,function(a){var c=o(a),e=c>>>2&7;if(0===(c&3)&&(0===e||4===e))a=sa(a),b.invalidateICacheEntry(a)},
y,function(a){var e=a>>>16&31,f=E(a),a=z(a);n.int32[e]=b.load_s32(c.ram,c.gprLo_signed[f]+a)},l,l,Pa,function(a){var b=a>>>16&31,e=E(a),a=z(a),a=c.gprLo_signed[e]+a;if(-2139095040>a)var a=a+2147483648|0,f=c.ram,e=f[a]<<24|f[a+1]<<16|f[a+2]<<8|f[a+3]|0,a=f[a+4]<<24|f[a+5]<<16|f[a+6]<<8|f[a+7]|0;else e=Z(a),a=Z(a+4);n.store_64(b,a,e)},Ca,function(a){var b=o(a),e=E(a),a=z(a),e=c.gprLo_signed[e]+a;-2139095040>e?(e=e+2147483648|0,a=c.ram,c.gprHi_signed[b]=a[e]<<24|a[e+1]<<16|a[e+2]<<8|a[e+3]|0,c.gprLo_signed[b]=
a[e+4]<<24|a[e+5]<<16|a[e+6]<<8|a[e+7]|0):(c.gprHi_signed[b]=Z(e),c.gprLo_signed[b]=Z(e+4))},F,function(a){var e=a>>>16&31,f=E(a),a=z(a);b.store_32(c.ram,c.gprLo_signed[f]+a,n.int32[e])},l,l,k,function(a){var e=a>>>16&31,f=E(a),a=z(a);b.store_64(c.ram,c.gprLo_signed[f]+a,n.int32[e],n.int32[e+1])},Ma,function(a){var e=o(a),f=E(a),a=z(a);b.store_64(c.ram,c.gprLo_signed[f]+a,c.gprLo_signed[e],c.gprHi_signed[e])}];if(64!=Hb.length)throw"Oops, didn't build the simple table correctly";var e=[function(a){return la(a,
"<<")},"executeUnknown",function(a){return la(a,">>>")},function(a){return la(a,">>")},function(a){return I(a,"<<")},"executeUnknown",function(a){return I(a,">>>")},function(a){return I(a,">>")},function(a){var b="c.delayPC = c.gprLo["+a.instr_rs()+"];\n";return ea(b,a,!1)},function(a){var c=a.instr_rs(),e=a.instr_rd(),f=a.pc+8,g=f&2147483648?-1:0,c=""+("c.delayPC = c.gprLo["+c+"];\n")+("rlo["+e+"] = "+b.toString32(f)+";\n");return ea(c+("rhi["+e+"] = "+g+";\n"),a,!1)},"executeUnknown","executeUnknown",
"executeSYSCALL","executeBREAK","executeUnknown","executeSYNC",function(a){var b=a.instr_rd();return J(""+("rlo["+b+"] = c.multHi_signed[0];\n")+("rhi["+b+"] = c.multHi_signed[1];\n"),a)},function(a){var b=a.instr_rs();return J(""+("c.multHi_signed[0] = rlo["+b+"];\n")+("c.multHi_signed[1] = rhi["+b+"];\n"),a)},function(a){var b=a.instr_rd();return J(""+("rlo["+b+"] = c.multLo_signed[0];\n")+("rhi["+b+"] = c.multLo_signed[1];\n"),a)},function(a){var b=a.instr_rs();return J(""+("c.multLo_signed[0] = rlo["+
b+"];\n")+("c.multLo_signed[1] = rhi["+b+"];\n"),a)},"executeDSLLV","executeUnknown","executeDSRLV","executeDSRAV",function(a){a.instr_rd();var b=a.instr_rs(),c=a.instr_rt(),b=""+("var result = "+h(b)+" * "+h(c)+";\n");return J(b+"var result_lo = result & 0xffffffff;\nvar result_hi = n64js.getHi32(result);\nc.multLo[0] = result_lo;\nc.multLo[1] = result_lo >> 31;\nc.multHi[0] = result_hi;\nc.multHi[1] = result_hi >> 31;\n",a)},function(a){a.instr_rd();var b=a.instr_rs(),c=a.instr_rt();return J(""+
("var result = c.gprLo["+b+"] * c.gprLo["+c+"];\n")+"var result_lo = result & 0xffffffff;\nvar result_hi = n64js.getHi32(result);\nc.multLo[0] = result_lo;\nc.multLo[1] = result_lo >> 31;\nc.multHi[0] = result_hi;\nc.multHi[1] = result_hi >> 31;\n",a)},"executeDIV","executeDIVU","executeDMULT","executeDMULTU","executeDDIV","executeDDIVU",function(a){return G(a,"+")},function(a){return G(a,"+")},function(a){return G(a,"-")},function(a){return G(a,"-")},function(a){return ma(a,"&")},function(a){var b=
a.instr_rd(),c=a.instr_rs();if(0===a.instr_rt()){var e;e=""+("rlo["+b+"] = "+h(c)+";\n");e+="rhi["+b+"] = "+C(c)+";\n";return J(e,a)}return ma(a,"|")},function(a){return ma(a,"^")},function(a){var b=a.instr_rd(),c=a.instr_rs(),e=a.instr_rt(),f;f=""+("rhi["+b+"] = ~("+C(c)+" | "+C(e)+");\n");f+="rlo["+b+"] = ~("+h(c)+" | "+h(e)+");\n";return J(f,a)},"executeUnknown","executeUnknown",function(a){var b=a.instr_rd(),c=a.instr_rs(),e=a.instr_rt(),f;f="var r = 0;\n"+("if ("+C(c)+" < "+C(e)+") {\n");f=f+
"  r = 1;\n"+("} else if ("+C(c)+" === "+C(e)+") {\n");return J(f+("  r = (c.gprLo["+c+"] < c.gprLo["+e+"]) ? 1 : 0;\n")+"}\n"+("rlo["+b+"] = r;\n")+("rhi["+b+"] = 0;\n"),a)},function(a){var b=a.instr_rd(),c=a.instr_rs(),e=a.instr_rt(),c="var r = 0;\n"+("if (c.gprHi["+c+"] < c.gprHi["+e+"] ||\n")+("    ("+C(c)+" === "+C(e)+" && c.gprLo["+c+"] < c.gprLo["+e+"])) {\n");return J(c+"  r = 1;\n}\n"+("rlo["+b+"] = r;\n")+("rhi["+b+"] = 0;\n"),a)},"executeDADD","executeDADDU","executeDSUB","executeDSUBU",
"executeTGE","executeTGEU","executeTLT","executeTLTU","executeTEQ","executeUnknown","executeTNE","executeUnknown","executeDSLL","executeUnknown","executeDSRL","executeDSRA","executeDSLL32","executeUnknown","executeDSRL32","executeDSRA32"];if(64!=e.length)throw"Oops, didn't build the special gen table correctly";b.executeSYSCALL=u;b.executeBREAK=T;b.executeSYNC=H;b.executeDSLLV=P;b.executeDSRLV=Q;b.executeDSRAV=S;b.executeDIV=Ia;b.executeDIVU=wa;b.executeDMULT=Ha;b.executeDMULTU=w;b.executeDDIV=ob;
b.executeDDIVU=ta;b.executeDADD=pb;b.executeDADDU=Ja;b.executeDSUB=Wa;b.executeDSUBU=va;b.executeTGE=za;b.executeTGEU=Ga;b.executeTLT=Xa;b.executeTLTU=ga;b.executeTEQ=na;b.executeTNE=gb;b.executeDSLL=ca;b.executeDSRL=R;b.executeDSRA=m;b.executeDSLL32=N;b.executeDSRL32=Na;b.executeDSRA32=g;var Qa=[function(a){var c=a.instr_rs(),e=v(a.pc,a.instruction),c=""+("if ("+C(c)+" < 0) {\n"),c=c+("  c.delayPC = "+b.toString32(e)+";\n");return ea(c+"}\n",a,!1)},function(a){var c=a.instr_rs(),e=v(a.pc,a.instruction),
c=""+("if ("+C(c)+" >= 0) {\n"),c=c+("  c.delayPC = "+b.toString32(e)+";\n");return ea(c+"}\n",a,!1)},function(a){var c=a.instr_rs(),e=v(a.pc,a.instruction),c=""+("if ("+C(c)+" < 0) {\n"),c=c+("  c.delayPC = "+b.toString32(e)+";\n");return ea(c+"} else {\n  c.nextPC += 4;\n}\n",a,!0)},function(a){var c=a.instr_rs(),e=v(a.pc,a.instruction),c=""+("if ("+C(c)+" >= 0) {\n"),c=c+("  c.delayPC = "+b.toString32(e)+";\n");return ea(c+"} else {\n  c.nextPC += 4;\n}\n",a,!0)},"executeUnknown","executeUnknown",
"executeUnknown","executeUnknown","executeTGEI","executeTGEIU","executeTLTI","executeTLTIU","executeTEQI","executeUnknown","executeTNEI","executeUnknown","executeBLTZAL","executeBGEZAL","executeBLTZALL","executeBGEZALL","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown","executeUnknown"];if(32!=Qa.length)throw"Oops, didn't build the regimm gen table correctly";b.executeTGEI=
ub;b.executeTGEIU=$a;b.executeTLTI=ab;b.executeTLTIU=Ka;b.executeTEQI=La;b.executeTNEI=hb;b.executeBLTZAL=ua;b.executeBGEZAL=Ba;b.executeBLTZALL=ha;b.executeBGEZALL=da;var Bb=[function(a){return Pb(e[a.instruction&63],a)},function(a){return Pb(Qa[a.instruction>>>16&31],a)},function(a){var c=aa(a.pc,a.instruction),c="c.delayPC = "+b.toString32(c)+";\n";return ea(c,a,!1)},function(a){var e=aa(a.pc,a.instruction),f=a.pc+8,g=f&2147483648?-1:0,e=""+("c.delayPC = "+b.toString32(e)+";\n"),e=e+("rlo["+c.kRegister_ra+
"] = "+b.toString32(f)+";\n"),e=e+("rhi["+c.kRegister_ra+"] = "+g+";\n");return ea(e,a,!1)},function(a){var c=a.instr_rs(),e=a.instr_rt(),f=a.instr_offset(),g=v(a.pc,a.instruction),m="";c===e?(-1===f&&(m+="c.speedHack();\n",a.bailOut=!0),m+="c.delayPC = "+b.toString32(g)+";\n"):(m+="if ("+C(c)+" === "+C(e)+" &&\n",m+="    "+h(c)+" === "+h(e)+" ) {\n",-1===f&&(m+="  c.speedHack();\n",a.bailOut=!0),m+="  c.delayPC = "+b.toString32(g)+";\n",m+="}\n");return ea(m,a,!1)},function(a){var c=a.instr_rs(),
e=a.instr_rt(),f=a.instr_offset(),g=v(a.pc,a.instruction),m;m=""+("if ("+C(c)+" !== "+C(e)+" ||\n");m+="    "+h(c)+" !== "+h(e)+" ) {\n";-1===f&&(m+="  c.speedHack();\n",a.bailOut=!0);m+="  c.delayPC = "+b.toString32(g)+";\n";return ea(m+"}\n",a,!1)},function(a){var c=a.instr_rs(),e=v(a.pc,a.instruction),f;f=""+("if ( "+C(c)+" < 0 ||\n");f+="    ("+C(c)+" === 0 && "+h(c)+" === 0) ) {\n";f+="  c.delayPC = "+b.toString32(e)+";\n";return ea(f+"}\n",a,!1)},function(a){var c=a.instr_rs(),e=v(a.pc,a.instruction),
f;f=""+("if ( "+C(c)+" >= 0 &&\n");f+="    ("+C(c)+" !== 0 || "+h(c)+" !== 0) ) {\n";f+="  c.delayPC = "+b.toString32(e)+";\n";return ea(f+"}\n",a,!1)},function(a){var b=a.instr_rs(),c=a.instr_rt(),b=""+("var result = "+h(b)+" + "+z(a.instruction)+";\n");return J(b+("rlo["+c+"] = result;\n")+("rhi["+c+"] = result >> 31;\n"),a)},function(a){var b=a.instr_rs(),c=a.instr_rt(),b=""+("var result = "+h(b)+" + "+z(a.instruction)+";\n");return J(b+("rlo["+c+"] = result;\n")+("rhi["+c+"] = result >> 31;\n"),
a)},function(a){var b=a.instr_rs(),c=a.instr_rt(),e=z(a.instruction),f=e>>31,e=e>>>0,g;g=""+("if ("+C(b)+" === "+f+") {\n");g=g+("  rlo["+c+"] = (c.gprLo["+b+"] < "+e+") ? 1 : 0;\n")+"} else {\n"+("  rlo["+c+"] = ("+C(b)+" < "+f+") ? 1 : 0;\n");return J(g+"}\n"+("rhi["+c+"] = 0;\n"),a)},function(a){var b=a.instr_rs(),c=a.instr_rt(),e=z(a.instruction),f=e>>31,e=e>>>0,g;g=""+("if ("+C(b)+" === "+f+") {\n");g=g+("  rlo["+c+"] = (c.gprLo["+b+"] < "+e+") ? 1 : 0;\n")+"} else {\n"+("  rlo["+c+"] = (("+
C(b)+">>>0) < ("+(f>>>0)+")) ? 1 : 0;\n");return J(g+"}\n"+("rhi["+c+"] = 0;\n"),a)},function(a){var b=a.instr_rs(),c=a.instr_rt(),b=""+("rlo["+c+"] = "+h(b)+" & "+(a.instruction&65535)+";\n");return J(b+("rhi["+c+"] = 0;\n"),a)},function(a){var b=a.instr_rs(),c=a.instr_rt(),e;e=""+("rlo["+c+"] = "+h(b)+" | "+(a.instruction&65535)+";\n");b!==c&&(e+="rhi["+c+"] = "+C(b)+";\n");return J(e,a)},function(a){var b=a.instr_rs(),c=a.instr_rt(),e;e=""+("rlo["+c+"] = "+h(b)+" ^ "+(a.instruction&65535)+";\n");
b!==c&&(e+="rhi["+c+"] = "+C(b)+";\n");return J(e,a)},function(a){var b=a.instr_rt(),c=z(a.instruction)<<16;return J(""+("rlo["+b+"] = "+c+";\n")+("rhi["+b+"] = "+(0>c?-1:0)+";\n"),a)},function(a){return Pb(W[a.instruction>>>21&31],a)},function(a){var c=ib[a.instruction>>>21&31],c="string"===typeof c?"n64js."+c+"("+b.toString32(a.instruction)+");\n":c(a),e="";a.fragment.usesCop1=!0;if(a.fragment.cop1statusKnown)e+=a.genAssert("(c.control[12] & SR_CU1) !== 0","cop1 should be enabled"),e+=c;else return e=
e+"if( (c.control[12] & SR_CU1) === 0 ) {\n"+("  executeCop1_disabled("+b.toString32(a.instruction)+");\n"),a.isTrivial=!1,a.fragment.cop1statusKnown=!0,Qb(e+"} else {\n"+("  "+c)+"}\n",a);return a.isTrivial?J(e,a):Qb(e,a)},"executeUnknown","executeUnknown",function(a){var c=a.instr_rs(),e=a.instr_rt();a.instr_offset();var f=v(a.pc,a.instruction),g;g=""+("if ("+C(c)+" === "+C(e)+" &&\n");g+="    "+h(c)+" === "+h(e)+" ) {\n";g+="  c.delayPC = "+b.toString32(f)+";\n";return ea(g+"} else {\n  c.nextPC += 4;\n}\n",
a,!0)},function(a){var c=a.instr_rs(),e=a.instr_rt();a.instr_offset();var f=v(a.pc,a.instruction),g;g=""+("if ("+C(c)+" !== "+C(e)+" ||\n");g+="    "+h(c)+" !== "+h(e)+" ) {\n";g+="  c.delayPC = "+b.toString32(f)+";\n";return ea(g+"} else {\n  c.nextPC += 4;\n}\n",a,!0)},"executeBLEZL","executeBGTZL","executeDADDI","executeDADDIU","executeLDL","executeLDR","executeUnknown","executeUnknown","executeUnknown","executeUnknown",function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),c=""+("var value = n64js.load_s8(ram, "+
h(c)+" + "+e+");\n");return ja(c+("rlo["+b+"] = value;\n")+("rhi["+b+"] = value >> 31;\n"),a)},function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),c=""+("var value = n64js.load_s16(ram, "+h(c)+" + "+e+");\n");return ja(c+("rlo["+b+"] = value;\n")+("rhi["+b+"] = value >> 31;\n"),a)},"executeLWL",function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms();if(0===b)return J("/*load to r0!*/\n",a);c=""+("var value = n64js.load_s32(ram, "+h(c)+" + "+e+");\n");return ja(c+("rlo["+b+"] = value;\n")+
("rhi["+b+"] = value >> 31;\n"),a)},function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),c=""+("rlo["+b+"] = n64js.load_u8(ram, "+h(c)+" + "+e+");\n");return ja(c+("rhi["+b+"] = 0;\n"),a)},function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),c=""+("rlo["+b+"] = n64js.load_u16(ram, "+h(c)+" + "+e+");\n");return ja(c+("rhi["+b+"] = 0;\n"),a)},"executeLWR",function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),c=""+("rlo["+b+"] = n64js.load_u32(ram, "+h(c)+" + "+e+");\n");
return ja(c+("rhi["+b+"] = 0;\n"),a)},function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),b=""+("n64js.store_8(ram, "+h(c)+" + "+e+", "+h(b)+");\n");return ja(b,a)},function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),b=""+("n64js.store_16(ram, "+h(c)+" + "+e+", "+h(b)+");\n");return ja(b,a)},"executeSWL",function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),b=""+("n64js.store_32(ram, "+h(c)+" + "+e+", "+h(b)+");\n");return ja(b,a)},"executeSDL","executeSDR","executeSWR",
function(a){var b=a.instr_base(),c=a.instr_imms(),e=a.instr_rt(),f=e>>>2&7;return 0===(e&3)&&(0===f||4===f)?(b=""+("var addr = "+h(b)+" + "+c+";\n"),J(b+"n64js.invalidateICacheEntry(addr);\n",a)):J("/*ignored CACHE*/\n",a)},"executeLL",function(a){var b=a.instr_ft(),c=a.instr_base(),e=a.instr_imms();a.fragment.usesCop1=!0;b="cpu1.int32["+b+"] = n64js.load_s32(ram, "+h(c)+" + "+e+");\n";return ja(b,a)},"executeUnknown","executeUnknown","executeLLD",function(a){var b=a.instr_ft(),c=a.instr_base(),e=
a.instr_imms();a.fragment.usesCop1=!0;c="var value_lo;\nvar value_hi;\n"+("var addr = "+h(c)+" + "+e+";\n");return ja(c+"if (addr < -2139095040) {\n  var phys = (addr + 0x80000000) | 0;\n  value_hi = ((ram[phys  ] << 24) | (ram[phys+1] << 16) | (ram[phys+2] << 8) | ram[phys+3]) | 0;\n  value_lo = ((ram[phys+4] << 24) | (ram[phys+5] << 16) | (ram[phys+6] << 8) | ram[phys+7]) | 0;\n} else {\n  value_hi = lw_slow(addr);\n  value_lo = lw_slow(addr + 4);\n}\n"+("cpu1.store_64("+b+", value_lo, value_hi);\n"),
a)},"executeLDC2",function(a){var b=a.instr_rt(),c=a.instr_base(),e=a.instr_imms(),c=""+("var addr = "+h(c)+" + "+e+";\n");return ja(c+"if (addr < -2139095040) {\n  var phys = (addr + 0x80000000) | 0;\n"+("  rhi["+b+"] = ((ram[phys  ] << 24) | (ram[phys+1] << 16) | (ram[phys+2] << 8) | ram[phys+3]);\n")+("  rlo["+b+"] = ((ram[phys+4] << 24) | (ram[phys+5] << 16) | (ram[phys+6] << 8) | ram[phys+7]);\n")+"} else {\n"+("  rhi["+b+"] = lw_slow(addr);\n")+("  rlo["+b+"] = lw_slow(addr + 4);\n")+"}\n",
a)},"executeSC",function(a){var b=a.instr_ft(),c=a.instr_base(),e=a.instr_imms();a.fragment.usesCop1=!0;b=""+("n64js.store_32(ram, "+h(c)+" + "+e+", cpu1.int32["+b+"]);\n");return ja(b,a)},"executeUnknown","executeUnknown","executeSCD",function(a){var b=a.instr_ft(),c=a.instr_base(),e=a.instr_imms(),f=b+1;a.fragment.usesCop1=!0;c=""+("var addr = "+h(c)+" + "+e+";\n");return ja(c+("n64js.store_64(ram, addr, cpu1.int32["+b+"], cpu1.int32["+f+"]);\n"),a)},"executeSDC2",function(a){var b=a.instr_rt(),
c=a.instr_base(),e=a.instr_imms(),c=""+("var addr = "+h(c)+" + "+e+";\n"),c=c+("n64js.store_64(ram, addr,     "+h(b)+","+C(b)+");\n");return ja(c,a)}];if(64!=Bb.length)throw"Oops, didn't build the simple gen table correctly";b.executeBLEZL=qb;b.executeBGTZL=zb;b.executeDADDI=Oa;b.executeDADDIU=U;b.executeLDL=tb;b.executeLDR=eb;b.executeLWL=Ua;b.executeLWR=Va;b.executeSWL=ba;b.executeSDL=fb;b.executeSDR=nb;b.executeSWR=ya;b.executeLL=y;b.executeLLD=Pa;b.executeLDC2=Ca;b.executeSC=F;b.executeSCD=k;
b.executeSDC2=Ma;ka.prototype.genAssert=function(){return""};ka.prototype.newFragment=function(){this.delayedPCUpdate=0};ka.prototype.set=function(a,b,c,e){this.fragment=a;this.pc=b;this.instruction=c;this.post_pc=e;this.bailOut=!1;this.needsDelayCheck=!0;this.dump=this.isTrivial=!1};ka.prototype.instr_rs=function(){return p(this.instruction)};ka.prototype.instr_rt=function(){return o(this.instruction)};ka.prototype.instr_rd=function(){return t(this.instruction)};ka.prototype.instr_sa=function(){return this.instruction>>>
6&31};ka.prototype.instr_fs=function(){return A(this.instruction)};ka.prototype.instr_ft=function(){return this.instruction>>>16&31};ka.prototype.instr_fd=function(){return this.instruction>>>6&31};ka.prototype.instr_base=function(){return E(this.instruction)};ka.prototype.instr_offset=function(){return(this.instruction&65535)<<16>>16};ka.prototype.instr_imms=function(){return z(this.instruction)};b.run=function(a){c.stuffToDo&=-2;Fa();b.checkSIStatusConsistent();for(c.addEvent(qa,a);c.hasEvent(qa);)try{for(var e=
c,f=e.events,g=e.ram,m=void 0,k=void 0;e.hasEvent(qa);){for(m=Jb(e.pc);!e.stuffToDo;)if(m&&m.func){var h=m,l=e,n=g,u=f,o=u[0];if(o.countdown>=1*h.opsCompiled){h.executionCount++;var s=h.func(l,l.gprLo_signed,l.gprHi_signed,n),o=u[0];o.countdown-=1*s;sb||(l.control_signed[l.kControlCount]+=1*s);0>=o.countdown&&dc();var H=h.nextFragments[s];if(!H||H.entryPC!==l.pc)H=h.getNextFragment(l.pc,s);h=H}else h=null;m=h}else{var p=e.pc;e.nextPC=e.delayPC?e.delayPC:e.pc+4;var T;-2139095040>p?(h=p+2147483648|
0,T=g[h]<<24|g[h+1]<<16|g[h+2]<<8|g[h+3]|0):T=Z(p);e.branchTarget=0;Hb[T>>>26&63](T);e.pc=e.nextPC;e.delayPC=e.branchTarget;e.control_signed[e.kControlCount]+=1;k=f[0];k.countdown-=1;0>=k.countdown&&dc();if(m){h=m;n=p;u=T;l=e;0===h.opsCompiled&&pa.newFragment();h.opsCompiled++;var w=h;w.minPC=Math.min(w.minPC,n);w.maxPC=Math.max(w.maxPC,n+4);Cb.add(n,w);pa.set(h,n,u,l.pc);u=pa;u.needsDelayCheck=u.fragment.needsDelayCheck;u.isTrivial=!1;var t=Pb(Bb[u.instruction>>>26&63],u);u.dump&&console.log(t);
!u.isTrivial&&0!==u.delayedPCUpdate&&(u.fragment.body_code+="/*applying delayed pc*/\nc.pc = "+b.toString32(u.delayedPCUpdate)+";\n",u.delayedPCUpdate=0);u.fragment.needsDelayCheck=u.needsDelayCheck;u.fragment.bailedOut|=u.bailOut;b.getSyncFlow()&&(t="if (!n64js.checkSyncState(sync, "+b.toString32(u.pc)+")) { return "+u.fragment.opsCompiled+"; }\n"+t);u.fragment.body_code+=t+"\n";if(8<h.opsCompiled&&l.pc!==n+4||250<=h.opsCompiled||l.stuffToDo){0!==pa.delayedPCUpdate&&(h.body_code+="c.pc = "+b.toString32(pa.delayedPCUpdate)+
";\n",pa.delayedPCUpdate=0);h.body_code+="return "+h.opsCompiled+";\n";b.getSyncFlow()&&(h.body_code="var sync = n64js.getSyncFlow();\n"+h.body_code);h.usesCop1&&(n="",n+="var cpu1 = n64js.cpu1;\n",n+="var SR_CU1 = "+b.toString32(Lb)+";\n",n+="var FPCSR_C = "+b.toString32(8388608)+";\n",h.body_code=n+"\n\n"+h.body_code);var Ha="return function fragment_"+b.toString32(h.entryPC)+"_"+h.opsCompiled+"(c, rlo, rhi, ram) {\n"+h.body_code+"}\n";h.body_code="";h.func=(new Function(Ha))();h.nextFragments=
[];for(n=0;n<h.opsCompiled;n++)h.nextFragments.push(void 0);h=Jb(l.pc)}m=h}else e.pc<p&&(m=Jb(e.pc))}e.stuffToDo&=~Nb;if(e.stuffToDo&rb)e.stuffToDo&=~rb,e.handleInterrupt();else if(e.stuffToDo&1)break;else if(e.stuffToDo){b.warn("Don't know how to handle this event!");break}}break}catch(q){if(q instanceof j)c.pc=c.nextPC,c.delayPC=c.branchTarget,c.control_signed[c.kControlCount]+=1,e=c.events[0],e.countdown-=1,0>=e.countdown&&dc();else{b.halt("Exception :"+q);break}}f=c.removeEventsOfType(qa);0>f&&
(f=0);f<a&&(c.opsExecuted+=a-f)};var pa=new ka;b.getFragmentMap=function(){return Ob};b.getFragmentInvalidationEvents=function(){var a=ic;ic=[];return a};ec.prototype.invalidate=function(){this.minPC=this.entryPC;this.maxPC=this.entryPC+4;this.func=void 0;this.opsCompiled=0;this.bailedOut=!1;this.executionCount=0;this.nextFragments=[];this.body_code="";this.needsDelayCheck=!0;this.usesCop1=this.cop1statusKnown=!1};ec.prototype.getNextFragment=function(a,b){var c=this.nextFragments[b];if(!c||c.entryPC!==
a)c=a===this.entryPC?this:Jb(a),this.nextFragments[b]=c;return c};var Rb=0;mb.prototype.addressToCacheLine=function(a){return Math.floor(a>>>5)};mb.prototype.addressToCacheLineRoundUp=function(a){return Math.floor(a+31>>>5)};mb.prototype.add=function(a,b){this.entries[this.addressToCacheLine(a)%this.entries.length][b.entryPC]=b};mb.prototype.invalidateEntry=function(a){var c=this.entries[this.addressToCacheLine(a)%this.entries.length],e=0,f,g;for(f in c)c.hasOwnProperty(f)&&(g=c[f],g.minPC<=a&&g.maxPC>
a&&(g.invalidate(),delete c[f],e++));e&&b.log("Fragment cache removed "+e+" entries.")};mb.prototype.invalidateRange=function(a,c){for(var e=a+c,f=this.addressToCacheLine(a),g=this.addressToCacheLineRoundUp(e),m=this.entries,k=0,h,l,u;f<=g;++f)for(l in h=f%m.length,h=m[h],h)h.hasOwnProperty(l)&&(u=h[l],u.minPC<=e&&u.maxPC>a&&(u.invalidate(),delete h[l],k++));k&&b.log("Fragment cache removed "+k+" entries.")};b.invalidateICacheEntry=function(a){++Rb;0===Rb%1E4&&b.log(Rb+" invals");Cb.invalidateEntry(a)};
b.invalidateICacheRange=function(a,b,c){"PI"!==c&&Cb.invalidateRange(a,b)};var Cb=new mb;b.checkSyncState=function(a,b){var e;if(!a.sync32(b,"pc"))return!1;var f=0;for(e=0;32>e;++e)var g=c.gprLo[e],m=0,f=f-g,f=f-m,f=f^m>>>13,g=g-m,g=g-f,g=g^f<<8,m=m-f,m=m-g,m=m^g>>>13,f=f-g,f=f-m,f=f^m>>>12,g=g-m,g=g-f,g=g^f<<16,m=m-f,m=m-g,m=m^g>>>5,f=f-g,f=f-m,f=f^m>>>3;return!a.sync32(f>>>0,"regs")?!1:!0}})(window.n64js=window.n64js||{});(function(b){function K(){var a,b,h,l=[],j=$("#cpu").find("#labels");for(a in R)R.hasOwnProperty(a)&&l.push(a);l.sort(function(a,b){return R[a].localeCompare(R[b])});j.html("");for(a=0;a<l.length;++a)b=l[a],h=R[b],h=$('<option value="'+h+'">'+h+"</option>"),h.data("address",b),j.append(h);j.change(function(){I=j.find("option:selected").data("address")>>>0;v()})}function q(){var a=ca||2147483648;l.find("pre").html(B(a,1024))}function B(a,g,h,l){for(var h=h||64,l=l||{},j=(a&~(h-1))-(g/2&~(h-1)),g=j+
g,a="",o;j<g;j+=h){var s=b.toHex(j,32)+":";for(o=0;o<h;o+=4){var p=j+o>>>0,t=b.readMemoryInternal32(p),q="";l.hasOwnProperty(p)&&(q=' style="background-color: '+l[p]+'"');s+=' <span id="mem-'+b.toHex(p,32)+'"'+q+">"+b.toHex(t,32)+"</span>"}s+="\n";a+=s}return $("<span>"+a+"</span>")}function j(a,b){var h="store"===b?"#faa":"#ffa";"update"===b&&(h="#afa");var l={};l[(a&-4)>>>0]=h;return B(a,32,32,l)}function A(a){var a=a>>>2,g=a>>>16^2803*(a&65535),h,l=g>>>15&3,a=4*(g&31);h=4*(g>>>5&31);g=4*(g>>>10&
31);0===l?(a*=2,h*=2):1===l?(h*=2,g*=2):2===l?(g*=2,a*=2):(a*=2,h*=2,g*=2);return"#"+b.toHex(a,8)+b.toHex(h,8)+b.toHex(g,8)}function t(a,g){var h=b.cpu1,l,j,o;for(l=0;32>l;++l){var s=b.cop1RegisterNames[l];o=0===(l&1)?$("<td>"+s+'</td><td class="fixed fp-w">'+b.toString32(h.uint32[l])+'</td><td class="fixed fp-s">'+h.float32[l]+'</td><td class="fixed fp-d">'+h.float64[l/2]+"</td>"):$("<td>"+s+'</td><td class="fixed fp-w">'+b.toString32(h.uint32[l])+'</td><td class="fixed fp-s">'+h.float32[l]+"</td><td></td>");
j=$("<tr />");j.append(o);g.hasOwnProperty(s)?j.attr("bgcolor",g[s]):g.hasOwnProperty(s+"-w")?j.find(".fp-w").attr("bgcolor",g[s+"-w"]):g.hasOwnProperty(s+"-s")?j.find(".fp-s").attr("bgcolor",g[s+"-s"]):g.hasOwnProperty(s+"-d")&&j.find(".fp-d").attr("bgcolor",g[s+"-d"]);a.append(j)}}function o(){var a=b.cpu0,g=$('<table class="register-table"><tbody></tbody></table>'),h=g.find("tbody");h.append('<tr><td>Ops</td><td class="fixed">'+a.opsExecuted+"</td></tr>");h.append('<tr><td>PC</td><td class="fixed">'+
b.toString32(a.pc)+'</td><td>delayPC</td><td class="fixed">'+b.toString32(a.delayPC)+"</td></tr>");h.append('<tr><td>EPC</td><td class="fixed">'+b.toString32(a.control[a.kControlEPC])+"</td></tr>");h.append('<tr><td>MultHi</td><td class="fixed">'+b.toString64(a.multHi[1],a.multHi[0])+'</td><td>Cause</td><td class="fixed">'+b.toString32(b.cpu0.control[b.cpu0.kControlCause])+"</td></tr>");h.append('<tr><td>MultLo</td><td class="fixed">'+b.toString64(a.multLo[1],a.multLo[0])+'</td><td>Count</td><td class="fixed">'+
b.toString32(b.cpu0.control[b.cpu0.kControlCount])+"</td></tr>");h.append('<tr><td></td><td class="fixed"></td><td>Compare</td><td class="fixed">'+b.toString32(b.cpu0.control[b.cpu0.kControlCompare])+"</td></tr>");var l;for(l=0;l<a.events.length;++l)h.append("<tr><td>Event"+l+'</td><td class="fixed">'+a.events[l].countdown+", "+a.events[l].getName()+"</td></tr>");a=$("<tr />");a.append("<td>SR</td>");l=["IE","EXL","ERL"];var j=b.cpu0.control[b.cpu0.kControlSR],s=$("<td />");s.append(b.toString32(j));
s.append("&nbsp;");var o;for(o=l.length-1;0<=o;--o)if(l[o]){var p=0!==(j&1<<o),t=$("<span>"+l[o]+"</span>");p&&t.css("font-weight","bold");s.append(t);s.append("&nbsp;")}a.append(s);h.append(a);a="SP SI AI VI PI DP".split(" ");l=b.miIntrReg();j=b.miIntrMaskReg();s=$("<tr />");s.append("<td>MI Intr</td>");o=$("<td />");for(p=0;p<a.length;++p){var t=0!==(l&1<<p),q=0!==(j&1<<p),r=$("<span>"+a[p]+"</span>");t&&r.css("font-weight","bold");q&&r.css("background-color","#AFF4BB");o.append(r);o.append("&nbsp;")}s.append(o);
h.append(s);return g}function p(a,b){R.hasOwnProperty(b)&&a.append(" ("+R[b]+")")}function z(a,b){a.css("color",A(b))}function E(a){var b="";for(R.hasOwnProperty(a)&&(b=R[a]);10>b.length;)b+=" ";10<b.length&&(b+="\n           ");return b}function sa(a){var b=$(a.delegateTarget),h=b.data("address")>>>0,l=$('<input class="input-mini" value="'+(R[h]||"")+'" />');l.keypress(function(a){13==a.which&&((a=l.val())?R[h]=a:delete R[h],K(),v())});l.blur(function(){b.html(E(h))});b.html(l);l.focus()}function v(){var a,
g,l=b.cpu0;l.pc!==Q&&(Q=I=l.pc);a=l.getCount();var s=P===a-1;P=a;var q;g=b.getFragmentMap();var r=b.disassemble(I-64,I+64),w=$("<pre/>");for(a=0;a<r.length;++a){var v=r[a],A=v.instruction.address,D=(v.isJumpTarget?'<span class="dis-address-target">':'<span class="dis-address">')+b.toHex(A,32)+":</span>",B='<span class="dis-label">'+E(A)+"</span>"+D+"   "+b.toHex(v.instruction.opcode,32)+"    "+v.disassembly;(D=g[A])&&(B+='<span class="dis-fragment-link"> frag - ops='+D.opsCompiled+" hit="+D.executionCount+
"</span>");B=$('<span class="dis-line">'+B+"</span>");B.find(".dis-label").data("address",A).click(sa);A===l.pc&&(q=v.instruction,B.addClass("dis-line-cur"));B.find(".dis-fragment-link").data("fragment",D);w.append(B);w.append("<br>")}if(s){if(N&&(N.cycle+1===l.opsExecuted&&(s=j(N.address,"update"),N.element.append(s)),N=void 0),q.memory)s=q.memory,r=b.cpu0.gprLo[s.reg]+s.offset,g=j(r,s.mode),"store"===s.mode&&(N={address:r,cycle:l.opsExecuted,element:g}),S.push({element:g}),4<S.length&&S.splice(0,
1),ca=r}else S=[],N=void 0;s={};g=["#F4EEAF","#AFF4BB","#F4AFBE"];if(q){r=0;for(a in q.srcRegs)s.hasOwnProperty(a)||(s[a]=g[r++]);for(a in q.dstRegs)s.hasOwnProperty(a)||(s[a]=g[r++])}w.find(".dis-address-target").each(function(){var a=parseInt($(this).text(),16);z($(this),a)});w.find(".dis-address-jump").each(function(){var a=parseInt($(this).text(),16);p($(this),a);z($(this),a);$(this).click(function(){I=a;b.refreshDebugger()})});w.find(".dis-fragment-link").each(function(){var a=$(this).data("fragment");
$(this).click(function(){b.log("<pre>"+a.func.toString()+"</pre>")})});Z.html("");if(0<S.length){q=$("<pre />");r=["#bbb","#999","#666","#333"];for(a=0;a<S.length;++a)g=S[a].element,g.css("color",r[a]),q.append(g);Z.append(q)}Z.append(w);for(a in s)w.find(".dis-reg-"+a).css("background-color",s[a]);h.html(o());w=$('<table class="register-table"><tbody></tbody></table>');q=w.find("tbody");for(a=0;32>a;a+=2){g=$("<tr />");for(r=0;2>r;++r)v=b.cop0gprNames[a+r],A=$("<td>"+v+'</td><td class="fixed">'+
b.toString64(l.gprHi[a+r],l.gprLo[a+r])+"</td>"),s.hasOwnProperty(v)&&A.attr("bgcolor",s[v]),g.append(A);q.append(g)}C[0].html(w);l=$('<table class="register-table"><tbody></tbody></table>');t(l.find("tbody"),s);C[1].html(l)}function aa(a,b,h){a.click(function(){h.html("<pre>"+b.func.toString()+"</pre>")})}function D(a,g){var h=a.find("#fragment_code"),l=$('<table class="table table-condensed" />');l.append("<tr><th>Address</th><th>Execution Count</th><th>Length</th><th>ExecCount * Length</th></tr>");
var j;for(j=0;j<g.length&&20>j;++j){var s=g[j],o=[b.toString32(s.entryPC),s.executionCount,s.opsCompiled,s.executionCount*s.opsCompiled],o=$("<tr><td>"+o.join("</td><td>")+"</td></tr>");aa(o,s,h);l.append(o)}a.find("#fragments").append(l);0<g.length&&h.append("<pre>"+g[0].func.toString()+"</pre>")}function a(){var a=b.getFragmentMap(),g=b.getFragmentInvalidationEvents(),h={},l=[],s;for(s in a)if(a.hasOwnProperty(s)){var j=a[s],o=0<j.executionCount?Math.floor(Math.log(j.executionCount)/Math.log(10)):
0;h[o]=(h[o]||0)+1;l.push(j)}l.sort(function(a,b){return b.opsCompiled*b.executionCount-a.opsCompiled*a.executionCount});a=$("<div />");j='<div class="row-fluid"><div class="span4"><table class="table table-condensed"><tr><th>Execution Count</th><th>Frequency</th></tr>';for(s in h)o=Number(s),o=Math.pow(10,o)+".."+Math.pow(10,o+1),j+="<tr><td>"+o+"</td><td>"+h[s]+"</td></tr>";a.append(j+"</table></div></div>");s=$('<div class="row-fluid">  <div class="span6" id="fragments" />  <div class="span6" id="fragment_code" /></div>');
D(s,l);a.append(s);if(0<g.length){j='<div class="row-fluid"><div class="span6"><table class="table table-condensed"><tr><th>Address</th><th>Length</th><th>System</th><th>Fragments Removed</th></tr>';for(s=0;s<g.length;++s)l=[b.toString32(g[s].address),g[s].length,g[s].system,g[s].fragmentsRemoved],j+="<tr><td>"+l.join("</td><td>")+"</td></tr>";a.append(j+"</table></div></div>")}r.html(a)}var s=null,h=null,C=null,Z=null,r=null,l=null,la=null,I=0,P,Q=-1,S=[],ca,N,R={2150795056:"setFP",2150805552:"siIsBusy",
2150795072:"siReadPIFControl",2150795152:"siWritePIFControl",2150777432:"mult64",2150777176:"div64"},Na=Math.pow(10,0);b.getDebugCycles=function(){return Na};b.initialiseDebugger=function(){s=$("#debug-content");h=$("#status");C=[$("#cpu0-content"),$("#cpu1-content")];Z=$("#disasm");la=$(".output");r=$("#dynarec-content");l=$("#memory-content");$("#output").find("#clear").click(function(){b.clearLog()});$("#cpu").find("#speed").val(0).change(function(){Na=Math.pow(10,$(this).val()|0);b.log("Speed is now "+
Na)});$("#cpu").find("#address").change(function(){I=parseInt($(this).val());v()});K();$("#cpu").find("#labels").change(function(){alert($this.val())});l.find("input").change(function(){ca=parseInt($(this).val());q()});q();$("body").keydown(function(a){var g=!1;switch(a.which){case 40:g=!0;I+=4;b.refreshDebugger();break;case 38:g=!0;I-=4;b.refreshDebugger();break;case 34:g=!0;I+=64;b.refreshDebugger();break;case 33:g=!0;I-=64;b.refreshDebugger();break;case 119:g=!0;b.toggleRun();break;case 120:g=
!0;b.toggleDebugDisplayList();break;case 121:g=!0,b.step()}g&&a.preventDefault()})};b.refreshDebugger=function(){r.hasClass("active")&&a();s.hasClass("active")&&v();l.hasClass("active")&&q()};b.clearLog=function(){la.html("")};b.log=function(a){la.append(b.toString32(b.cpu0.pc)+": "+a+"<br>");la.scrollTop(la[0].scrollHeight)};b.outputAppendHTML=function(a){la.append(a)}})(window.n64js=window.n64js||{});(function(b){function K(a){return'<span class="dis-address-jump">'+b.toHex(a,32)+"</span>"}function q(a,b){this.address=a;this.opcode=b;this.srcRegs={};this.dstRegs={};this.target="";this.memory=null}function B(a){return'<span class="dis-reg-'+a+'">'+a+"</span>"}function j(a){var b=a.replace("-",".");return'<span class="dis-reg-'+a+'">'+b+"</span>"}function A(a,b){return z[a]+(b?"-"+b:"")}function t(a,j){var h=j.toUpperCase();switch(a.opcode&63){case 0:return"ADD."+h+"     "+a.fd(j)+" = "+a.fs(j)+
" + "+a.ft(j);case 1:return"SUB."+h+"     "+a.fd(j)+" = "+a.fs(j)+" - "+a.ft(j);case 2:return"MUL."+h+"     "+a.fd(j)+" = "+a.fs(j)+" * "+a.ft(j);case 3:return"DIV."+h+"     "+a.fd(j)+" = "+a.fs(j)+" / "+a.ft(j);case 4:return"SQRT."+h+"    "+a.fd(j)+" = sqrt("+a.fs(j)+")";case 5:return"ABS."+h+"     "+a.fd(j)+" = abs("+a.fs(j)+")";case 6:return"MOV."+h+"     "+a.fd(j)+" = "+a.fs(j);case 7:return"NEG."+h+"     "+a.fd(j)+" = -"+a.fs(j);case 8:return"ROUND.L."+h+" "+a.fd("l")+" = round.l("+a.fs(j)+")";
case 9:return"TRUNC.L."+h+" "+a.fd("l")+" = trunc.l("+a.fs(j)+")";case 10:return"CEIL.L."+h+"  "+a.fd("l")+" = ceil.l("+a.fs(j)+")";case 11:return"FLOOR.L."+h+" "+a.fd("l")+" = floor.l("+a.fs(j)+")";case 12:return"ROUND.W."+h+" "+a.fd("w")+" = round.w("+a.fs(j)+")";case 13:return"TRUNC.W."+h+" "+a.fd("w")+" = trunc.w("+a.fs(j)+")";case 14:return"CEIL.W."+h+"  "+a.fd("w")+" = ceil.w("+a.fs(j)+")";case 15:return"FLOOR.W."+h+" "+a.fd("w")+" = floor.w("+a.fs(j)+")";case 32:return"CVT.S."+h+"   "+a.fd("s")+
" = (s)"+a.fs(j);case 33:return"CVT.D."+h+"   "+a.fd("d")+" = (d)"+a.fs(j);case 36:return"CVT.W."+h+"   "+a.fd("w")+" = (w)"+a.fs(j);case 37:return"CVT.L."+h+"   "+a.fd("l")+" = (l)"+a.fs(j);case 48:return"C.F."+h+"     c = "+a.fs(j)+" cmp "+a.ft(j);case 49:return"C.UN."+h+"    c = "+a.fs(j)+" cmp "+a.ft(j);case 50:return"C.EQ."+h+"    c = "+a.fs(j)+" cmp "+a.ft(j);case 51:return"C.UEQ."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 52:return"C.OLT."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 53:return"C.ULT."+
h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 54:return"C.OLE."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 55:return"C.ULE."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 56:return"C.SF."+h+"    c = "+a.fs(j)+" cmp "+a.ft(j);case 57:return"C.NGLE."+h+"  c = "+a.fs(j)+" cmp "+a.ft(j);case 58:return"C.SEQ."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 59:return"C.NGL."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);case 60:return"C.LT."+h+"    c = "+a.fs(j)+" cmp "+a.ft(j);case 61:return"C.NGE."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j);
case 62:return"C.LE."+h+"    c = "+a.fs(j)+" cmp "+a.ft(j);case 63:return"C.NGT."+h+"   c = "+a.fs(j)+" cmp "+a.ft(j)}return"Cop1."+j+b.toHex(a.opcode&63,8)+"?"}var o="r0 at v0 v1 a0 a1 a2 a3 t0 t1 t2 t3 t4 t5 t6 t7 s0 s1 s2 s3 s4 s5 s6 s7 t8 t9 k0 k1 gp sp s8 ra".split(" ");b.cop0gprNames=o;var p="Index Rand EntryLo0 EntryLo1 Context PageMask Wired ?7 BadVAddr Count EntryHi Compare SR Cause EPC PrID ?16 ?17 WatchLo WatchHi ?20 ?21 ?22 ?23 ?24 ?25 ECC CacheErr TagLo TagHi ErrorEPC ?31".split(" ");
b.cop0ControlRegisterNames=p;var z="f00 f01 f02 f03 f04 f05 f06 f07 f08 f09 f10 f11 f12 f13 f14 f15 f16 f17 f18 f19 f20 f21 f22 f23 f24 f25 f26 f27 f28 f29 f30 f31".split(" ");b.cop1RegisterNames=z;q.prototype={rt_d:function(){var a=o[this.opcode>>>16&31];this.dstRegs[a]=1;return B(a)},rd:function(){var a=o[this.opcode>>>11&31];this.dstRegs[a]=1;return B(a)},rt:function(){var a=o[this.opcode>>>16&31];this.srcRegs[a]=1;return B(a)},rs:function(){var a=o[this.opcode>>>21&31];this.srcRegs[a]=1;return B(a)},
writesRA:function(){this.dstRegs[b.cpu0.kRegister_ra]=1;return""},ft_d:function(a){a=A(this.opcode>>>16&31,a);this.dstRegs[a]=1;return j(a)},fs_d:function(a){a=A(this.opcode>>>11&31,a);this.dstRegs[a]=1;return j(a)},fd:function(a){a=A(this.opcode>>>6&31,a);this.dstRegs[a]=1;return j(a)},ft:function(a){a=A(this.opcode>>>16&31,a);this.srcRegs[a]=1;return j(a)},fs:function(a){a=A(this.opcode>>>11&31,a);this.srcRegs[a]=1;return j(a)},gt_d:function(){var a=cop2RegisterNames[this.opcode>>>16&31];this.dstRegs[a]=
1;return B(a)},gd:function(){var a=cop2RegisterNames[this.opcode>>>11&31];this.dstRegs[a]=1;return B(a)},gt:function(){var a=cop2RegisterNames[this.opcode>>>16&31];this.srcRegs[a]=1;return B(a)},gs:function(){var a=cop2RegisterNames[this.opcode>>>21&31];this.srcRegs[a]=1;return B(a)},imm:function(){return"0x"+b.toHex(this.opcode&65535,16)},branchAddress:function(){this.target=this.address+4+4*((this.opcode&65535)<<16>>16);return K(this.target)},jumpAddress:function(){this.target=this.address&4026531840|
4*(this.opcode&67108863);return K(this.target)},memaccess:function(a){var b=this.rs(),h=this.imm();this.memory={reg:this.opcode>>>21&31,offset:(this.opcode&65535)<<16>>16,mode:a};return"["+b+"+"+h+"]"},memload:function(){return this.memaccess("load")},memstore:function(){return this.memaccess("store")}};var E=[function(a){return 0===a.opcode?"NOP":"SLL       "+a.rd()+" = "+a.rt()+" << "+(a.opcode>>>6&31)},function(){return"Unk"},function(a){return"SRL       "+a.rd()+" = "+a.rt()+" >>> "+(a.opcode>>>
6&31)},function(a){return"SRA       "+a.rd()+" = "+a.rt()+" >> "+(a.opcode>>>6&31)},function(a){return"SLLV      "+a.rd()+" = "+a.rt()+" << "+a.rs()},function(){return"Unk"},function(a){return"SRLV      "+a.rd()+" = "+a.rt()+" >>> "+a.rs()},function(a){return"SRAV      "+a.rd()+" = "+a.rt()+" >> "+a.rs()},function(a){return"JR        "+a.rs()},function(a){return"JALR      "+a.rd()+", "+a.rs()},function(){return"Unk"},function(){return"Unk"},function(a){return"SYSCALL   "+b.toHex(a.opcode>>6&1048575,
20)},function(a){return"BREAK     "+b.toHex(a.opcode>>6&1048575,20)},function(){return"Unk"},function(){return"SYNC"},function(a){return"MFHI      "+a.rd()+" = MultHi"},function(a){return"MTHI      MultHi = "+a.rs()},function(a){return"MFLO      "+a.rd()+" = MultLo"},function(a){return"MTLO      MultLo = "+a.rs()},function(a){return"DSLLV     "+a.rd()+" = "+a.rt()+" << "+a.rs()},function(){return"Unk"},function(a){return"DSRLV     "+a.rd()+" = "+a.rt()+" >>> "+a.rs()},function(a){return"DSRAV     "+
a.rd()+" = "+a.rt()+" >> "+a.rs()},function(a){return"MULT      "+a.rs()+" * "+a.rt()},function(a){return"MULTU     "+a.rs()+" * "+a.rt()},function(a){return"DIV       "+a.rs()+" / "+a.rt()},function(a){return"DIVU      "+a.rs()+" / "+a.rt()},function(a){return"DMULT     "+a.rs()+" * "+a.rt()},function(a){return"DMULTU    "+a.rs()+" * "+a.rt()},function(a){return"DDIV      "+a.rs()+" / "+a.rt()},function(a){return"DDIVU     "+a.rs()+" / "+a.rt()},function(a){return"ADD       "+a.rd()+" = "+a.rs()+
" + "+a.rt()},function(a){return"ADDU      "+a.rd()+" = "+a.rs()+" + "+a.rt()},function(a){return"SUB       "+a.rd()+" = "+a.rs()+" - "+a.rt()},function(a){return"SUBU      "+a.rd()+" = "+a.rs()+" - "+a.rt()},function(a){return"AND       "+a.rd()+" = "+a.rs()+" & "+a.rt()},function(a){return 0===(a.opcode>>>16&31)?0===(a.opcode>>>21&31)?"CLEAR     "+a.rd()+" = 0":"MOV       "+a.rd()+" = "+a.rs():"OR        "+a.rd()+" = "+a.rs()+" | "+a.rt()},function(a){return"XOR       "+a.rd()+" = "+a.rs()+" ^ "+
a.rt()},function(a){return"NOR       "+a.rd()+" = ~( "+a.rs()+" | "+a.rt()+" )"},function(){return"Unk"},function(){return"Unk"},function(a){return"SLT       "+a.rd()+" = "+a.rs()+" < "+a.rt()},function(a){return"SLTU      "+a.rd()+" = "+a.rs()+" < "+a.rt()},function(a){return"DADD      "+a.rd()+" = "+a.rs()+" + "+a.rt()},function(a){return"DADDU     "+a.rd()+" = "+a.rs()+" + "+a.rt()},function(a){return"DSUB      "+a.rd()+" = "+a.rs()+" - "+a.rt()},function(a){return"DSUBU     "+a.rd()+" = "+a.rs()+
" - "+a.rt()},function(a){return"TGE       trap( "+a.rs()+" >= "+a.rt()+" )"},function(a){return"TGEU      trap( "+a.rs()+" >= "+a.rt()+" )"},function(a){return"TLT       trap( "+a.rs()+" < "+a.rt()+" )"},function(a){return"TLTU      trap( "+a.rs()+" < "+a.rt()+" )"},function(a){return"TEQ       trap( "+a.rs()+" == "+a.rt()+" )"},function(){return"Unk"},function(a){return"TNE       trap( "+a.rs()+" != "+a.rt()+" )"},function(){return"Unk"},function(a){return"DSLL      "+a.rd()+" = "+a.rt()+" << "+
(a.opcode>>>6&31)},function(){return"Unk"},function(a){return"DSRL      "+a.rd()+" = "+a.rt()+" >>> "+(a.opcode>>>6&31)},function(a){return"DSRA      "+a.rd()+" = "+a.rt()+" >> "+(a.opcode>>>6&31)},function(a){return"DSLL32    "+a.rd()+" = "+a.rt()+" << (32+"+(a.opcode>>>6&31)+")"},function(){return"Unk"},function(a){return"DSRL32    "+a.rd()+" = "+a.rt()+" >>> (32+"+(a.opcode>>>6&31)+")"},function(a){return"DSRA32    "+a.rd()+" = "+a.rt()+" >> (32+"+(a.opcode>>>6&31)+")"}];if(64!=E.length)throw"Oops, didn't build the special table correctly";
var sa=[function(a){return"MFC0      "+a.rt()+" <- "+p[a.opcode>>>11&31]},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(a){return"MTC0      "+a.rt()+" -> "+p[a.opcode>>>11&31]},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(a){switch(a.opcode&
63){case 1:return"TLBR";case 2:return"TLBWI";case 6:return"TLBWR";case 8:return"TLBP";case 24:return"ERET"}return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"}];if(32!=sa.length)throw"Oops, didn't build the cop0 table correctly";
var v=[function(a){return"MFC1      "+a.rt_d()+" = "+a.fs()},function(a){return"DMFC1     "+a.rt_d()+" = "+a.fs()},function(a){return"CFC1      "+a.rt_d()+" = CCR"+(a.opcode>>>11&31)},function(){return"Unk"},function(a){return"MTC1      "+a.fs_d()+" = "+a.rt()},function(a){return"DMTC1     "+a.fs_d()+" = "+a.rt()},function(a){return"CTC1      CCR"+(a.opcode>>>11&31)+" = "+a.rt()},function(){return"Unk"},function(a){b.assert(0===(a.opcode>>>18&7),"cc bit is not 0");switch(a.opcode>>>16&3){case 0:return"BC1F      !c ? --\> "+
a.branchAddress();case 1:return"BC1T      c ? --\> "+a.branchAddress();case 2:return"BC1FL     !c ? --\> "+a.branchAddress();case 3:return"BC1TL     c ? --\> "+a.branchAddress()}return"???"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(a){return t(a,"s")},function(a){return t(a,"d")},function(){return"Unk"},function(){return"Unk"},function(a){return t(a,"w")},function(a){return t(a,
"l")},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"}];if(32!=v.length)throw"Oops, didn't build the cop1 table correctly";var aa=[function(a){return"BLTZ      "+a.rs()+" < 0 --\> "+a.branchAddress()},function(a){return"BGEZ      "+a.rs()+" >= 0 --\> "+a.branchAddress()},function(a){return"BLTZL     "+a.rs()+
" < 0 --\> "+a.branchAddress()},function(a){return"BGEZL     "+a.rs()+" >= 0 --\> "+a.branchAddress()},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(a){return"TGEI      "+a.rs()+" >= "+a.rt()+" --\> trap "},function(a){return"TGEIU     "+a.rs()+" >= "+a.rt()+" --\> trap "},function(a){return"TLTI      "+a.rs()+" < "+a.rt()+" --\> trap "},function(a){return"TLTIU     "+a.rs()+" < "+a.rt()+" --\> trap "},function(a){return"TEQI      "+a.rs()+
" == "+a.rt()+" --\> trap "},function(){return"Unk"},function(a){return"TNEI      "+a.rs()+" != "+a.rt()+" --\> trap "},function(){return"Unk"},function(a){return"BLTZAL    "+a.rs()+" < 0 --\> "+a.branchAddress()+a.writesRA()},function(a){return"BGEZAL    "+a.rs()+" >= 0 --\> "+a.branchAddress()+a.writesRA()},function(a){return"BLTZALL   "+a.rs()+" < 0 --\> "+a.branchAddress()+a.writesRA()},function(a){return"BGEZALL   "+a.rs()+" >= 0 --\> "+a.branchAddress()+a.writesRA()},function(){return"Unk"},
function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"}];if(32!=aa.length)throw"Oops, didn't build the special table correctly";var D=[function(a){return E[a.opcode&63](a)},function(a){return aa[a.opcode>>16&31](a)},function(a){return"J         --\> "+a.jumpAddress()},function(a){return"JAL       --\> "+
a.jumpAddress()+a.writesRA()},function(a){return(a.opcode>>>21&31)==(a.opcode>>>16&31)?"B         --\> "+a.branchAddress():"BEQ       "+a.rs()+" == "+a.rt()+" --\> "+a.branchAddress()},function(a){return"BNE       "+a.rs()+" != "+a.rt()+" --\> "+a.branchAddress()},function(a){return"BLEZ      "+a.rs()+" <= 0 --\> "+a.branchAddress()},function(a){return"BGTZ      "+a.rs()+" > 0 --\> "+a.branchAddress()},function(a){return"ADDI      "+a.rt_d()+" = "+a.rs()+" + "+a.imm()},function(a){return"ADDIU     "+
a.rt_d()+" = "+a.rs()+" + "+a.imm()},function(a){return"SLTI      "+a.rt_d()+" = ("+a.rs()+" < "+a.imm()+")"},function(a){return"SLTIU     "+a.rt_d()+" = ("+a.rs()+" < "+a.imm()+")"},function(a){return"ANDI      "+a.rt_d()+" = "+a.rs()+" & "+a.imm()},function(a){return"ORI       "+a.rt_d()+" = "+a.rs()+" | "+a.imm()},function(a){return"XORI      "+a.rt_d()+" = "+a.rs()+" ^ "+a.imm()},function(a){return"LUI       "+a.rt_d()+" = "+a.imm()+" << 16"},function(a){return sa[a.opcode>>21&31](a)},function(a){return v[a.opcode>>
21&31](a)},function(){return"Unk"},function(){return"Unk"},function(a){return"BEQL      "+a.rs()+" == "+a.rt()+" --\> "+a.branchAddress()},function(a){return"BNEL      "+a.rs()+" != "+a.rt()+" --\> "+a.branchAddress()},function(a){return"BLEZL     "+a.rs()+" <= 0 --\> "+a.branchAddress()},function(a){return"BGTZL     "+a.rs()+" > 0 --\> "+a.branchAddress()},function(a){return"DADDI     "+a.rt_d()+" = "+a.rs()+" + "+a.imm()},function(a){return"DADDIU    "+a.rt_d()+" = "+a.rs()+" + "+a.imm()},function(a){return"LDL       "+
a.rt_d()+" <- "+a.memload()},function(a){return"LDR       "+a.rt_d()+" <- "+a.memload()},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(){return"Unk"},function(a){return"LB        "+a.rt_d()+" <- "+a.memload()},function(a){return"LH        "+a.rt_d()+" <- "+a.memload()},function(a){return"LWL       "+a.rt_d()+" <- "+a.memload()},function(a){return"LW        "+a.rt_d()+" <- "+a.memload()},function(a){return"LBU       "+a.rt_d()+" <- "+a.memload()},function(a){return"LHU       "+
a.rt_d()+" <- "+a.memload()},function(a){return"LWR       "+a.rt_d()+" <- "+a.memload()},function(a){return"LWU       "+a.rt_d()+" <- "+a.memload()},function(a){return"SB        "+a.rt()+" -> "+a.memstore()},function(a){return"SH        "+a.rt()+" -> "+a.memstore()},function(a){return"SWL       "+a.rt()+" -> "+a.memstore()},function(a){return"SW        "+a.rt()+" -> "+a.memstore()},function(a){return"SDL       "+a.rt()+" -> "+a.memstore()},function(a){return"SDR       "+a.rt()+" -> "+a.memstore()},
function(a){return"SWR       "+a.rt()+" -> "+a.memstore()},function(a){return"CACHE     "+b.toHex(a.opcode>>>16&31,8)+", "+a.memaccess()},function(a){return"LL        "+a.rt_d()+" <- "+a.memload()},function(a){return"LWC1      "+a.ft_d()+" <- "+a.memload()},function(){return"Unk"},function(){return"Unk"},function(a){return"LLD       "+a.rt_d()+" <- "+a.memload()},function(a){return"LDC1      "+a.ft_d()+" <- "+a.memload()},function(a){return"LDC2      "+a.gt_d()+" <- "+a.memload()},function(a){return"LD        "+
a.rt_d()+" <- "+a.memload()},function(a){return"SC        "+a.rt()+" -> "+a.memstore()},function(a){return"SWC1      "+a.ft()+" -> "+a.memstore()},function(){return"Unk"},function(){return"Unk"},function(a){return"SCD       "+a.rt()+" -> "+a.memstore()},function(a){return"SDC1      "+a.ft()+" -> "+a.memstore()},function(a){return"SDC2      "+a.gt()+" -> "+a.memstore()},function(a){return"SD        "+a.rt()+" -> "+a.memstore()}];if(64!=D.length)throw"Oops, didn't build the simple table correctly";
b.disassembleOp=function(a,b){var h=new q(a,b),j=D[b>>>26&63](h);return{instruction:h,disassembly:j,isJumpTarget:!1}};b.disassembleAddress=function(a){var j=b.readMemoryInternal32(a);return b.disassembleOp(a,j)};b.disassemble=function(a,j){for(var h=[],o={},p=a;p<j;p+=4){var q=b.disassembleAddress(p);q.instruction.target&&(o[q.instruction.target]=1);h.push(q)}for(p=0;p<h.length;++p)o.hasOwnProperty(h[p].instruction.address)&&(h[p].isJumpTarget=!0);return h}})(window.n64js=window.n64js||{});(function(b){var K,q,B,j,A,t,o,p,z,E,sa,v,aa,D,a,s,h,C,Z;function r(a,b){var c="";b&a.G_ZBUFFER&&(c+="|G_ZBUFFER");b&a.G_TEXTURE_ENABLE&&(c+="|G_TEXTURE_ENABLE");b&a.G_SHADE&&(c+="|G_SHADE");b&a.G_SHADING_SMOOTH&&(c+="|G_SHADING_SMOOTH");var d=b&a.G_CULL_BOTH;d===a.G_CULL_FRONT?c+="|G_CULL_FRONT":d===a.G_CULL_BACK?c+="|G_CULL_BACK":d===a.G_CULL_BOTH&&(c+="|G_CULL_BOTH");b&a.G_FOG&&(c+="|G_FOG");b&a.G_LIGHTING&&(c+="|G_LIGHTING");b&a.G_TEXTURE_GEN&&(c+="|G_TEXTURE_GEN");b&a.G_TEXTURE_GEN_LINEAR&&(c+=
"|G_TEXTURE_GEN_LINEAR");b&a.G_LOD&&(c+="|G_LOD");return 0<c.length?c.substr(1):"0"}function l(a){var b=i.geometryMode,c=i.geometryModeBits;b.zbuffer=c&a.G_ZBUFFER?1:0;b.texture=c&a.G_TEXTURE_ENABLE?1:0;b.shade=c&a.G_SHADE?1:0;b.shadeSmooth=c&a.G_SHADING_SMOOTH?1:0;b.cullFront=c&a.G_CULL_FRONT?1:0;b.cullBack=c&a.G_CULL_BACK?1:0;b.fog=c&a.G_FOG?1:0;b.lighting=c&a.G_LIGHTING?1:0;b.textureGen=c&a.G_TEXTURE_GEN?1:0;b.textureGenLinear=c&a.G_TEXTURE_GEN_LINEAR?1:0;b.lod=c&a.G_LOD?1:0}function la(){this.format=
-1;this.hash=this.lrt=this.lrs=this.ult=this.uls=this.shift_s=this.mask_s=this.cm_s=this.shift_t=this.mask_t=this.cm_t=this.palette=this.tmem=this.line=this.size=0}function I(a){for(var b=1;b<a;)b*=2;return b}function P(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d;a=I(c);d=I(d);this.nativeWidth=a;this.nativeHeight=d;this.$canvas=$('<canvas width="'+a+'" height="'+d+'" />',{width:a,height:d});this.texture=e.createTexture()}function Q(a){oa||(b.displayWarning(a),b.breakEmulationForDisplayListDebug(),
ja(),n=!1,oa=!0,W=O,ib=-1)}function S(a){this.vertex_positions=new Float32Array(12*a);this.vertex_colours=new Uint32Array(3*a);this.vertex_coords=new Float32Array(6*a)}function ca(a){return[Math.round(Math.round(a[0])*Bc[0]+Cc[0]),Math.round(Math.round(a[1])*Bc[1]+Cc[1])]}function N(a){a=ca(a);return[a[0]*Sb.elems[0]+Sb.elems[12],a[1]*Sb.elems[5]+Sb.elems[13]]}function R(a,b){ia=a;Uc=b;Bc=[a/V,b/M];Cc=[0,0];Na()}function Na(){var a=[i.viewport.trans[0]+i.viewport.scale[0],i.viewport.trans[1]+i.viewport.scale[1]],
b=ca([i.viewport.trans[0]-i.viewport.scale[0],i.viewport.trans[1]-i.viewport.scale[1]]),a=ca(a),c=b[0],d=b[1],f=a[0]-b[0],g=a[1]-b[1];Sb=makeOrtho(b[0],a[0],a[1],b[1],0,1);e.viewport(c,d,f,g)}function m(a){for(var b=1/65536,a=new DataView(i.ram.buffer,a),c=new Float32Array(16),d=0;4>d;++d)c[0+d]=(a.getInt16(8*d+0)<<16|a.getUint16(8*d+32))*b,c[4+d]=(a.getInt16(8*d+2)<<16|a.getUint16(8*d+34))*b,c[8+d]=(a.getInt16(8*d+4)<<16|a.getUint16(8*d+36))*b,c[12+d]=(a.getInt16(8*d+6)<<16|a.getUint16(8*d+38))*
b;return new Matrix(c)}function g(a){var b;b=""+("scale = ("+i.ram.getInt16(a+0)/4+", "+i.ram.getInt16(a+2)/4+") ");return b+="trans = ("+i.ram.getInt16(a+8)/4+", "+i.ram.getInt16(a+10)/4+") "}function u(a){var b=Array(2),c=Array(2);b[0]=i.ram.getInt16(a+0)/4;b[1]=i.ram.getInt16(a+2)/4;c[0]=i.ram.getInt16(a+8)/4;c[1]=i.ram.getInt16(a+10)/4;b[0]===i.viewport.scale[0]&&b[1]===i.viewport.scale[1]&&c[0]===i.viewport.trans[0]&&c[1]===i.viewport.trans[1]||(i.viewport.scale=b,i.viewport.trans=c,Na())}function T(a){var c;
c=""+("color = "+b.toHex(i.ram.getUint32(a+0),32)+" ");a=Vector3.create([i.ram.getInt8(a+8),i.ram.getInt8(a+9),i.ram.getInt8(a+10)]).normaliseInPlace();return c+="norm = ("+a.elems[0]+", "+a.elems[1]+", "+a.elems[2]+")"}function H(a,b){var c=i.lights[a],d=i.ram.getUint32(b+0);c.color={r:(d>>>24&255)/255,g:(d>>>16&255)/255,b:(d>>>8&255)/255,a:(d>>>0&255)/255};i.lights[a].dir=Vector3.create([i.ram.getInt8(b+8),i.ram.getInt8(b+9),i.ram.getInt8(b+10)]).normaliseInPlace()}function Ha(a,b,c){a=(b-a)/4+
1;return c?Math.min(1<<c,a):a}function w(a){return(i.segments[a>>>24&15]&16777215)+(a&16777215)}function Ia(a,b,c,d){d=a+", "+b+", "+c+", "+d;return 128>a&&128>b||128>b&&128>c||128>c&&128>a?'<span style="color: white; background-color: rgb('+a+","+b+","+c+')">'+d+"</span>":'<span style="background-color: rgb('+a+","+b+","+c+')">'+d+"</span>"}function wa(a){return Ia(a>>>24&255,a>>>16&255,a>>>8&255,a&255)}function ob(a){this.type=a.getUint32(xd);this.code_base=a.getUint32(yd)&536870911;this.code_size=
a.getUint32(zd);this.data_base=a.getUint32(Ad)&536870911;this.data_size=a.getUint32(Bd);this.data_ptr=a.getUint32(Cd)}function ta(a){Q("Unimplemented display list op "+b.toString8(a>>>24))}function G(a){Q("Unknown display list op "+b.toString8(a>>>24));i.pc=0}function ma(a,b,c){c&&c.text("gsSPNoOp();")}function pb(a,b,c){c&&c.text("gsDPNoOp();")}function Ja(a,c,d){a=a>>>16&255;c=w(c);d&&d.text((a===wc?"gsSPDisplayList":"gsSPBranchList")+'(<span class="dl-branch">'+b.toString32(c)+"</span>);");a===
wc&&i.dlistStack.push({pc:i.pc});i.pc=c}function Wa(a,b,c){c&&c.text("gsSPEndDisplayList();");i.pc=0<i.dlistStack.length?i.dlistStack.pop().pc:0}function va(){var a=w(i.rdpHalf1);i.pc=a}function za(a){var a=a.elems,b=[a[4],a[5],a[6],a[7]],c=[a[8],a[9],a[10],a[11]],d=[a[12],a[13],a[14],a[15]];return'<div><table class="matrix-table"><tr><td>'+[a[0],a[1],a[2],a[3]].join("</td><td>")+"</td></tr><tr><td>"+b.join("</td><td>")+"</td></tr><tr><td>"+c.join("</td><td>")+"</td></tr><tr><td>"+d.join("</td><td>")+
"</td></tr></table></div>"}function Ga(a,c,d){var a=a>>>16&255,e=w(c),c=a&Wc,f=a&Vc,g=m(e);if(d){var h;h=""+(a&Ac?"G_MTX_PROJECTION":"G_MTX_MODELVIEW");h+=a&Vc?"|G_MTX_LOAD":"|G_MTX_MUL";h+=a&Wc?"|G_MTX_PUSH":"";d.text("gsSPMatrix("+b.toString32(e)+", "+h+");");d.tip(za(g))}d=a&Ac?i.projection:i.modelview;f||(g=d[d.length-1].multiply(g));c?d.push(g):d[d.length-1]=g}function Xa(a,b,c){a=b>>>0&255;c&&(a=""+(a&Ac?"G_MTX_PROJECTION":"G_MTX_MODELVIEW"),c.text("gsSPPopMatrix("+a+");"));0<i.modelview.length&&
i.modelview.pop()}function ga(a,c,d){var e=a>>>16&255,a=a>>>0&65535,c=w(c);if(d){var f=b.toString32(c),h=y(L,e),h="gsDma1p(G_MOVEMEM, "+f+", "+a+", "+h+");";switch(e){case L.G_MV_VIEWPORT:16===a&&(h="gsSPViewport("+f+");")}d.text(h);f="";for(h=0;h<a;++h)f+=b.toHex(i.ram.getUint8(c+h),8)+" ";f+="<br>";switch(e){case L.G_MV_VIEWPORT:f+=g(c);break;case L.G_MV_L0:case L.G_MV_L1:case L.G_MV_L2:case L.G_MV_L3:case L.G_MV_L4:case L.G_MV_L5:case L.G_MV_L6:case L.G_MV_L7:f+=T(c)}d.tip(f)}switch(e){case L.G_MV_VIEWPORT:u(c);
break;case L.G_MV_L0:case L.G_MV_L1:case L.G_MV_L2:case L.G_MV_L3:case L.G_MV_L4:case L.G_MV_L5:case L.G_MV_L6:case L.G_MV_L7:H((e-L.G_MV_L0)/2,c)}}function na(a,c,d){var e=a&255,f=a>>>8&65535;if(d){var g="gMoveWd("+y(fa,e)+", "+b.toString16(f)+", "+b.toString32(c)+");";switch(e){case fa.G_MW_NUMLIGHT:f===Dd&&(g="gsSPNumLights("+y(Xc,(c-2147483648>>>5)-1)+");");break;case fa.G_MW_SEGMENT:g=0===c?"0":b.toString32(c),g="gsSPSegment("+(f>>>2&15)+", "+g+");"}d.text(g)}switch(e){case fa.G_MW_MATRIX:ta(a,
c);break;case fa.G_MW_NUMLIGHT:i.numLights=(c-2147483648>>>5)-1;break;case fa.G_MW_CLIP:break;case fa.G_MW_SEGMENT:i.segments[f>>>2&15]=c;break;case fa.G_MW_FOG:break;case fa.G_MW_LIGHTCOL:ta(a,c);break;case fa.G_MW_POINTS:ta(a,c);break;case fa.G_MW_PERSPNORM:break;default:ta(a,c)}}function gb(){this.pos=new Vector4;this.v=this.u=this.color=0;this.set=!1}function Ya(a,c,d,e){var f=i.geometryMode.lighting,g=i.geometryMode.textureGen,h=i.geometryMode.textureGenLinear;if(!(8388608<d+16*c)){d=new DataView(i.ram.buffer,
d);if(e){var j;j='<table class="vertex-table">'+("<tr><th>"+"# x y z ? u v norm rgba".split(" ").join("</th><th>")+"</th></tr>\n");for(var l=0;l<c;++l){var k=16*l,k=[a+l,d.getInt16(k+0),d.getInt16(k+2),d.getInt16(k+4),d.getInt16(k+6),d.getInt16(k+8),d.getInt16(k+10),d.getInt8(k+12)+","+d.getInt8(k+13)+","+d.getInt8(k+14),b.toString32(d.getUint32(k+12))];j+="<tr><td>"+k.join("</td><td>")+"</td></tr>\n"}e.tip(j+"</table>")}if(64<=a+c)Q("Too many verts"),i.pc=0;else{e=i.modelview[i.modelview.length-
1];j=i.projection[i.projection.length-1].multiply(e);for(var l=i.texture.scaleS/32,k=i.texture.scaleT/32,m=new Vector3,o=new Vector3,n=new Vector3,p=0;p<c;++p){var q=16*p,s=i.projectedVertices[a+p];s.set=!0;m.elems[0]=d.getInt16(q+0);m.elems[1]=d.getInt16(q+2);m.elems[2]=d.getInt16(q+4);var t=d.getInt16(q+8),r=d.getInt16(q+10);j.transformPoint(m,s.pos);if(f){o.elems[0]=d.getInt8(q+12);o.elems[1]=d.getInt8(q+13);o.elems[2]=d.getInt8(q+14);e.transformNormal(o,n);n.normaliseInPlace();for(var q=s,u=n,
v=i.numLights,A=i.lights[v].color.r,y=i.lights[v].color.g,x=i.lights[v].color.b,w=void 0,w=0;w<v;++w){var D=i.lights[w],z=u.dot(D.dir);0<z&&(A+=D.color.r*z,y+=D.color.g*z,x+=D.color.b*z)}A=255*Math.min(A,1);y=255*Math.min(y,1);x=255*Math.min(x,1);w=255;q.color=w<<24|x<<16|y<<8|A;g?h?(s.u=0.5*(1+n.elems[0]),s.v=0.5*(1+n.elems[1])):(s.u=Math.acos(n.elems[0])/3.141,s.v=Math.acos(n.elems[1])/3.141):(s.u=t*l,s.v=r*k)}else s.u=t*l,s.v=r*k,t=d.getUint8(q+12),r=d.getUint8(q+13),u=d.getUint8(q+14),q=d.getUint8(q+
15),s.color=q<<24|u<<16|r<<8|t}}}}function Za(a,b){ta(a,b)}function Aa(a,c,d){d&&d.text("gsImmp1(G_RDPHALF_2, "+b.toString32(c)+");");i.rdpHalf2=c}function ub(a,c,d){d&&d.text("gsImmp1(G_RDPHALF_1, "+b.toString32(c)+");");i.rdpHalf1=c}function $a(a,b,c){c&&c.text("gsSPClearGeometryMode("+r(wb,b)+");");i.geometryModeBits&=~b;l(wb)}function ab(a,b,c){c&&c.text("gsSPSetGeometryMode("+r(wb,b)+");");i.geometryModeBits|=b;l(wb)}function Ka(a){return Yc[a>>>12&3]+","+Ed[a>>>8&3]+","+Yc[a>>>4&3]+","+Fd[a>>>
0&3]}function La(c){var d="";c&B&&(d+="|AA_EN");c&j&&(d+="|Z_CMP");c&A&&(d+="|Z_UPD");c&t&&(d+="|IM_RD");c&o&&(d+="|CLR_ON_CVG");var e=c&768;e===p?d+="|CVG_DST_CLAMP":e===z?d+="|CVG_DST_WRAP":e===E?d+="|CVG_DST_FULL":e===sa&&(d+="|CVG_DST_SAVE");e=c&3072;e===v?d+="|ZMODE_OPA":e===aa?d+="|ZMODE_INTER":e===D?d+="|ZMODE_XLU":e===a&&(d+="|ZMODE_DEC");c&s&&(d+="|CVG_X_ALPHA");c&h&&(d+="|ALPHA_CVG_SEL");c&C&&(d+="|FORCE_BL");d=0<d.length?d.substr(1):"0";c>>>=Dc;c="GBL_c1("+Ka(c>>>2)+") | GBL_c2("+Ka(c)+
") /*"+b.toString16(c)+"*/";return d+", "+c}function hb(a){switch(a){case Tb:return"G_MDSFT_ALPHACOMPARE";case kc:return"G_MDSFT_ZSRCSEL";case Zc:return"G_MDSFT_RENDERMODE";case Dc:return"G_MDSFT_BLENDER"}return b.toString8(a)}function qb(a){switch(a){case Gd:return"G_MDSFT_BLENDMASK";case Db:return"G_MDSFT_ALPHADITHER";case jb:return"G_MDSFT_RGBDITHER";case lc:return"G_MDSFT_COMBKEY";case Ub:return"G_MDSFT_TEXTCONV";case Vb:return"G_MDSFT_TEXTFILT";case Wb:return"G_MDSFT_TEXTLUT";case mc:return"G_MDSFT_TEXTLOD";
case Xb:return"G_MDSFT_TEXTDETAIL";case nc:return"G_MDSFT_TEXTPERSP";case Eb:return"G_MDSFT_CYCLETYPE";case Hd:return"G_MDSFT_COLORDITHER";case oc:return"G_MDSFT_PIPELINE"}return b.toString8(a)}function zb(a,c,d,e){var f=b.toString32(e),f="gsSPSetOtherMode(G_SETOTHERMODE_L, "+hb(d)+", "+c+", "+f+");";switch(d){case Tb:2===c&&(f="gsDPSetAlphaCompare("+y(Ec,e)+");");break;case kc:1===c&&(f="gsDPSetDepthSource("+y(Fc,e)+");");break;case Zc:29===c&&(f="gsDPSetRenderMode("+La(e)+");")}a.text(f)}function ua(a,
c,d,e){var f=qb(d),g=b.toString32(e),f="gsSPSetOtherMode(G_SETOTHERMODE_H, "+f+", "+c+", "+g+");";switch(d){case Db:2===c&&(f="gsDPSetAlphaDither("+y($c,e)+");");break;case jb:2===c&&(f="gsDPSetColorDither("+y(ad,e)+");");break;case lc:1===c&&(f="gsDPSetCombineKey("+y(bd,e)+");");break;case Ub:3===c&&(f="gsDPSetTextureConvert("+y(cd,e)+");");break;case Vb:2===c&&(f="gsDPSetTextureFilter("+y(Gc,e)+");");break;case mc:1===c&&(f="gsDPSetTextureLOD("+y(dd,e)+");");break;case Wb:2===c&&(f="gsDPSetTextureLUT("+
y(Hc,e)+");");break;case Xb:2===c&&(f="gsDPSetTextureDetail("+y(ed,e)+");");break;case nc:1===c&&(f="gsDPSetTexturePersp("+y(fd,e)+");");break;case Eb:2===c&&(f="gsDPSetCycleType("+y(ra,e)+");");break;case oc:1===c&&(f="gsDPPipelineMode("+y(gd,e)+");")}a.text(f)}function ha(a,b,c){var d=a>>>8&255,a=a>>>0&255,e=(1<<a)-1<<d;c&&zb(c,a,d,b);i.rdpOtherModeL=i.rdpOtherModeL&~e|b}function Ba(a,b,c){var d=a>>>8&255,a=a>>>0&255,e=(1<<a)-1<<d;c&&ua(c,a,d,b);i.rdpOtherModeH=i.rdpOtherModeH&~e|b}function da(a){return 0===
a||65535===a?1:a/65536}function Oa(a,b,c){var d=a>>>16&255,e=a>>>11&3,f=a>>>8&7,a=a>>>0&255,g=da(b>>>16&65535),b=da(b>>>0&65535);if(c){var h=g.toString(),j=b.toString(),k=ya(f);0!==d?c.text("gsSPTextureL("+h+", "+j+", "+e+", "+d+", "+k+", "+a+");"):c.text("gsSPTexture("+h+", "+j+", "+e+", "+k+", "+a+");")}i.texture.level=e;i.texture.tile=f;i.texture.scaleS=g;i.texture.scaleT=b;i.geometryModeBits=a?i.geometryModeBits|wb.G_TEXTURE_ENABLE:i.geometryModeBits&~wb.G_TEXTURE_ENABLE;l(wb)}function U(){}function Ca(a,
b,c){var d=a>>>24,e=Z,f=i.projectedVertices,g=0,h=i.pc;do{var a=b>>>24&255,j=(b>>>16&255)/e,l=(b>>>8&255)/e,b=(b>>>0&255)/e;c&&c.text("gsSP1Triangle("+j+", "+l+", "+b+", "+a+");");xa.pushTri(f[j],f[l],f[b],g);g++;a=i.ram.getUint32(h+0);b=i.ram.getUint32(h+4);++O;h+=8}while(a>>>24===d&&g<Ib&&!c);i.pc=h-8;--O;db(3*g)}function Ua(a,b,c){var d=a>>>24,e=i.projectedVertices,f=0,g=i.pc;do{var h=a>>>12&15,j=a>>>8&15,l=a>>>4&15,a=a>>>0&15,k=b>>>28&15,m=b>>>24&15,o=b>>>20&15,n=b>>>16&15,p=b>>>12&15,q=b>>>8&
15,s=b>>>4&15,b=b>>>0&15;c&&c.text("gsSP1Triangle4("+a+","+b+","+s+", "+l+","+q+","+p+", "+j+","+n+","+o+", "+h+","+m+","+k+");");a!==b&&(xa.pushTri(e[a],e[b],e[s],f),f++);l!==q&&(xa.pushTri(e[l],e[q],e[p],f),f++);j!==n&&(xa.pushTri(e[j],e[n],e[o],f),f++);h!==m&&(xa.pushTri(e[h],e[m],e[k],f),f++);a=i.ram.getUint32(g+0);b=i.ram.getUint32(g+4);++O;g+=8}while(a>>>24===d&&f<Ib&&!c);i.pc=g-8;--O;db(3*f)}function Va(a,b,c){var d=a>>>24,e=Z,f=i.projectedVertices,g=0,h=i.pc;do{var j=(a>>>16&255)/e,l=(a>>>
8&255)/e,a=(a>>>0&255)/e,k=(b>>>16&255)/e,m=(b>>>8&255)/e,b=(b>>>0&255)/e;c&&c.text("gsSP1Triangle2("+j+","+l+","+a+", "+k+","+m+","+b+");");xa.pushTri(f[j],f[l],f[a],g);g++;xa.pushTri(f[k],f[m],f[b],g);g++;a=i.ram.getUint32(h+0);b=i.ram.getUint32(h+4);++O;h+=8}while(a>>>24===d&&g<Ib&&!c);i.pc=h-8;--O;db(3*g)}function tb(a,b,c){var d=a>>>24,e=Z,f=i.projectedVertices,g=0,h=i.pc;do{var a=(b>>>24&255)/e,j=(b>>>16&255)/e,l=(b>>>8&255)/e,b=(b>>>0&255)/e;c&&c.text("gsSPLine3D("+j+", "+l+", "+b+", "+a+");");
xa.pushTri(f[j],f[l],f[b],g);g++;xa.pushTri(f[b],f[a],f[j],g);g++;a=i.ram.getUint32(h+0);b=i.ram.getUint32(h+4);++O;h+=8}while(a>>>24===d&&g+1<Ib&&!c);i.pc=h-8;--O;db(3*g)}function eb(a,b,c,d,e){var f;for(f=0;f<e;++f)a[b+0]=c[d+0],a[b+1]=c[d+1],b+=2,d+=2}function Ma(){var a;for(a=0;8>a;++a)i.tiles[a].hash=0}function ba(a){switch(a){case Id:return"G_TX_WRAP";case xc:return"G_TX_MIRROR";case yc:return"G_TX_CLAMP";case xc|yc:return"G_TX_MIRROR|G_TX_CLAMP"}return a}function ya(a){var b=a;a===Jd&&(b="G_TX_LOADTILE");
a===Kd&&(b="G_TX_RENDERTILE");return b}function fb(a,b){var c;c=""+("RGB0 = ("+cb[a>>>20&15]+" - "+cb[b>>>28&15]+") * "+zc[a>>>15&31]+" + "+Y[b>>>15&7]+"\n");c+="  A0 = ("+Y[a>>>12&7]+" - "+Y[b>>>12&7]+") * "+Y[a>>>9&7]+" + "+Y[b>>>9&7]+"\n";c+="RGB1 = ("+cb[a>>>5&15]+" - "+cb[b>>>24&15]+") * "+zc[a>>>0&31]+" + "+Y[b>>>6&7]+"\n";return c+="  A1 = ("+Y[b>>>21&7]+" - "+Y[b>>>3&7]+") * "+Y[b>>>18&7]+" + "+Y[b>>>0&7]+"\n"}function nb(a,c,d){var e=a>>>9&127,a=(a>>>16&255)/5,c=w(c);d&&d.text("gsSPVertex("+
b.toString32(c)+", "+e+", "+a+");");Ya(a,e,c,d)}function y(a,c){for(var d in a)if(a[d]===c)return d;return b.toString32(c)}function Pa(a,b){var c=F(e,b),d=F(e,a),f=e.createProgram();e.attachShader(f,d);e.attachShader(f,c);e.linkProgram(f);e.getProgramParameter(f,e.LINK_STATUS)||alert("Unable to initialize the shader program.");return f}function F(a,b){var c,d;c=document.getElementById(b);if(!c)return null;d=k(c);if("x-shader/x-fragment"===c.type)c=a.FRAGMENT_SHADER;else if("x-shader/x-vertex"===c.type)c=
a.VERTEX_SHADER;else return null;return f(d,c)}function k(a){var b;b="";for(a=a.firstChild;a;)a.nodeType==a.TEXT_NODE&&(b+=a.textContent),a=a.nextSibling;return b}function f(a,b){var c=e.createShader(b);e.shaderSource(c,a);e.compileShader(c);return!e.getShaderParameter(c,e.COMPILE_STATUS)?(alert("An error occurred compiling the shaders: "+e.getShaderInfoLog(c)),null):c}function x(a,c,g,j,l){var m=0!==(i.rdpOtherModeL&s),o=0!==(i.rdpOtherModeL&h),n=i.rdpOtherModeH&Yb;if(n<ra.G_CYC_COPY){var p=i.rdpOtherModeL>>
Dc,p=(n===ra.G_CYC_2CYCLE?p:p>>>2)&13107,q=pc;switch(p){case 0:q=pc;break;case 16:case 17:if(!o||m)q=hd;break;case 272:q=pc;break;case 770:q=pc;break;case 784:q=id;break;default:b.log(b.toString16(p)+" : "+Ka(p)+", alpha_cvg_sel:"+o+" cvg_x_alpha:"+m),q=pc}q==hd?(e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.blendEquation(e.FUNC_ADD),e.enable(e.BLEND)):q==id?(e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_ALPHA),e.blendEquation(e.FUNC_ADD),e.enable(e.BLEND)):e.disable(e.BLEND)}else e.disable(e.BLEND);m=-1;
(i.rdpOtherModeL&jd)===Ec.G_AC_THRESHOLD&&(o||(m=(i.blendColor>>>0&255)/255));var t=i.combine.hi,r=i.combine.lo,o=n<ra.G_CYC_COPY?t.toString(16)+r.toString(16)+"_"+n:n;0<=m&&(o+=m);p=Rb[o];if(!p){d||(d=F(e,"n64-shader-vs"));Cb||(p=document.getElementById("n64-shader-fs"))&&(Cb=k(p));var p=Cb,u=t>>>20&15,v=r>>>28&15,A=t>>>15&31,y=r>>>15&7,q=t>>>12&7,x=r>>>12&7,w=t>>>9&7,D=r>>>9&7,z=t>>>5&15,C=r>>>24&15,t=t>>>0&31,B=r>>>6&7,E=r>>>21&7,H=r>>>3&7,G=r>>>18&7,r=r>>>0&7;n===ra.G_CYC_FILL?n="col = shade;\n":
n===ra.G_CYC_COPY?n="col = tex0;\n":n===ra.G_CYC_1CYCLE?(n=""+("col.rgb = ("+Zb[u]+" - "+Zb[v]+") * "+Ic[A]+" + "+Jc[y]+";\n"),n+="col.a = ("+Ea[q]+" - "+Ea[x]+") * "+Ea[w]+" + "+Ea[D]+";\n"):(n=""+("col.rgb = ("+Zb[u]+" - "+Zb[v]+") * "+Ic[A]+" + "+Jc[y]+";\n"),n+="col.a = ("+Ea[q]+" - "+Ea[x]+") * "+Ea[w]+" + "+Ea[D]+";\n",n=n+"combined = vec4(col.rgb, col.a);\n"+("col.rgb = ("+Zb[z]+" - "+Zb[C]+") * "+Ic[t]+" + "+Jc[B]+";\n"),n+="col.a = ("+Ea[E]+" - "+Ea[H]+") * "+Ea[G]+" + "+Ea[r]+";\n");0<=
m&&(n+="if(col.a < "+m.toFixed(3)+") discard;\n");p=p.replace("{{body}}",n);tc&&(n="\n"+("\tRGB0 = ("+cb[u]+" - "+cb[v]+") * "+zc[A]+" + "+Y[y]+"\n"),n+="\t  A0 = ("+Y[q]+" - "+Y[x]+") * "+Y[w]+" + "+Y[D]+"\n",n+="\tRGB1 = ("+cb[z]+" - "+cb[C]+") * "+zc[t]+" + "+Y[B]+"\n",n+="\t  A1 = ("+Y[E]+" - "+Y[H]+") * "+Y[G]+" + "+Y[r]+"\n",m=p.split("\n").join("<br>"),b.log("Compiled "+n+"\nto\n"+m));n=f(p,e.FRAGMENT_SHADER);m=e.createProgram();e.attachShader(m,d);e.attachShader(m,n);e.linkProgram(m);e.getProgramParameter(m,
e.LINK_STATUS)||alert("Unable to initialize the shader program.");p=new ic(m);Rb[o]=p}n=p;e.useProgram(n.program);e.enableVertexAttribArray(n.vertexPositionAttribute);e.bindBuffer(e.ARRAY_BUFFER,Kc);e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW);e.vertexAttribPointer(n.vertexPositionAttribute,4,e.FLOAT,!1,0,0);e.enableVertexAttribArray(n.vertexColorAttribute);e.bindBuffer(e.ARRAY_BUFFER,kd);e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW);e.vertexAttribPointer(n.vertexColorAttribute,4,e.UNSIGNED_BYTE,!0,
0,0);e.enableVertexAttribArray(n.texCoordAttribute);e.bindBuffer(e.ARRAY_BUFFER,Lc);e.bufferData(e.ARRAY_BUFFER,g,e.STATIC_DRAW);e.vertexAttribPointer(n.texCoordAttribute,2,e.FLOAT,!1,0,0);j&&((a=j.left,c=j.top,g=1/j.nativeWidth,o=1/j.nativeHeight,56===j.width&&29===j.height&&(g*=0.5,o*=0.5),l&&(o=g=1,c=a=0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,j.texture),e.uniform1i(n.uSamplerUniform,0),e.uniform2f(n.uTexScaleUniform,g,o),e.uniform2f(n.uTexOffsetUniform,a,c),(i.rdpOtherModeH&ld)==
Gc.G_TF_POINT)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST_MIPMAP_NEAREST)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST)));e.uniform4f(n.uPrimColorUniform,(i.primColor>>>24&255)/255,(i.primColor>>>16&255)/255,(i.primColor>>>8&255)/255,(i.primColor>>>0&255)/255);e.uniform4f(n.uEnvColorUniform,(i.envColor>>>24&255)/255,(i.envColor>>>
16&255)/255,(i.envColor>>>8&255)/255,(i.envColor>>>0&255)/255)}function db(a){var b,c=!1;i.geometryMode.texture&&(b=sb(i.texture.tile),c=i.geometryMode.lighting&&i.geometryMode.textureGen);x(xa.vertex_positions,xa.vertex_colours,xa.vertex_coords,b,c);ka();i.geometryMode.cullFront||i.geometryMode.cullBack?(e.enable(e.CULL_FACE),e.cullFace(i.geometryMode.cullFront?e.FRONT:e.BACK)):e.disable(e.CULL_FACE);e.drawArrays(e.TRIANGLES,0,a)}function cc(a,b,c,d,f,g,h,j,l,k){a=sb(a);b=N([b,c]);f=N([d,f]);c=(d=
0!==(i.rdpOtherModeL&Fc.G_ZS_PRIM))?i.primDepth:0;f=[b[0],b[1],c,1,f[0],b[1],c,1,b[0],f[1],c,1,f[0],f[1],c,1];g=k?[g,h,g,l,j,h,j,l]:[g,h,j,h,g,l,j,l];x(new Float32Array(f),new Uint32Array([4294967295,4294967295,4294967295,4294967295]),new Float32Array(g),a,!1);e.disable(e.CULL_FACE);d?ka():(e.disable(e.DEPTH_TEST),e.depthMask(!1));e.drawArrays(e.TRIANGLE_STRIP,0,4)}function ka(){var a=0!==(i.rdpOtherModeL&j),b=0!==(i.rdpOtherModeL&A);0!==i.geometryMode.zbuffer&&a||b?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST);
e.depthMask(b)}function Fa(){this.$currentDis=$("<pre></pre>");this.$span=void 0;this.numOps=0}function dc(){var a=$('<table class="table table-condensed" style="width: auto;"></table>'),b=$("<tr />"),c;for(c in i.geometryMode)if(i.geometryMode.hasOwnProperty(c)){var d=$("<td>"+c+"</td>");i.geometryMode[c]&&d.css("background-color","#AFF4BB");b.append(d)}a.append(b);return a}function ec(){var a=i.rdpOtherModeL,b=i.rdpOtherModeH,a={alphaCompare:y(Ec,a&jd),depthSource:y(Fc,a&Ld),renderMode:La(a),alphaDither:y($c,
b&Md),colorDither:y(ad,b&Nd),combineKey:y(bd,b&Od),textureConvert:y(cd,b&Pd),textureFilter:y(Gc,b&ld),textureLUT:y(Hc,b&md),textureLOD:y(dd,b&Qd),texturePersp:y(fd,b&Rd),textureDetail:y(ed,b&Sd),cycleType:y(ra,b&Yb),pipelineMode:y(gd,b&Td)},b=$('<table class="table table-condensed" style="width: auto;"></table>'),c,d;for(d in a)a.hasOwnProperty(d)&&(c=$("<tr><td>"+d+"</td><td>"+a[d]+"</td></tr>"),b.append(c));return b}function Jb(){var a=$('<table class="table table-condensed" style="width: auto;"></table>'),
b=["fillColor","envColor","primColor","blendColor","fogColor"],c;for(c=0;c<b.length;++c)$("<tr><td>"+b[c]+"</td><td>"+wa(i[b[c]])+"</td></tr>").appendTo(a);return a}function mb(){var a=$('<pre class="combine"></pre>');a.append(y(ra,i.rdpOtherModeH&Yb)+"\n");a.append(Jb());a.append(fb(i.combine.hi,i.combine.lo));return a}function Pb(){var a=$("<div />");a.append(Qb());var b,c;for(b=0;8>b;++b){var d=sb(b);if(d){c=8*d.width;for(var e=8*d.height,f=$('<canvas width="'+c+'" height="'+e+'" style="background-color: black" />',
{width:c,height:e}),g=d.$canvas[0].getContext("2d"),h=f[0].getContext("2d"),i=g.getImageData(0,0,d.width,d.height),d=h.createImageData(c,e),g=i.data,j=d.data,i=4*i.width,l=4*d.width,k=void 0,m=void 0,m=0;m<e;++m)for(var n=i*Math.floor(m/8),o=l*m,k=0;k<c;++k){var p=n+4*Math.floor(k/8);j[o+0]=g[p+0];j[o+1]=g[p+1];j[o+2]=g[p+2];j[o+3]=g[p+3];o+=4}h.putImageData(d,0,0);c=f}else c=void 0;c&&a.append(c)}return a}function Qb(){var a=$('<table class="table table-condensed" style="width: auto"></table>'),
b=$("<tr><th>"+"tile #;format;size;line;tmem;palette;cm_s;mask_s;shift_s;cm_t;mask_t;shift_t;left;top;right;bottom".split(";").join("</th><th>")+"</th></tr>");a.append(b);var c;for(c=0;c<i.tiles.length;++c)if(b=i.tiles[c],-1!==b.format){var d=[];d.push(c);d.push(y(Ra,b.format));d.push(y(X,b.size));d.push(b.line);d.push(b.tmem);d.push(b.palette);d.push(ba(b.cm_s));d.push(b.mask_s);d.push(b.shift_s);d.push(ba(b.cm_t));d.push(b.mask_t);d.push(b.shift_t);d.push(b.uls/4);d.push(b.ult/4);d.push(b.lrs/4);
d.push(b.lrt/4);b=$("<tr><td>"+d.join("</td><td>")+"</td></tr>");a.append(b)}return a}function vc(){var a=$('<table class="table table-condensed" style="width: auto"></table>'),b=$("<tr><th>"+"vtx #;x;y;z;px;py;pz;pw;color;u;v".split(";").join("</th><th>")+"</th></tr>");a.append(b);var c;for(c=0;c<i.projectedVertices.length;++c)if(b=i.projectedVertices[c],b.set){var d=b.pos.elems[0]/b.pos.elems[3],e=b.pos.elems[1]/b.pos.elems[3],f=b.pos.elems[2]/b.pos.elems[3],g=[];g.push(c);g.push(d.toFixed(3));
g.push(e.toFixed(3));g.push(f.toFixed(3));g.push(b.pos.elems[0].toFixed(3));g.push(b.pos.elems[1].toFixed(3));g.push(b.pos.elems[2].toFixed(3));g.push(b.pos.elems[3].toFixed(3));g.push(Ia(b.color&255,b.color>>>8&255,b.color>>>16&255,b.color>>>24&255));g.push(b.u.toFixed(3));g.push(b.v.toFixed(3));b=$("<tr><td>"+g.join("</td><td>")+"</td></tr>");a.append(b)}return a}function ja(){$(".debug").show();$("#dlist-tab").tab("show")}function ea(a,c,d){++Mc;if(e){var f=a.detectVersionString(),g=$b;if(0<=f.indexOf("F3DEX")||
0<=f.indexOf("F3DLP")||0<=f.indexOf("F3DLX"))g=nd,0<=f.indexOf("2.")&&(g=od);else{var h=a.computeMicrocodeHash();switch(h){case 0:g=$b;b.log("ucode is empty?");break;case 3610907332:g=$b;break;case 4106438939:g=$b;break;case 826213259:g=$b;break;case 1691120285:g=Nc;break;case 603530562:g=Oc;break;default:Q("Unknown GBI hash "+b.toString32(h))}}f!==pd&&b.log("GFX: "+rb+" - "+f+" = ucode "+g);pd=f;f=b.getRamDataView();a=a.data_ptr;Z=Ud[g];i.ram_u8=b.getRamU8Array();i.ram_s32=b.getRamS32Array();i.ram=
f;i.rdpOtherModeL=5242881;i.rdpOtherModeH=0;i.projection=[Matrix.identity()];i.modelview=[Matrix.identity()];i.geometryModeBits=0;i.geometryMode.zbuffer=0;i.geometryMode.texture=0;i.geometryMode.shade=0;i.geometryMode.shadeSmooth=0;i.geometryMode.cullFront=0;i.geometryMode.cullBack=0;i.geometryMode.fog=0;i.geometryMode.lighting=0;i.geometryMode.textureGen=0;i.geometryMode.textureGenLinear=0;i.geometryMode.lod=0;i.pc=a;i.dlistStack=[];for(a=0;a<i.segments.length;++a)i.segments[a]=0;for(a=0;a<i.tiles.length;++a)i.tiles[a]=
new la;for(a=i.numLights=0;a<i.lights.length;++a)i.lights[a]={color:{r:0,g:0,b:0,a:0},dir:Vector3.create([1,0,0])};for(a=0;a<i.projectedVertices.length;++a)i.projectedVertices[a]=new gb;a=g;h=qd;switch(a){case $b:case Nc:case Oc:h=qd;break;case nd:h=Vd;break;case od:h=Wd}for(var g=[],j=0;256>j;++j){var l=G;h.hasOwnProperty(j)?l=h[j]:rd.hasOwnProperty(j)&&(l=rd[j]);g.push(l)}switch(a){case Nc:g[4]=nb;break;case Oc:g[177]=Ua,g[178]=ma,g[180]=ma}e.bindFramebuffer(e.FRAMEBUFFER,Qa);var a=b.viWidth(),
h=(b.viXScale()&4095)/1024,j=(b.viYScale()&4095)/2048,k=b.viHStart(),l=k>>16,k=k&65535,m=b.viVStart();k===l&&(k=a/h|0);V=(k-l)*h;M=1.0126582*((m&65535)-(m>>16))*j;768<a&&(M*=2);a=document.getElementById("display");R(a.clientWidth,a.clientHeight);if(c)for(O=0;0!==i.pc;)a=i.pc,h=f.getUint32(a+0),j=f.getUint32(a+4),i.pc+=8,c.begin(a,h,j,i.dlistStack.length),g[h>>>24](h,j,c),c.end(),O++;else for(O=0;0!==i.pc;){a=i.pc;h=f.getUint32(a+0);j=f.getUint32(a+4);i.pc+=8;g[h>>>24](h,j);if(-1<d&&O>=d)break;O++}e.bindFramebuffer(e.FRAMEBUFFER,
null)}}function J(a,b){c.find(".scrub-text").html("uCode op "+a+"/"+b+".")}function uc(a){c.find("input").attr({min:0,max:a,value:a});J(a,a)}function vb(a){W=a;J(W,bb);a=Da.find("#I"+W);Da.scrollTop(Da.scrollTop()+a.position().top-Da.height()/2+a.height()/2);Da.find(".hle-instr").removeAttr("style");a.css("background-color","rgb(255,255,204)")}function Ob(){var a=Ab.find("#controls");W=-1;bb=0;a.find("#rwd").click(function(){oa&&0<W&&vb(W-1)});a.find("#fwd").click(function(){oa&&W<bb&&vb(W+1)});a.find("#stop").click(function(){b.toggleDebugDisplayList()});
c=a.find(".scrub");c.find("input").change(function(){vb($(this).val()|0)});uc(0);qa=Ab.find(".hle-state");Da=$('<div class="hle-disasm"></div>');$("#adjacent-debug").html(Da)}function ic(a){this.program=a;this.vertexPositionAttribute=e.getAttribLocation(a,"aVertexPosition");this.vertexColorAttribute=e.getAttribLocation(a,"aVertexColor");this.texCoordAttribute=e.getAttribLocation(a,"aTextureCoord");this.uSamplerUniform=e.getUniformLocation(a,"uSampler");this.uPrimColorUniform=e.getUniformLocation(a,
"uPrimColor");this.uEnvColorUniform=e.getUniformLocation(a,"uEnvColor");this.uTexScaleUniform=e.getUniformLocation(a,"uTexScale");this.uTexOffsetUniform=e.getUniformLocation(a,"uTexOffset")}function hc(a,b,c,d){for(var e=b>>2,b=b+c>>2;e<b;)d=17*d+a[e]>>>0,++e;return d}function sb(a){var c=i.tiles[a];if(0!==c.line){var d;if(c.hash)d=c.hash;else{var f=Ha(c.ult,c.lrt,c.mask_t),g=i.tmemData32,h=c.tmem<<3,j=c.line<<3;c.format==Ra.G_IM_FMT_RGBA&&c.size==X.G_IM_SIZ_32b&&(j*=2);var l=hc(g,h,f*j,0);if(c.format===
Ra.G_IM_FMT_CI||c.format===Ra.G_IM_FMT_RGBA)c.size===X.G_IM_SIZ_8b?l=hc(g,2048,512,l):c.size===X.G_IM_SIZ_4b&&(l=hc(g,2048+32*c.palette,32,l));d=c.hash=l}var k=b.toString32(d),k=k+(c.lrs+"-"+c.lrt),m;if(Hb.hasOwnProperty(k))m=Hb[k];else{var n=i.rdpOtherModeH&md,o=Ha(c.uls,c.lrs,c.mask_s),p=Ha(c.ult,c.lrt,c.mask_t),q=new P(c.uls/4,c.ult/4,o,p);if(q.$canvas[0].getContext){Gb.append(y(Ra,c.format)+", "+y(X,c.size)+","+o+"x"+p+", <br>");var s=!1,t=q.$canvas[0].getContext("2d"),r=t.createImageData(q.nativeWidth,
q.nativeHeight),u=n===Hc.G_TT_IA16?gc:fc;switch(c.format){case Ra.G_IM_FMT_RGBA:switch(c.size){case X.G_IM_SIZ_32b:for(var v=r.data,A=4*r.width,x=0,w=i.tmemData,D=c.line<<3,z=c.tmem<<3,D=2*D,C=0,F=0;F<p;++F){for(var B=z,E=x,H=0;H<o;++H){var G=B^C;v[E+0]=w[G];v[E+1]=w[G+1];v[E+2]=w[G+2];v[E+3]=w[G+3];B+=4;E+=4}z+=D;x+=A;C^=4}s=!0;break;case X.G_IM_SIZ_16b:for(var I=r.data,L=4*r.width,J=0,K=i.tmemData,M=c.line<<3,N=c.tmem<<3,R=0,sa=0;sa<p;++sa){for(var S=N,O=J,aa=0;aa<o;++aa){var Z=S^R,T=K[Z]<<8|K[Z+
1];I[O+0]=ac[T>>>11&31];I[O+1]=ac[T>>>6&31];I[O+2]=ac[T>>>1&31];I[O+3]=T&1?255:0;S+=2;O+=4}N+=M;J+=L;R^=4}s=!0;break;case X.G_IM_SIZ_8b:Lb(r,c.tmem,c.line,o,p,256,u);s=!0;break;case X.G_IM_SIZ_4b:Mb(r,c.tmem,c.line,o,p,256+(32*c.palette>>>3),u),s=!0}break;case Ra.G_IM_FMT_IA:switch(c.size){case X.G_IM_SIZ_16b:for(var V=r.data,fa=4*r.width,Y=0,ba=i.tmemData,ia=c.line<<3,ca=c.tmem<<3,da=0,ja=0;ja<p;++ja){for(var ea=ca,W=Y,ka=0;ka<o;++ka){var la=ea^da,ma=ba[la]<<8|ba[la+1],ga=ma>>>8&255,ra=ma&255;V[W+
0]=ga;V[W+1]=ga;V[W+2]=ga;V[W+3]=ra;ea+=2;W+=4}ca+=ia;Y+=fa;da^=4}s=!0;break;case X.G_IM_SIZ_8b:for(var ha=r.data,va=4*r.width,qa=0,xa=i.tmemData,ya=c.line<<3,ta=c.tmem<<3,ua=0,za=0;za<p;++za){for(var wa=ta,na=qa,Da=0;Da<o;++Da){var Ja=xa[wa^ua],Aa=qc[Ja>>>4&15],Oa=qc[Ja&15];ha[na+0]=Aa;ha[na+1]=Aa;ha[na+2]=Aa;ha[na+3]=Oa;wa+=1;na+=4}ta+=ya;qa+=va;ua^=4}s=!0;break;case X.G_IM_SIZ_4b:for(var U=r.data,Qa=4*r.width,Ea=0,Na=i.tmemData,$a=c.line<<3,La=c.tmem<<3,Ba=0,Ca,oa,pa,Fa,Ga,Ya,ab=0;ab<p;++ab){for(var Ka=
La,Sa=Ea,Pa=0;Pa+1<o;Pa+=2)Ca=Ka^Ba,oa=Na[Ca],pa=Pc[(oa&224)>>>5],Ga=Qc[(oa&16)>>>4],Fa=Pc[(oa&14)>>>1],Ya=Qc[(oa&1)>>>0],U[Sa+0]=pa,U[Sa+1]=pa,U[Sa+2]=pa,U[Sa+3]=Ga,U[Sa+4]=Fa,U[Sa+5]=Fa,U[Sa+6]=Fa,U[Sa+7]=Ya,Ka+=1,Sa+=8;o&1&&(Ca=Ka^Ba,oa=Na[Ca],pa=Pc[(oa&224)>>>5],Ga=Qc[(oa&16)>>>4],U[Sa+0]=pa,U[Sa+1]=pa,U[Sa+2]=pa,U[Sa+3]=Ga);La+=$a;Ea+=Qa;Ba^=4}s=!0}break;case Ra.G_IM_FMT_I:switch(c.size){case X.G_IM_SIZ_8b:for(var Ma=r.data,pb=4*r.width,Wa=0,qb=i.tmemData,sb=c.line<<3,bb=c.tmem<<3,db=0,mb=0;mb<
p;++mb){for(var fb=bb,Ia=Wa,ob=0;ob<o;++ob){var Za=qb[fb^db];Ma[Ia+0]=Za;Ma[Ia+1]=Za;Ma[Ia+2]=Za;Ma[Ia+3]=Za;fb+=1;Ia+=4}bb+=sb;Wa+=pb;db^=4}s=!0;break;case X.G_IM_SIZ_4b:for(var kb=r.data,ub=4*r.width,hb=0,rb=i.tmemData,vb=c.line<<3,ib=c.tmem<<3,cb=0,Ua,xb,Va,tb=0;tb<p;++tb){for(var eb=ib,Ta=hb,nb=0;nb+1<o;nb+=2)Ua=rb[eb^cb],xb=qc[(Ua&240)>>>4],Va=qc[(Ua&15)>>>0],kb[Ta+0]=xb,kb[Ta+1]=xb,kb[Ta+2]=xb,kb[Ta+3]=xb,kb[Ta+4]=Va,kb[Ta+5]=Va,kb[Ta+6]=Va,kb[Ta+7]=Va,eb+=1,Ta+=8;o&1&&(Ua=rb[eb^cb],xb=qc[(Ua&
240)>>>4],kb[Ta+0]=xb,kb[Ta+1]=xb,kb[Ta+2]=xb,kb[Ta+3]=xb);ib+=vb;hb+=ub;cb^=4}s=!0}break;case Ra.G_IM_FMT_CI:switch(c.size){case X.G_IM_SIZ_8b:Lb(r,c.tmem,c.line,o,p,256,u);s=!0;break;case X.G_IM_SIZ_4b:Mb(r,c.tmem,c.line,o,p,256+(32*c.palette>>>3),u),s=!0}}if(s){var yb=r.data,Xa=4*r.width,gb=0,Fb;if(o<r.width)for(Fb=0;gb<p;++gb){for(var lb=Fb+4*(o-1),zb=yb[lb+0],Ab=yb[lb+1],Bb=yb[lb+2],Cb=yb[lb+3],lb=lb+4,wb=o;wb<r.width;++wb)yb[lb+0]=zb,yb[lb+1]=Ab,yb[lb+2]=Bb,yb[lb+3]=Cb,lb+=4;Fb+=Xa}if(p<r.height){Fb=
Xa*p;for(var Db=Fb-Xa;gb<r.height;++gb){for(var jb=0;jb<Xa;++jb)yb[Fb+jb]=yb[Db+jb];Fb+=Xa}}t.putImageData(r,0,0);Gb.append(q.$canvas);Gb.append("<br>")}else Gb.append(y(Ra,c.format)+"/"+y(X,c.size)+" is unhandled"),Q("texture format unhandled - "+y(Ra,c.format)+"/"+y(X,c.size));e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,q.texture);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,q.$canvas[0]);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST);var Eb=c.cm_t===yc||0===c.mask_t?e.CLAMP_TO_EDGE:c.cm_t===xc?e.MIRRORED_REPEAT:e.REPEAT;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,c.cm_s===yc||0===c.mask_s?e.CLAMP_TO_EDGE:c.cm_s===xc?e.MIRRORED_REPEAT:e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,Eb);e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null);m=q}else m=null;Hb[k]=m}return m}}function gc(a){var b=a>>>8&255;return b<<24|b<<16|b<<8|a&255}function fc(a){return ac[a>>>11&
31]<<24|ac[a>>>6&31]<<16|ac[a>>>1&31]<<8|(a&1?255:0)}function Lb(a,b,c,d,e,f,g){for(var h=a.data,a=4*a.width,j=0,l=i.tmemData,c=c<<3,b=b<<3,k=f<<3,f=new Uint32Array(256),m,n=0;256>n;++n)m=l[k+2*n+0]<<8|l[k+2*n+1],f[n]=g(m);for(k=g=0;k<e;++k){for(var n=b,o=j,p=0;p<d;++p)m=f[l[n^g]],h[o+0]=m>>24&255,h[o+1]=m>>16&255,h[o+2]=m>>8&255,h[o+3]=m&255,n+=1,o+=4;b+=c;j+=a;g^=4}}function Mb(a,b,c,d,e,f,g){for(var h=a.data,a=4*a.width,j=0,l=i.tmemData,c=c<<3,b=b<<3,k=f<<3,f=new Uint32Array(16),m,n=0;16>n;++n)m=
l[k+2*n+0]<<8|l[k+2*n+1],f[n]=g(m);for(n=g=0;n<e;++n){for(var o=b,p=j,q=0;q+1<d;q+=2)m=l[o^g],k=f[(m&240)>>>4],m=f[(m&15)>>>0],h[p+0]=k>>24&255,h[p+1]=k>>16&255,h[p+2]=k>>8&255,h[p+3]=k&255,h[p+4]=m>>24&255,h[p+5]=m>>16&255,h[p+6]=m>>8&255,h[p+7]=m&255,o+=1,p+=8;d&1&&(m=l[o^g],k=f[(m&240)>>>4],h[p+0]=k>>24&255,h[p+1]=k>>16&255,h[p+2]=k>>8&255,h[p+3]=k&255);b+=c;j+=a;g^=4}}var tc=0,rb=0,Nb=1,Gb=$("#texture-content"),Ab=$("#dlist-content"),Da,qa,c,n=!1,oa=!1,bb=0,W=-1,Kb,ib=-1,O=0,Hb,e=null,Qa,Bb,pa,
Rb={},Cb=null,d=null,V=320,M=240,ia=640,Uc=480,xd=0,yd=16,zd=20,Ad=24,Bd=28,Cd=48,Ac=1,Vc=2,Wc=4,wc=0,fa={G_MW_MATRIX:0,G_MW_NUMLIGHT:2,G_MW_CLIP:4,G_MW_SEGMENT:6,G_MW_FOG:8,G_MW_LIGHTCOL:10,G_MW_POINTS:12,G_MW_PERSPNORM:14},L={G_MV_VIEWPORT:128,G_MV_LOOKATY:130,G_MV_LOOKATX:132,G_MV_L0:134,G_MV_L1:136,G_MV_L2:138,G_MV_L3:140,G_MV_L4:142,G_MV_L5:144,G_MV_L6:146,G_MV_L7:148,G_MV_TXTATT:150,G_MV_MATRIX_1:158,G_MV_MATRIX_2:152,G_MV_MATRIX_3:154,G_MV_MATRIX_4:156},Dd=0,jc={G_MWO_POINT_RGBA:16,G_MWO_POINT_ST:20,
G_MWO_POINT_XYSCREEN:24,G_MWO_POINT_ZSCREEN:28},Xc={NUMLIGHTS_1:1,NUMLIGHTS_2:2,NUMLIGHTS_3:3,NUMLIGHTS_4:4,NUMLIGHTS_5:5,NUMLIGHTS_6:6,NUMLIGHTS_7:7},Jd=7,Kd=0,Id=0,xc=1,yc=2,wb={G_ZBUFFER:1,G_TEXTURE_ENABLE:2,G_SHADE:4,G_SHADING_SMOOTH:512,G_CULL_FRONT:4096,G_CULL_BACK:8192,G_CULL_BOTH:12288,G_FOG:65536,G_LIGHTING:131072,G_TEXTURE_GEN:262144,G_TEXTURE_GEN_LINEAR:524288,G_LOD:1048576},bc={G_TEXTURE_ENABLE:2,G_SHADE:0,G_ZBUFFER:1,G_CULL_BACK:512,G_CULL_FRONT:1024,G_CULL_BOTH:1536,G_FOG:65536,G_LIGHTING:131072,
G_TEXTURE_GEN:262144,G_TEXTURE_GEN_LINEAR:524288,G_LOD:1048576,G_SHADING_SMOOTH:2097152},$b=0,nd=1,od=2,Nc=5,Oc=9,Ud=[10,2,2,2,2,5,10,2,5,10,2,10];Z=10;var sd=new ArrayBuffer(4096),i={ram_u8:b.getRamU8Array(),ram_s32:b.getRamS32Array(),ram:void 0,pc:0,dlistStack:[],segments:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tiles:Array(8),lights:Array(8),numLights:0,geometryModeBits:0,geometryMode:{zbuffer:0,texture:0,shade:0,shadeSmooth:0,cullFront:0,cullBack:0,fog:0,lighting:0,textureGen:0,textureGenLinear:0,lod:0},
rdpOtherModeL:0,rdpOtherModeH:0,rdpHalf1:0,rdpHalf2:0,viewport:{scale:[160,120],trans:[160,120]},projection:[],modelview:[],projectedVertices:Array(64),scissor:{mode:0,x0:0,y0:0,x1:V,y1:M},texture:{tile:0,level:0,scaleS:1,scaleT:1},combine:{lo:0,hi:0},fillColor:0,envColor:0,primColor:0,blendColor:0,fogColor:0,primDepth:0,colorImage:{format:0,size:0,width:0,address:0},textureImage:{format:0,size:0,width:0,address:0},depthImage:{address:0},tmemData32:new Int32Array(sd),tmemData:new Uint8Array(sd),screenContext2d:null},
Bc=[1,1],Cc=[0,0],Sb=makeOrtho(0,ia,Uc,0,0,1);S.prototype.pushTri=function(a,b,c,d){var e=12*d,f=3*d,d=6*d,g=a.pos.elems,h=b.pos.elems,i=c.pos.elems;this.vertex_positions[e+0]=g[0];this.vertex_positions[e+1]=g[1];this.vertex_positions[e+2]=g[2];this.vertex_positions[e+3]=g[3];this.vertex_positions[e+4]=h[0];this.vertex_positions[e+5]=h[1];this.vertex_positions[e+6]=h[2];this.vertex_positions[e+7]=h[3];this.vertex_positions[e+8]=i[0];this.vertex_positions[e+9]=i[1];this.vertex_positions[e+10]=i[2];
this.vertex_positions[e+11]=i[3];this.vertex_colours[f+0]=a.color;this.vertex_colours[f+1]=b.color;this.vertex_colours[f+2]=c.color;this.vertex_coords[d+0]=a.u;this.vertex_coords[d+1]=a.v;this.vertex_coords[d+2]=b.u;this.vertex_coords[d+3]=b.v;this.vertex_coords[d+4]=c.u;this.vertex_coords[d+5]=c.v};var Ib=64,xa=new S(Ib);ob.prototype.detectVersionString=function(){for(var a=i.ram_u8,b=0;b+2<this.data_size;++b)if(82===a[this.data_base+b+0]&&83===a[this.data_base+b+1]&&80===a[this.data_base+b+2])for(var c=
"",d=b;d<this.data_size;++d){var e=a[this.data_base+d];if(0===e)return c;c+=String.fromCharCode(e)}return""};ob.prototype.computeMicrocodeHash=function(){for(var a=i.ram_u8,b=0,c=0;c<this.code_size;++c)b=17*b+a[this.code_base+c]>>>0;return b};b.rspProcessTask=function(a){a=new ob(a);switch(a.type){case 1:++rb;Kb=a;n&&(n=!1,b.breakEmulationForDisplayListDebug(),ib=-1,oa=!0);ea(a,null,-1);b.interruptDP();break;case 2:break;case 3:b.log("video task");break;case 4:b.log("jpg task");break;default:b.log("unknown task")}b.haltSP()};
B=8;j=16;A=32;t=64;o=128;p=0;z=256;E=512;sa=768;v=0;aa=1024;D=2048;a=3072;s=4096;h=8192;C=16384;var Yc=["G_BL_CLR_IN","G_BL_CLR_MEM","G_BL_CLR_BL","G_BL_CLR_FOG"],Ed=["G_BL_A_IN","G_BL_A_FOG","G_BL_A_SHADE","G_BL_0"],Fd=["G_BL_1MA","G_BL_A_MEM","G_BL_1","G_BL_0"],Xd={G_SC_NON_INTERLACE:0,G_SC_ODD_INTERLACE:3,G_SC_EVEN_INTERLACE:2},zc="Combined    ;Texel0      ;Texel1      ;Primitive   ;Shade       ;Env         ;1           ;CombAlp     ;Texel0_Alp  ;Texel1_Alp  ;Prim_Alpha  ;Shade_Alpha ;Env_Alpha   ;LOD_Frac    ;PrimLODFrac ;K5          ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;0           ".split(";"),
cb="Combined    ;Texel0      ;Texel1      ;Primitive   ;Shade       ;Env         ;1           ;CombAlp     ;Texel0_Alp  ;Texel1_Alp  ;Prim_Alp    ;Shade_Alpha ;Env_Alpha   ;LOD_Frac    ;PrimLOD_Frac;0           ".split(";"),Y="Combined    ;Texel0      ;Texel1      ;Primitive   ;Shade       ;Env         ;1           ;0           ".split(";"),Ra={G_IM_FMT_RGBA:0,G_IM_FMT_YUV:1,G_IM_FMT_CI:2,G_IM_FMT_IA:3,G_IM_FMT_I:4},X={G_IM_SIZ_4b:0,G_IM_SIZ_8b:1,G_IM_SIZ_16b:2,G_IM_SIZ_32b:3},Tb=0,kc=2,Zc=3,Dc=16,
jd=3<<Tb,Ld=1<<kc,Gd=0,Db=4,jb=6,lc=8,Ub=9,Vb=12,Wb=14,mc=16,Xb=17,nc=19,Eb=20,Hd=22,oc=23,Td=1<<oc,Yb=3<<Eb,Rd=1<<nc,Sd=3<<Xb,Qd=1<<mc,md=3<<Wb,ld=3<<Vb,Pd=7<<Ub,Od=1<<lc,Nd=3<<jb,Md=3<<Db,gd={G_PM_1PRIMITIVE:1<<oc,G_PM_NPRIMITIVE:0<<oc},ra={G_CYC_1CYCLE:0<<Eb,G_CYC_2CYCLE:1<<Eb,G_CYC_COPY:2<<Eb,G_CYC_FILL:3<<Eb},fd={G_TP_NONE:0<<nc,G_TP_PERSP:1<<nc},ed={G_TD_CLAMP:0<<Xb,G_TD_SHARPEN:1<<Xb,G_TD_DETAIL:2<<Xb},dd={G_TL_TILE:0<<mc,G_TL_LOD:1<<mc},Hc={G_TT_NONE:0<<Wb,G_TT_RGBA16:2<<Wb,G_TT_IA16:3<<Wb},
Gc={G_TF_POINT:0<<Vb,G_TF_AVERAGE:3<<Vb,G_TF_BILERP:2<<Vb},cd={G_TC_CONV:0<<Ub,G_TC_FILTCONV:5<<Ub,G_TC_FILT:6<<Ub},bd={G_CK_NONE:0<<lc,G_CK_KEY:1<<lc},ad={G_CD_MAGICSQ:0<<jb,G_CD_BAYER:1<<jb,G_CD_NOISE:2<<jb,G_CD_DISABLE:3<<jb},$c={G_AD_PATTERN:0<<Db,G_AD_NOTPATTERN:1<<Db,G_AD_NOISE:2<<Db,G_AD_DISABLE:3<<Db},Ec={G_AC_NONE:0<<Tb,G_AC_THRESHOLD:1<<Tb,G_AC_DITHER:3<<Tb},Fc={G_ZS_PIXEL:0<<kc,G_ZS_PRIM:1<<kc},rc,Rc,td,ud,sc,Sc,Tc,vd,wd,Kc,kd,Lc,pc=0,hd=1,id=2,rd={228:function(a,c,d){Nb||(b.emitRunningTime("texrect"),
Nb=!0);var e=i.ram.getUint32(i.pc+4),f=i.ram.getUint32(i.pc+12);i.pc+=16;var g=(a>>>12&4095)/4,a=(a>>>0&4095)/4,h=c>>>24&7,j=(c>>>12&4095)/4,c=(c>>>0&4095)/4,k=(e>>>16&65535)/32,e=(e>>>0&65535)/32,l=((f|0)>>16)/1024,f=(f<<16>>16)/1024;d&&d.text("gsSPTextureRectangle("+j+","+c+","+g+","+a+","+ya(h)+","+k+","+e+","+l+","+f+");");d=i.rdpOtherModeH&Yb;d===ra.G_CYC_COPY&&(l*=0.25);if(d===ra.G_CYC_COPY||d===ra.G_CYC_FILL)g+=1,a+=1;cc(h,j,c,g,a,k,e,k+l*(g-j),e+f*(a-c),!1)},229:function(a,b){var c=i.ram.getUint32(i.pc+
4),d=i.ram.getUint32(i.pc+12);i.pc+=16;var e=(a>>>12&4095)/4,f=(a>>>0&4095)/4,g=(b>>>12&4095)/4,h=(b>>>0&4095)/4,j=(c>>>16&65535)/32,c=(c>>>0&65535)/32,l=((d|0)>>16)/1024,k=i.rdpOtherModeH&Yb;k===ra.G_CYC_COPY&&(l*=0.25);if(k===ra.G_CYC_COPY||k===ra.G_CYC_FILL)e+=1,f+=1;cc(b>>>24&7,g,h,e,f,j,c,j+l*(f-h),c+(d<<16>>16)/1024*(e-g),!0)},230:function(a,b,c){c&&c.text("gsDPLoadSync();")},231:function(a,b,c){c&&c.text("gsDPPipeSync();")},232:function(a,b,c){c&&c.text("gsDPTileSync();")},233:function(a,b,
c){c&&c.text("gsDPFullSync();")},234:function(a,b,c){c&&c.text("gsDPSetKeyGB(???);")},235:function(a,b,c){c&&c.text("gsDPSetKeyR(???);")},236:function(a,b,c){c&&c.text("gsDPSetConvert(???);")},237:function(a,b,c){var d=(a>>>12&4095)/4,a=(a>>>0&4095)/4,e=(b>>>12&4095)/4,f=(b>>>0&4095)/4,b=b>>>24&2;c&&c.text("gsDPSetScissor("+y(Xd,b)+", "+d+", "+a+", "+e+", "+f+");");i.scissor.x0=d;i.scissor.y0=a;i.scissor.x1=e;i.scissor.y1=f;i.scissor.mode=b},238:function(a,b,c){c&&c.text("gsDPSetPrimDepth("+(b>>>
16&65535)+","+(b&65535)+");")},239:function(a,b){ta(a,b)},240:function(a,b,c){var d=b>>>24&7,e=a>>>12&4095,f=a>>>0&4095,a=b>>>12&4095;c&&c.text("gsDPLoadTLUTCmd("+ya(d)+", "+(b>>>14&1023)+"); //"+e+", "+f+", "+a+", "+(b>>>0&4095));b=i.tmemData;d=i.tiles[d].tmem<<3;c=i.ram_u8;f=i.textureImage.address+(f>>>2)*(i.textureImage.width<<X.G_IM_SIZ_16b>>>1)+(e>>>2<<X.G_IM_SIZ_16b>>>1);e=2*((a-e>>>2)+1);for(a=0;a<e;++a)b[d+a]=c[f+a];Ma()},242:function(a,b,c){var d=a>>>12&4095,a=a>>>0&4095,e=b>>>24&7,f=b>>>
12&4095,b=b>>>0&4095;c&&c.text("gsDPSetTileSize("+ya(e)+", "+d+", "+a+", "+f+", "+b+"); // ("+d/4+","+a/4+"), ("+(f/4+1)+","+(b/4+1)+")");c=i.tiles[e];c.uls=d;c.ult=a;c.lrs=f;c.lrt=b;c.hash=0},243:function(a,b,c){var d=a>>>12&4095,e=a>>>0&4095,f=b>>>24&7,a=b>>>12&4095,g=b>>>0&4095;c&&c.text("gsDPLoadBlock("+ya(f)+", "+d+", "+e+", "+a+", "+g+");");0!==d&&Q("Unexpected non-zero uls in load block");0!==e&&Q("Unexpected non-zero ult in load block");c=(a+1<<i.textureImage.size>>>1)+7>>>3;b=i.tmemData32;
a=i.ram_s32;d=i.textureImage.address+e*(i.textureImage.width<<i.textureImage.size>>>1)+(d<<i.textureImage.size>>>1)>>>2;f=i.tiles[f].tmem<<3>>>2;if(0===g)eb(b,f,a,d,c);else{var g=Math.ceil(2048/g),e=0,h;for(h=0;h<c;){var j=Math.min(c-h,g);if(e){var l=b,k=f,m=a,n=d,o=j;k&1&&Q("oops, tmem isn't qword aligned");for(var p=void 0,p=0;p<o;++p)l[k+0^1]=m[n+0],l[k+1^1]=m[n+1],k+=2,n+=2}else eb(b,f,a,d,j);h+=j;f+=2*j;d+=2*j;e^=1}}Ma()},244:function(a,b,c){var d=a>>>12&4095,e=a>>>0&4095,a=b>>>24&7,f=b>>>12&
4095,b=b>>>0&4095;c&&c.text("gsDPLoadTile("+ya(a)+", "+d/4+", "+e/4+", "+f/4+", "+b/4+"); // ("+d/4+","+e/4+"), ("+(f/4+1)+","+(b/4+1)+")");var g=i.tiles[a],c=i.textureImage.width<<i.textureImage.size>>>1,b=(b-e>>>2)+1,a=i.tmemData,h=g.tmem<<3,j=i.ram_u8,e=i.textureImage.address+(e>>>2)*(i.textureImage.width<<i.textureImage.size>>>1)+(d>>>2<<i.textureImage.size>>>1),d=(f-d>>>2)+1<<i.textureImage.size>>>1,f=g.line<<3;i.textureImage.size==X.G_IM_SIZ_32b&&(f*=2);for(var k,g=0;g<b;++g){if(g&1){k=a;for(var l=
h,m=j,n=e,o=f,p=void 0,p=0;p<o;++p)k[l+p^4]=m[n+p]}else{k=a;l=h;m=j;n=e;o=f;p=void 0;for(p=0;p<o;++p)k[l+p]=m[n+p]}for(k=d;k<f;++k)a[h+k]=0;h+=f;e+=c}Ma()},245:function(a,b,c){var d=a>>>21&7,e=a>>>19&3,f=a>>>9&511,a=a>>>0&511,g=b>>>24&7,h=b>>>20&15,j=b>>>18&3,k=b>>>14&15,l=b>>>10&15,m=b>>>8&3,n=b>>>4&15,b=b>>>0&15;if(c){var o=ba(m),p=ba(j);c.text("gsDPSetTile("+y(Ra,d)+", "+y(X,e)+", "+f+", "+a+", "+ya(g)+", "+h+", "+p+", "+k+", "+l+", "+o+", "+n+", "+b+");")}c=i.tiles[g];c.format=d;c.size=e;c.line=
f;c.tmem=a;c.palette=h;c.cm_t=j;c.mask_t=k;c.shift_t=l;c.cm_s=m;c.mask_s=n;c.shift_s=b;c.hash=0},246:function(a,b,c){var d=(b>>>12&4095)>>>2,b=(b>>>0&4095)>>>2,f=(a>>>12&4095)>>>2,a=(a>>>0&4095)>>>2;c&&c.text("gsDPFillRectangle("+d+", "+b+", "+f+", "+a+");");if(i.depthImage.address==i.colorImage.address)e.clearDepth(1),e.depthMask(!0),e.clear(e.DEPTH_BUFFER_BIT);else{var g=i.rdpOtherModeH&Yb,c={r:0,g:0,b:0,a:0};if(g===ra.G_CYC_FILL){if(f+=1,a+=1,c=i.colorImage.size===X.G_IM_SIZ_16b?{r:((i.fillColor&
65535)>>>11&31)/31,g:((i.fillColor&65535)>>>6&31)/31,b:((i.fillColor&65535)>>>1&31)/31}:{r:(i.fillColor>>>24&255)/255,g:(i.fillColor>>>16&255)/255,b:(i.fillColor>>>8&255)/255},V===f-d&&M===a-b){e.clearColor(c.r,c.g,c.b,1);e.clear(e.COLOR_BUFFER_BIT);return}}else g===ra.G_CYC_COPY&&(f+=1,a+=1);c.a=1;g=a;a=c;d=ca([d,b]);b=ca([f,g]);d=[b[0],b[1],0,d[0],b[1],0,b[0],d[1],0,d[0],d[1],0];e.useProgram(rc);e.enableVertexAttribArray(Rc);e.bindBuffer(e.ARRAY_BUFFER,wd);e.bufferData(e.ARRAY_BUFFER,new Float32Array(d),
e.STATIC_DRAW);e.vertexAttribPointer(Rc,3,e.FLOAT,!1,0,0);e.uniformMatrix4fv(td,!1,Sb.elems);e.uniform4f(ud,a.r,a.g,a.b,a.a);e.disable(e.DEPTH_TEST);e.disable(e.CULL_FACE);e.disable(e.BLEND);e.depthMask(!1);e.drawArrays(e.TRIANGLE_STRIP,0,4)}},247:function(a,b,c){c&&c.text("gsDPSetFillColor("+wa(b)+");");i.fillColor=b},248:function(a,b,c){c&&c.text("gsDPSetFogColor("+wa(b)+");");i.fogColor=b},249:function(a,b,c){c&&c.text("gsDPSetBlendColor("+wa(b)+");");i.blendColor=b},250:function(a,b,c){c&&c.text("gsDPSetPrimColor("+
(a>>>8&255)+", "+(a>>>0&255)+", "+wa(b)+");");i.primColor=b},251:function(a,b,c){c&&c.text("gsDPSetEnvColor("+wa(b)+");");i.envColor=b},252:function(a,c,d){if(d){var e=a&16777215,f=fb(e,c);d.text("gsDPSetCombine("+b.toString32(e)+", "+b.toString32(c)+");\n"+f)}i.combine.hi=a&16777215;i.combine.lo=c},253:function(a,c,d){var e=a>>>21&7,f=a>>>19&3,a=(a>>>0&4095)+1,c=w(c);d&&d.text("gsDPSetTextureImage("+y(Ra,e)+", "+y(X,f)+", "+a+", "+b.toString32(c)+");");i.textureImage={format:e,size:f,width:a,address:c}},
254:function(a,c,d){a=w(c);d&&d.text("gsDPSetDepthImage("+b.toString32(a)+");");i.depthImage.address=a},255:function(a,c,d){var e=a>>>21&7,f=a>>>19&3,a=(a>>>0&4095)+1,c=w(c);d&&d.text("gsDPSetColorImage("+y(Ra,e)+", "+y(X,f)+", "+a+", "+b.toString32(c)+");");i.colorImage={format:e,size:f,width:a,address:c}}},qd={"0":ma,1:Ga,3:ga,4:function(a,c,d){var e=(a>>>20&15)+1,a=a>>>16&15,c=w(c);d&&d.text("gsSPVertex("+b.toString32(c)+", "+e+", "+a+");");Ya(a,e,c,d)},6:Ja,9:Za,176:va,177:Va,178:function(a,b){ta(a,
b)},179:Aa,180:ub,181:tb,182:$a,183:ab,184:Wa,185:ha,186:Ba,187:Oa,188:na,189:Xa,190:U,191:Ca,192:pb},Vd={"0":ma,1:Ga,3:ga,4:function(a,c,d){var e=(a>>>16&255)/Z,a=a>>>10&63,c=w(c);d&&d.text("gsSPVertex("+b.toString32(c)+", "+a+", "+e+");");Ya(e,a,c,d)},6:Ja,9:Za,176:va,177:Va,178:function(a,b,c){c&&c.text("gsSPModifyVertex(???);")},179:Aa,180:ub,181:tb,182:$a,183:ab,184:Wa,185:ha,186:Ba,187:Oa,188:na,189:Xa,190:U,191:Ca,192:pb},Wd={"0":function(a,b,c){c&&c.text("gsDPNoOp();")},1:function(a,c,d){var e=
a>>>12&255,a=((a&255)>>1)-e,c=w(c);d&&d.text("gsSPVertex("+b.toString32(c)+", "+e+", "+a+");");Ya(a,e,c,d)},2:function(a,c,d){var e=a>>>1&32767,a=a>>>16&255;d&&d.text("gsSPModifyVertex("+e+","+y(jc,a)+","+b.toString32(c)+");");if(e>=i.projectedVertices.length)Q("crazy vertex index");else switch(d=i.projectedVertices[e],a){case jc.G_MWO_POINT_RGBA:Q("unhandled modifyVtx");break;case jc.G_MWO_POINT_ST:d.set=!0;d.u=(c>>16)*i.texture.scaleS/32;d.v=((c&65535)<<16>>16)*i.texture.scaleT/32;break;case jc.G_MWO_POINT_XYSCREEN:Q("unhandled modifyVtx");
break;case jc.G_MWO_POINT_ZSCREEN:Q("unhandled modifyVtx");break;default:Q("unhandled modifyVtx")}},3:function(){},4:function(){},5:function(a,b,c){var d=a>>>24,e=i.projectedVertices,f=0,g=i.pc;do{var b=b>>>24&255,h=a>>>17&127,j=a>>>9&127,a=a>>>1&127;c&&c.text("gsSP1Triangle("+h+", "+j+", "+a+", "+b+");");xa.pushTri(e[h],e[j],e[a],f);f++;a=i.ram.getUint32(g+0);b=i.ram.getUint32(g+4);++O;g+=8}while(a>>>24===d&&f<Ib&&!c);i.pc=g-8;--O;db(3*f)},6:function(a,b,c){var d=a>>>24,e=i.projectedVertices,f=0,
g=i.pc;do{var h=b>>>1&127,j=b>>>9&127,b=b>>>17&127,k=a>>>1&127,l=a>>>9&127,a=a>>>17&127;c&&c.text("gsSP1Triangle2("+h+","+j+","+b+", "+k+","+l+","+a+");");xa.pushTri(e[h],e[j],e[b],f);f++;xa.pushTri(e[k],e[l],e[a],f);f++;a=i.ram.getUint32(g+0);b=i.ram.getUint32(g+4);++O;g+=8}while(a>>>24===d&&f<Ib&&!c);i.pc=g-8;--O;db(3*f)},7:function(){},8:function(){},214:function(){},215:function(a,b,c){var d=a>>>16&255,e=a>>>11&3,f=a>>>8&7,a=a>>>1&1,g=da(b>>>16&65535),b=da(b>>>0&65535);if(c){var h=g.toString(),
j=b.toString(),k=ya(f);0!==d?c.text("gsSPTextureL("+h+", "+j+", "+e+", "+d+", "+k+", "+a+");"):c.text("gsSPTexture("+h+", "+j+", "+e+", "+k+", "+a+");")}i.texture.level=e;i.texture.tile=f;i.texture.scaleS=g;i.texture.scaleT=b;i.geometryModeBits=a?i.geometryModeBits|bc.G_TEXTURE_ENABLE:i.geometryModeBits&~bc.G_TEXTURE_ENABLE;l(bc)},216:function(a,b,c){c&&c.text("gsSPPopMatrix(G_MTX_MODELVIEW);");a=i.modelview;0<a.length&&a.pop()},217:function(a,b,c){a&=16777215;c&&c.text("gsSPGeometryMode(~("+r(bc,
~a)+"),"+r(bc,b)+");");i.geometryModeBits&=a;i.geometryModeBits|=b;l(bc)},218:function(a,c,d){var e=w(c),c=0===(a&1),f=a>>>1&1,g=a>>>2&1,a=m(e);d&&(d.text("gsSPMatrix("+b.toString32(e)+", "+(""+(g?"G_MTX_PROJECTION":"G_MTX_MODELVIEW")+(f?"|G_MTX_LOAD":"|G_MTX_MUL")+(c?"|G_MTX_PUSH":""))+");"),d.tip(za(a)));d=g?i.projection:i.modelview;f||(a=d[d.length-1].multiply(a));c?d.push(a):d[d.length-1]=a},219:function(a,c,d){var e=a>>>16&255,f=a&65535;if(d){var g="gMoveWd("+y(fa,e)+", "+b.toString16(f)+", "+
b.toString32(c)+");";switch(e){case fa.G_MW_NUMLIGHT:g=Math.floor(c/24);g="gsSPNumLights("+y(Xc,g)+");";break;case fa.G_MW_SEGMENT:g=0===c?"0":b.toString32(c),g="gsSPSegment("+(f>>>2&15)+", "+g+");"}d.text(g)}switch(e){case fa.G_MW_NUMLIGHT:i.numLights=Math.floor(c/24);break;case fa.G_MW_CLIP:break;case fa.G_MW_SEGMENT:i.segments[f>>>2&15]=c;break;case fa.G_MW_FOG:break;case fa.G_MW_LIGHTCOL:break;case fa.G_MW_PERSPNORM:break;default:ta(a,c)}},220:function(a,c,d){var e=a&254,c=w(c),f=0;if(d){var h=
b.toString32(c),j=y(L,e),f="gsDma1p(G_MOVEMEM, "+h+", "+f+", "+j+");";switch(e){case K:f="gsSPViewport("+h+");";break;case q:switch(h=a>>>5&16383,h){case 0:case 24:break;default:h=Math.floor((h-48)/24),f+=" // (light "+h+")"}}d.text(f);h=32;f="";for(j=0;j<h;++j)f+=b.toHex(i.ram.getUint8(c+j),8)+" ";f+="<br>";switch(e){case L.G_MV_VIEWPORT:f+=g(c);break;case L.G_MV_L0:case L.G_MV_L1:case L.G_MV_L2:case L.G_MV_L3:case L.G_MV_L4:case L.G_MV_L5:case L.G_MV_L6:case L.G_MV_L7:f+=T(c)}d.tip(f)}switch(e){case K:u(c);
break;case q:h=a>>>5&16383;switch(h){case 0:case 24:break;default:h=Math.floor((h-48)/24),H(h,c)}break;default:Q("unknown movemen: "+e.toString(16))}},221:function(){},222:function(a,c,d){a=a>>>16&255;c=w(c);d&&d.text((a===wc?"gsSPDisplayList":"gsSPBranchList")+'(<span class="dl-branch">'+b.toString32(c)+"</span>);");a===wc&&i.dlistStack.push({pc:i.pc});i.pc=c},223:function(a,b,c){c&&c.text("gsSPEndDisplayList();");i.pc=0<i.dlistStack.length?i.dlistStack.pop().pc:0},224:function(){},225:function(){},
226:function(a,b,c){var d=a>>>8&255,a=a>>>0&255,e=2147483648>>a>>>d;c&&zb(c,a,d,b);i.rdpOtherModeL=i.rdpOtherModeL&~e|b},227:function(a,b,c){var d=a>>>8&255,a=a>>>0&255,e=2147483648>>a>>>d;c&&ua(c,a,d,b);i.rdpOtherModeH=i.rdpOtherModeH&~e|b},241:function(){}};K=8;q=10;var pd="",Mc=0;b.presentBackBuffer=function(a,c){var d;b.onPresent();if(0===Mc){c=c&2147483646|0;d=new Uint16Array(76800);for(var f=0,g=0;240>g;++g)for(var h=320*(239-g),j=0;320>j;++j)d[h]=a[c+f]<<8|a[c+f+1]|1,h+=1,f+=2;e.activeTexture(e.TEXTURE0);
e.bindTexture(e.TEXTURE_2D,pa);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,320,240,0,e.RGBA,e.UNSIGNED_SHORT_5_5_5_1,d);d=pa}else d=Bb;e.bindFramebuffer(e.FRAMEBUFFER,null);e.useProgram(sc);e.enableVertexAttribArray(Sc);e.bindBuffer(e.ARRAY_BUFFER,Kc);e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,1,-1,0,1,-1,1,0,1,1,1,0,1]),e.STATIC_DRAW);e.vertexAttribPointer(Sc,4,e.FLOAT,!1,0,0);e.enableVertexAttribArray(Tc);e.bindBuffer(e.ARRAY_BUFFER,Lc);e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,
0,1,1,1]),e.STATIC_DRAW);e.vertexAttribPointer(Tc,2,e.FLOAT,!1,0,0);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,d);e.uniform1i(vd,0);e.disable(e.CULL_FACE);e.disable(e.BLEND);e.disable(e.DEPTH_TEST);e.depthMask(!1);e.drawArrays(e.TRIANGLE_STRIP,0,4);Mc=0};Fa.prototype.begin=function(a,c,d,e){a=Array(e).join("    ");this.$span=$('<span class="hle-instr" id="I'+this.numOps+'" />');this.$span.append(b.padString(this.numOps,5)+" "+b.toHex(c,32)+b.toHex(d,32)+" "+a);this.$currentDis.append(this.$span)};
Fa.prototype.text=function(a){this.$span.append(a)};Fa.prototype.tip=function(a){a=$('<div class="dl-tip">'+a+"</div>");a.hide();this.$span.append(a)};Fa.prototype.end=function(){this.$span.append("<br>");this.numOps++};Fa.prototype.finalise=function(){Da.html(this.$currentDis);this.$currentDis.find(".dl-tip").parent().click(function(){$(this).find(".dl-tip").toggle()})};b.debugDisplayListRequested=function(){return n};b.debugDisplayListRunning=function(){return oa};b.toggleDebugDisplayList=function(){oa?
($(".debug").hide(),W=-1,oa=!1,b.toggleRun()):(ja(),n=!0)};b.debugDisplayList=function(){if(-1==ib){var a=new Fa;ea(Kb,a);a.finalise();bb=0<a.numOps?a.numOps-1:0;uc(bb);vb(-1==W?bb:W)}ea(Kb,null,W);ib!==W&&(qa.find("#dl-geometrymode-content").html(dc()),qa.find("#dl-vertices-content").html(vc()),qa.find("#dl-textures-content").html(Pb()),qa.find("#dl-combiner-content").html(mb()),qa.find("#dl-rdp-content").html(ec()),ib=W);return!0};b.initialiseRenderer=function(a){Ob();a=a[0];if(!e){try{e=a.getContext("webgl")||
a.getContext("experimental-webgl")}catch(b){}e||alert("Unable to initialize WebGL. Your browser may not support it.")}if(e){pa=e.createTexture();e.bindTexture(e.TEXTURE_2D,pa);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);Qa=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,Qa);Qa.width=640;Qa.height=
480;Bb=e.createTexture();e.bindTexture(e.TEXTURE_2D,Bb);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,Qa.width,Qa.height,0,e.RGBA,e.UNSIGNED_BYTE,null);var c=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,c);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,
Qa.width,Qa.height);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,Bb,0);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,c);e.clearColor(0,0,0,1);e.clearDepth(1);e.bindTexture(e.TEXTURE_2D,null);e.bindRenderbuffer(e.RENDERBUFFER,null);e.bindFramebuffer(e.FRAMEBUFFER,null);e.clearColor(0,0,0,1);e.clearDepth(1);e.disable(e.DEPTH_TEST);e.disable(e.BLEND);e.depthFunc(e.LEQUAL);rc=Pa("fill-shader-vs","fill-shader-fs");Rc=e.getAttribLocation(rc,"aVertexPosition");
td=e.getUniformLocation(rc,"uPMatrix");ud=e.getUniformLocation(rc,"uFillColor");sc=Pa("blit-shader-vs","blit-shader-fs");Sc=e.getAttribLocation(sc,"aVertexPosition");Tc=e.getAttribLocation(sc,"aTextureCoord");vd=e.getUniformLocation(sc,"uSampler");wd=e.createBuffer();Kc=e.createBuffer();kd=e.createBuffer();Lc=e.createBuffer();R(a.clientWidth,a.clientHeight)}};b.resetRenderer=function(){Hb={};Gb.html("")};var Ic="combined.rgb;tex0.rgb;tex1.rgb;prim.rgb;shade.rgb;env.rgb;one.rgb;combined.a;tex0.a;tex1.a;prim.a;shade.a;env.a;lod_frac;prim_lod_frac;k5;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;?           ;zero.rgb".split(";"),
Zb="combined.rgb tex0.rgb tex1.rgb prim.rgb shade.rgb env.rgb one.rgb combined.a tex0.a tex1.a prim.a shade.a env.a lod_frac prim_lod_frac zero.rgb".split(" "),Jc="combined.rgb tex0.rgb tex1.rgb prim.rgb shade.rgb env.rgb one.rgb zero.rgb".split(" "),Ea="combined.a tex0.a tex1.a prim.a shade.a env.a one.a zero.a".split(" "),Qc=[0,255],Pc=[0,36,73,109,146,182,219,255],qc=[0,17,34,51,68,85,102,119,136,153,170,187,204,221,238,255],ac=[0,8,16,24,33,41,49,57,66,74,82,90,99,107,115,123,132,140,148,156,
165,173,181,189,198,206,214,222,231,239,247,255]})(window.n64js=window.n64js||{});(function(b){b.romdb={"134c3f03a7e79e31":{name:"007 - The World is Not Enough",save:"Eeprom4k"},"9516943beb5e0af9":{name:"007 - The World is Not Enough",save:"Eeprom4k"},"61f1ba1ff1541c2c":{name:"1080 Snowboarding",save:"SRAM"},"253ffd588daa2ed9":{name:"1080 Snowboarding",save:"SRAM"},"091da5abd9ba68c6":{name:"40 Winks",save:"Eeprom4k"},d927f2df69814d0d:{name:"A Bug's Life"},fd04dc82f4822dcf:{name:"A Bug's Life"},c0ae382b10b85063:{name:"A Bug's Life"},"96c0128fe117dc45":{name:"A Bug's Life"},f18b591b459ba2ec:{name:"Aero Fighters Assault",
save:"Eeprom4k"},"95bef662d6d602f1":{name:"Aero Fighters Assault",save:"Eeprom4k"},"3e46beae4b4671cc":{name:"AeroGauge",save:"Eeprom4k"},"3111f480f6454638":{name:"AeroGauge",save:"Eeprom4k"},c84530d8363a9df2:{name:"AeroGauge",save:"Eeprom4k"},a682c18cb0cad0c2:{name:"AI Shogi 3"},ccffc42d215affc8:{name:"Aidyn Chronicles - The First Mage",save:"SRAM"},"4f5aa9e623ead2ba":{name:"Aidyn Chronicles - The First Mage",save:"SRAM"},"0cb6456c300ee5dc":{name:"Airboarder 64",save:"Eeprom4k"},d025c427c1992d8c:{name:"Airboarder 64",
save:"Eeprom4k"},"941a95b6af49c863":{name:"Akumajou Dracula Mokushiroku"},"063153a55b5ef2b9":{name:"Akumajou Dracula Mokushiroku Gaiden"},fc81607a787a8fff:{name:"Alice no Wakuwaku Trump World",save:"Eeprom4k"},ad84d7df036642ae:{name:"All Star Tennis '99",save:"Eeprom4k"},"91e285e16d76504e":{name:"All Star Tennis '99",save:"Eeprom4k"},"2907d2674c7796f6":{name:"All Star! Dairantou Smash Brothers"},"4d7a545e9507e690":{name:"All-Star Baseball 2000"},efc64654bb478ee1:{name:"All-Star Baseball 2001"},a7233ec41a68b140:{name:"All-Star Baseball 99"},
"4dd5edd974e2b86b":{name:"All-Star Baseball 99"},"0290aeb967a3b6c1":{name:"Animal Forest",save:"Eeprom4k"},"17dbf6c032d5e080":{name:"Armorines - Project S.W.A.R.M."},"32d9b51f1b48a93b":{name:"Armorines - Project S.W.A.R.M."},"5071c73c87b9cd21":{name:"Armorines - Project S.W.A.R.M."},b2bb524c6b0fabce:{name:"Army Men - Air Combat"},"57062c866d89fd8d":{name:"Army Men - Sarge's Heroes"},"19df10b21a8db598":{name:"Army Men - Sarge's Heroes"},b6730fb234fc7529:{name:"Army Men - Sarge's Heroes 2"},abd8f7d146043b29:{name:"Asteroids Hyper 64"},
c45db2418667721b:{name:"Automobili Lamborghini",save:"Eeprom4k"},bf9777fc3ce8954a:{name:"Automobili Lamborghini",save:"Eeprom4k"},"9ca440e3418d3174":{name:"Baku Bomberman",save:"Eeprom4k"},"4f7c3ce738b893af":{name:"Baku Bomberman 2",save:"Eeprom4k"},"5db998df78098458":{name:"Bakuretsu Muteki Bangaioh",save:"Eeprom4k"},"0a98cf88b52ed58e":{name:"Bakushou Jinsei 64 - Mezase! Resort Ou"},"20d568510dcd5fca":{name:"Banjo to Kazooie no Dai Bouken",save:"Eeprom4k"},"00694b518198b1b4":{name:"Banjo to Kazooie no Dai Bouken 2",
save:"Eeprom16k"},ac5975cdaef56cb2:{name:"Banjo-Kazooie",save:"Eeprom4k"},"0693bfa4d1df0cbf":{name:"Banjo-Kazooie",save:"Eeprom4k"},b1cc3f73f9924844:{name:"Banjo-Kazooie",save:"Eeprom4k"},"9aaae9c2aa705d47":{name:"Banjo-Tooie",save:"Eeprom16k"},"396d17c9d17947ea":{name:"Banjo-Tooie",save:"Eeprom16k"},df7c5b152573daf0:{name:"Banjo-Tooie",save:"Eeprom16k"},b4fb88b01d4b1e44:{name:"Bass Hunter 64",save:"Eeprom4k"},caa237d15350b662:{name:"Bass Tsuri No. 1 (Shigesato Itoi's Bass Fishing)"},aaccfabcefd814b8:{name:"Bassmasters 2000"},
c18944202bcf8612:{name:"Batman Beyond - Return of the Joker"},"847f9f2526ed9e7c":{name:"Batman Beyond - Return of the Joker"},e7dda46ae7f4e2e3:{name:"BattleTanx"},"47e2a4753d960860":{name:"BattleTanx - Global Assault"},e617ad0c97b7a571:{name:"BattleTanx - Global Assault"},cec4d4558ac75377:{name:"Battlezone - Rise of the Black Dogs"},"3d1c69914d5bacf4":{name:"Beast Wars Metals"},"16d3794d331b50e8":{name:"Beast Wars Transmetal"},a819f4edcc0419bf:{name:"Beetle Adventure Racing!"},d218739cc10dae24:{name:"Beetle Adventure Racing!"},
"614ab6a10b9414d0":{name:"Beetle Adventure Racing!"},b7a4ff08b653f401:{name:"Big Mountain 2000",save:"Eeprom4k"},"95351208def11005":{name:"Bio F.R.E.A.K.S."},"1d107cabb0c858ec":{name:"Bio F.R.E.A.K.S."},"8824ae7e5aa3409d":{name:"Bio Hazard 2",save:"SRAM"},dbe6647cdb24b955:{name:"Blast Corps",save:"Eeprom4k"},"257c647ce601d9d9":{name:"Blast Corps (v1.0)",save:"Eeprom4k"},"657e647c05d34819":{name:"Blast Corps (v1.1)",save:"Eeprom4k"},"514423656f34d3eb":{name:"Blast Dozer",save:"Eeprom16k"},"128bd07c89ff5311":{name:"Blues Brothers 2000",
save:"SRAM"},"83c871d5cf3f2d82":{name:"Blues Brothers 2000",save:"SRAM"},"6f692653c3999afe":{name:"Body Harvest",save:"Eeprom4k"},cdb8580bd291b2b7:{name:"Body Harvest",save:"Eeprom4k"},c651d4b3e258cbe1:{name:"Bokujo Monogatari 2"},f4f06fdf3842d129:{name:"Bomberman 64",save:"Eeprom4k"},"1ed568f51eba497e":{name:"Bomberman 64",save:"Eeprom4k"},"3603165ab0377bbc":{name:"Bomberman 64",save:"Eeprom4k"},b4737e23376b3bd6:{name:"Bomberman 64 - The Second Attack!",save:"Eeprom4k"},d6fd4644088278e3:{name:"Bomberman Hero",
save:"Eeprom4k"},cc12ff671202bf76:{name:"Bomberman Hero",save:"Eeprom4k"},"294e5cd8af76e288":{name:"Bomberman Hero",save:"Eeprom4k"},"4dd12fd7c432ed1f":{name:"Bottom of the 9th"},"2ecf221e13c8aa42":{name:"Brunswick Circuit Pro Bowling"},"1a78ae855df056c7":{name:"Buck Bumble"},b662c7d742963df8:{name:"Buck Bumble"},"9c33b2d5edcabcca":{name:"Buck Bumble"},"73f0868a4be545cd":{name:"Bust-A-Move 2 - Arcade Edition"},"1ededcce02053a51":{name:"Bust-A-Move 2 - Arcade Edition"},fab428e3e1284a00:{name:"Bust-A-Move 3 DX"},
"9fd8224237b6e0af":{name:"Bust-A-Move '99"},"0e4016ac1a075dcf":{name:"California Speed"},"4e2d0ff0f4aa0f34":{name:"Carmageddon 64"},ec620158f18b10e3:{name:"Carmageddon 64 (censored)"},f5018ee49b1fe5e6:{name:"Carmageddon 64 (uncensored)"},"47ffcd4b8fafa3aa":{name:"Castlevania v1.2"},"955f5df3693dfe8a":{name:"Castlevania"},cab7f1645537a271:{name:"Castlevania"},"3863c01c26893887":{name:"Castlevania - Legacy of Darkness"},e74bc5a2b2cb1967:{name:"Castlevania - Legacy of Darkness"},"3421cfdc7835d69d":{name:"Centre Court Tennis"},
"5a53206462800250":{name:"Chameleon Twist",save:"Eeprom4k"},"21f5f2a48e16ebf0":{name:"Chameleon Twist",save:"Eeprom4k"},c68cafb99ff1c9de:{name:"Chameleon Twist",save:"Eeprom4k"},e48c53cdf9fc8a61:{name:"Chameleon Twist 2"},"5a76490542d0b993":{name:"Chameleon Twist 2"},"019da607a1417d9a":{name:"Chameleon Twist 2"},e8960e1e6b82284e:{name:"Charlie Blast's Territory"},d0483cfb9ff6288d:{name:"Charlie Blast's Territory"},"94ad4c21243b1abe":{name:"Chopper Attack",save:"Eeprom4k"},"3993352ea6eda53f":{name:"Chopper Attack",
save:"Eeprom4k"},c4f9cc2b6f9f3d40:{name:"Choro Q 64",save:"Eeprom4k"},"540fcd26e0efeb53":{name:"Choro Q 64 II",save:"Eeprom4k"},"281594a79d19f161":{name:"Chou Snobow Kids"},f40f183af78a8e5c:{name:"Chou Kuukan Night Pro Yakyuu King 2",save:"Eeprom4k"},b09d00f82318296b:{name:"City-Tour GP - All Japan Grand Touring Car Champion"},ff3d5afab9cdc9b4:{name:"Clay Fighter - Sculptor's Cut"},ca243cf0cc7b23c5:{name:"Clay Fighter 63 1/3"},b392968e2abb6442:{name:"Clay Fighter 63 1/3"},c0a76f2b2512a709:{name:"Clay Fighter 63 1/3 (beta)"},
ad5b02b5fd7526d3:{name:"Command & Conquer",save:"FlashRam"},b46e28958fd56ab7:{name:"Command & Conquer",save:"FlashRam"},"65945bae76654dc5":{name:"Command & Conquer",save:"FlashRam"},"50acc7302d070477":{name:"Conker's Bad Fur Day",save:"Eeprom16k"},"89583f370aa86c9a":{name:"Conker's Bad Fur Day",save:"Eeprom16k"},aff7a346d091750f:{name:"Cruis'n Exotica",save:"Eeprom4k"},"542540b304c04073":{name:"Cruis'n USA",save:"Eeprom4k"},"60a73e50960e30e1":{name:"Cruis'n USA",save:"Eeprom4k"},b42f2fff9a1461d1:{name:"Cruis'n USA (v1.0)",
save:"Eeprom4k"},"45cf06535092c4cb":{name:"Cruis'n USA (v1.1)",save:"Eeprom4k"},"5311e6dfe61861d7":{name:"Cruis'n World",save:"Eeprom16k"},"1e93f3833d2272cb":{name:"Cruis'n World",save:"Eeprom16k"},"870bcb835754327e":{name:"Custom Robo",save:"Eeprom4k"},b9019507ab3202ab:{name:"Custom Robo V2",save:"Eeprom16k"},a18efce89183739f:{name:"CyberTiger"},"078aa7d13edda352":{name:"CyberTiger"},"45f48871680a4184":{name:"Dance Dance Revolution - Disney Dancing Museum"},"582ba5a441987523":{name:"Dark Rift"},
d47cd67e6d5e41b4:{name:"Dark Rift"},"493336f51bd2f9db":{name:"Deadly Arts"},d9a9663f005bcb9b:{name:"Defi au Tetris Magique"},e167f6a51fbd1fda:{name:"Derby Stallion 64",save:"SRAM"},"614ac517e7f2834a":{name:"Densha de GO! 64",save:"SRAM"},a284e5de8711160f:{name:"Destruction Derby 64"},"7da30a63dbd76b89":{name:"Destruction Derby 64"},"9c167989a0f689f1":{name:"Dezaemon 3D",save:"SRAM"},"725629d51570b59c":{name:"Diddy Kong CRACKED",save:"Eeprom4k"},"5aa389f362557817":{name:"Diddy Kong Racing",save:"Eeprom4k"},
e740d45311b01975:{name:"Diddy Kong Racing (v1.0)",save:"Eeprom4k"},"75f773fd5a752497":{name:"Diddy Kong Racing (v1.0)",save:"Eeprom4k"},"0d4302e49dfcfcd2":{name:"Diddy Kong Racing (v1.1)",save:"Eeprom4k"},"5b146e599f87d9f7":{name:"Diddy Kong Racing (v1.1)",save:"Eeprom4k"},"1b426cc1f78015a2":{name:"Disney's Donald Duck - Goin' Quackers",save:"Eeprom4k"},"2313264c1a5e294f":{name:"Disney's Tarzan"},c769fecb2aabc0f2:{name:"Disney's Tarzan",save:"Eeprom4k"},d03b1a001adeb3af:{name:"Disney's Tarzan"},bfe514d6c1bc6da7:{name:"Disney's Tarzan",
save:"Eeprom4k"},"6d208ebd1c5ec398":{name:"Doubutsu No Mori",save:"Eeprom4k"},"8074f13d5aed3d19":{name:"Donald Duck - Quack Attack"},bfea58ec69717cad:{name:"Donkey Kong 64",save:"Eeprom16k"},a7893c05024306a5:{name:"Donkey Kong 64",save:"Eeprom16k"},"8c6d9311434b2c6f":{name:"Donkey Kong 64",save:"Eeprom16k"},ababd40d1ea9a2b5:{name:"Donkey Kong 64 - Kiosk",save:"Eeprom16k"},"1a103ea89db637e9":{name:"Doom 64"},f4963e425bf088ce:{name:"Doom 64"},"365ba67aade5cefd":{name:"Doom 64"},ac9e732c2677f79e:{name:"Doom 64"},
c2b1f7bf8e14bfae:{name:"Doraemon - Mittsu no Seireiseki",save:"Eeprom4k"},"996e30b6b2d23eb6":{name:"Doraemon 2 - Hikari no Shinden",save:"Eeprom16k"},"405127a8e856b0b9":{name:"Doraemon 3 - Nobi Dai No Machi SOS!",save:"Eeprom16k"},"134d9d76fe3f23da":{name:"Dr. Mario 64",save:"Eeprom4k"},a0ecde3fb29b9f39:{name:"Dragon Sword 64"},c33022a6884483f0:{name:"Dual Heroes"},"63ab6e05d5fc15c2":{name:"Dual Heroes"},"614452b6b1046ded":{name:"Dual Heroes"},faf1b9fb8986f86b:{name:"Duck Dodgers Starring Daffy Duck",
save:"Eeprom4k"},"7ff0da0488e6180d":{name:"Duke Nukem - ZER0 H0UR"},"4b97ca32509cc2b2":{name:"Duke Nukem - ZER0 H0UR"},"6a6236dccb70373f":{name:"Duke Nukem - ZER0 H0UR"},"56ab73a29adb33da":{name:"Duke Nukem 64"},"3d88121e1827b9d3":{name:"Duke Nukem 64"},"4df7bf57437774de":{name:"Duke Nukem 64"},cfb6db349d7806ea:{name:"Earthworm Jim 3D Ru",save:"Eeprom4k"},"914157df3d12b59e":{name:"Earthworm Jim 3D",save:"Eeprom4k"},e89d2b491cc8ccc6:{name:"Earthworm Jim 3D",save:"Eeprom4k"},"6d76f9bd708d06bd":{name:"ECW Hardcore Revolution"},
dbe5388cd7277cb3:{name:"ECW Hardcore Revolution"},cb53a6f23b3b6360:{name:"Elmo's Letter Adventure"},"8f53b102d0884bc9":{name:"Elmo's Number Journey"},dce23ae1e85cb64f:{name:"Eltale Monsters"},"421886079fbc2ea1":{name:"Excitebike 64",save:"Eeprom16k"},"19351c86e51c09f6":{name:"Excitebike 64",save:"Eeprom16k"},e48e2a20898bf883:{name:"Excitebike 64",save:"Eeprom16k"},"7b4f75af8173d11d":{name:"Excitebike 64 - Kiosk",save:"Eeprom16k"},d245a2fd473d4aa7:{name:"Extreme-G"},c42d80ee7dd50b69:{name:"Extreme-G"},
"4e839d8ea9298b1e":{name:"Extreme-G"},"0b15d45cf1c20c47":{name:"Extreme-G XG2"},"819b9b3911ad33d5":{name:"Extreme-G XG2"},"85ec851131775a4b":{name:"Extreme-G XG2"},"7a6882ae8d383f9a":{name:"F-1 Pole Position 64"},b248d2fd0e029a56:{name:"F-1 Pole Position 64"},b8bcec3c07bf2661:{name:"F1 Racing Championship"},"3426443860f0b366":{name:"F-1 World Grand Prix",save:"Eeprom4k"},b3c83ccca405c40e:{name:"F-1 World Grand Prix",save:"Eeprom4k"},e5ae0bb7a805503a:{name:"F-1 World Grand Prix",save:"Eeprom4k"},c447bf64ba22bdf4:{name:"F-1 World Grand Prix",
save:"Eeprom4k"},"6e86c107decc7557":{name:"F-1 World Grand Prix II",save:"Eeprom16k"},"374cff6dfd63b7b1":{name:"Famista 64"},"4f47294f7a70cb30":{name:"F-Cup Maniax"},decd1acbf21d29cf:{name:"FIFA - Road to World Cup 98"},"673c73f53a97a317":{name:"FIFA - Road to World Cup 98"},f0ed310ed54972c3:{name:"FIFA - Road to World Cup 98"},"30a61376f396d63e":{name:"FIFA 99"},"51a69801849d21fc":{name:"FIFA 99"},"5991f1c35abcd265":{name:"FIFA Soccer 64"},"70e594fe9c3a87e4":{name:"Fighter's Destiny",save:"Eeprom4k"},
"0588f752b7ca8f8b":{name:"Fighter's Destiny",save:"Eeprom4k"},c2f9410c0d7a7101:{name:"Fighter's Destiny",save:"Eeprom4k"},"4bc7f136399902f2":{name:"Fighter's Destiny",save:"Eeprom4k"},"452fefaef1307ef9":{name:"Fighter's Destiny 2",save:"Eeprom4k"},"2d6ce4490c111a7b":{name:"Fighting Cup"},cbc7ef32203feac3:{name:"Fighting Force 64"},fe0fcf669c7f69ad:{name:"Fighting Force 64"},"2d56d52850aed5e4":{name:"Fire Electric Pen",save:"Eeprom4k"},e5522da955b6261d:{name:"Flying Dragon"},"3f62e922ad520eb6":{name:"Flying Dragon"},
"1a8fff35bee3796e":{name:"Flying Dragon Fighters (Hiro no Ken Twin)"},"79b1e5e8e830aa44":{name:"Frogger 2 (Alpha)"},ff76cdc3decb9d9b:{name:"Forsaken"},"010c339eba14038c":{name:"Forsaken"},aa172a14968d0213:{name:"Forsaken"},"79d4613225bc0ded":{name:"Fox Sports College Hoops '99"},eeea74f73eb1d8f0:{name:"Fushigi no Dungeon - Furai no Shiren 2",save:"FlashRAM"},a9d183398c150420:{name:"F-Zero DXP",save:"SRAM"},"78d90eb3f9c90330":{name:"F-Zero X",save:"SRAM"},"2e623e4d4e8b829b":{name:"F-Zero X",save:"SRAM"},
f64666772bacb906:{name:"F-Zero X",save:"SRAM"},b67986afbf11105e:{name:"G.A.S.P! Fighter's NEXTream",save:"Eeprom16k"},"26f7fc68bc8c6549":{name:"G.A.S.P! Fighter's NEXTream",save:"Eeprom16k"},"8b162c83aecda256":{name:"Ganbare Goemon"},d99c7b455253c509:{name:"Ganbare Goemon 2 - Deoru Dero Douchuu Obake Tenko"},"0afdff21981d0dfa":{name:"Ganbare Nippon Olympics 2000"},"325e9b7280d928b7":{name:"Gauntlet Legends"},"0e26b0704cd01667":{name:"Gauntlet Legends"},d6bc43d556e2a52b:{name:"Gauntlet Legends"},e6849c48f9496e4c:{name:"Getter Love!! Cho Renai Party Game"},
"127edc3ec91c6ce2":{name:"Gex 3 - Deep Cover Gecko"},"59931799c3ebe72f":{name:"Gex 3 - Deep Cover Gecko"},a43347875a7423a8:{name:"Gex 3 - Deep Cover Gecko"},"74d7fe891be2afca":{name:"Gex 64 - Enter the Gecko"},"0e008ae6dd669163":{name:"Gex 64 - Enter the Gecko"},ff016e8e48f9b4cc:{name:"Glover",save:"Eeprom4k"},"017323f593eee399":{name:"Glover",save:"Eeprom4k"},"7fd2c6b2fd8ca42d":{name:"Goemon Mononoke Sugoroku"},ada552424ebf6fae:{name:"Goemon's Great Adventure"},"1cfb9046446dd54c":{name:"Golden Nugget 64"},
d150bcdca31afd09:{name:"GoldenEye 007",save:"Eeprom4k"},f14c4fa2ba2723a8:{name:"GoldenEye 007",save:"Eeprom4k"},"61ca1404aab8572e":{name:"GoldenEye 007",save:"Eeprom4k"},a2dc9ac4621b50f1:{name:"GT 64 Championship Edition",save:"Eeprom4k"},"330e4aeec988d58f":{name:"GT 64 Championship Edition",save:"Eeprom4k"},"1401a8957f2ab7e0":{name:"Hamster Monogatari 64",save:"Eeprom4k"},bf2ff236f2128931:{name:"Hanafuda 64 - Tenshi no Yakusoku"},b157ae0937562a18:{name:"Harukanaru Augusta Masters 98",save:"Eeprom4k"},
fc9ddf9889c10666:{name:"Harvest Moon 64",save:"SRAM"},"66e8703ee8ba3844":{name:"Heiwa Pachinko World",save:"Eeprom4k"},"77eb3c7f0a038189":{name:"Hercules - The Legendary Journeys"},ebdb90ae2391b879:{name:"Hercules - The Legendary Journeys"},"0ab5b39a056166bc":{name:"Hexen"},bd5f1b5c3416967e:{name:"Hexen"},ea6aab9c001cc687:{name:"Hexen"},"571a75666e9da254":{name:"Hexen"},"0bb3b295c115642b":{name:"Hexen"},"5d0ef1d379a52e05":{name:"Hey You, Pikachu!",save:"Eeprom4k"},"140efa7505d1b3c9":{name:"Holy Magic Century"},
b0eb5fb304b22774:{name:"Holy Magic Century"},"9d127b27ff7938dd":{name:"Holy Magic Century"},bd02d7c14765416d:{name:"Hoshi no Kirby 64",save:"Eeprom4k"},"8e8fc9c7de5d1442":{name:"Hot Wheels Turbo Racing"},"9301d2e7938e15c1":{name:"Hot Wheels Turbo Racing"},"7d1d6172d2bd1999":{name:"HSV Adventure Racing"},"2e97355595328ebd":{name:"Human Grand Prix"},"6ac9dbe8eee2c9da":{name:"Hybrid Heaven"},bf882810ca884843:{name:"Hybrid Heaven"},"36cee20de6291dd4":{name:"Hybrid Heaven"},"7f3a1d6466048286":{name:"Hybrid Heaven"},
eb65dcc804898c3d:{name:"Hydro Thunder"},e98889b5e84bfcb1:{name:"Hydro Thunder"},"9e8b456936f995fc":{name:"Iggy-kun no Bura Bura Poyon"},bcb516e6888b65c9:{name:"Iggy's Reckin' Balls"},"5ecc92d672d058ec":{name:"Iggy's Reckin' Balls"},"15cc9daf883d721a":{name:"Indiana Jones and the Infernal Machine",save:"Eeprom4k"},"7a4636e49b8fde82":{name:"Indy Racing 2000",save:"Eeprom4k"},e08b138c460e7095:{name:"In-Fisherman Bass Hunter 64",save:"Eeprom4k"},"3754838eb44857cd":{name:"International Superstar Soccer 2000"},
a0646333bfd5c806:{name:"International Superstar Soccer 2000"},"71e8e8ba4e94ff35":{name:"International Superstar Soccer 2000"},c463275fe52a4162:{name:"International Superstar Soccer 64"},f07cd3e2ae4e7ef5:{name:"International Superstar Soccer 64"},"43631bf4e66106c1":{name:"International Superstar Soccer 98"},"09da0f7f0bce6160":{name:"International Superstar Soccer '98"},c73b072011013b5e:{name:"International Track and Field 2000"},"79c712671d78723b":{name:"International Track and Field Summer Games"},
"476776876571c291":{name:"J. League Dynamite Soccer"},aa0acec619f017d1:{name:"J. League Tactics Soccer (1.1)"},"29a4bf4f15bb2069":{name:"J. League Eleven Beat 1997"},"424a5554fb5f98e4":{name:"J. League Live 64"},a09dd2e8941de615:{name:"J. League Tactics Soccer"},"16d03ac77d53c548":{name:"Jangou Simulation Mahjong Do 64"},"6064256986f5a3b9":{name:"Jeopardy!"},a5b130bbce12f7fc:{name:"Jeremy McGrath Supercross 2000"},fbabf721e8a78a6a:{name:"Jeremy McGrath Supercross 2000"},b609608a50e1ac94:{name:"Jet Force Gemini",
save:"FlashRam"},dea1d7684a837900:{name:"Jet Force Gemini",save:"FlashRam"},"47abd8df89ebdb3c":{name:"Jet Force Gemini - Kiosk",save:"FlashRam"},f5d919afcc2302b7:{name:"Jikkyou G1 Stable"},"532a11638fa89fa2":{name:"Jikkyou J. League 1999 - Perfect Striker 2"},"66436c14b3dea672":{name:"Jikkyou J. League Perfect Striker"},"1c1f89d78837e4c3":{name:"Jikkyou Pawafuru Puroyakyu 4 (1.1)"},d144c20a05c60e1f:{name:"Jikkyou Pawapuro Puroyakyu 2000"},"23df6442f7bd28be":{name:"Jikkyou Pawapuro Puroyakyu 2000"},
"2056ea3f40db5674":{name:"Jikkyou World Cup France '98"},"8cb354c9b3be626f":{name:"Jikkyou World Cup France '98"},d6abc7e1287f704e:{name:"Jikkyou World Cup France '98"},"8c9fa7e0fa97cc32":{name:"Jikkyou World Soccer 3"},edf6aa4aad286437:{name:"Jinsei Game 64"},b01a15d04ba15cfe:{name:"John Romero's Daikatana"},"4b3c7e9d6c4a0fe6":{name:"John Romero's Daikatana"},"9531740f95dba6d8":{name:"John Romero's Daikatana"},"231f2836cf569700":{name:"Ken Griffey Jr.'s Slugfest",save:"FlashRam"},"3e269b97040047f8":{name:"Killer Instinct Gold",
save:"Eeprom4k"},bae28f9e7007278b:{name:"Killer Instinct Gold (v1.0)",save:"Eeprom4k"},facd8f9e2b65f549:{name:"Killer Instinct Gold (v1.0)",save:"Eeprom4k"},"4cca08f927434636":{name:"Killer Instinct Gold (v1.2)",save:"Eeprom4k"},e1a49e51e88475eb:{name:"King Hill 64 - Extreme Snowboarding"},d66abc75c92b5578:{name:"Kiratto Kaiketsu! 64 Tanteidan"},b49f03462c823703:{name:"Kirby 64 - The Crystal Shards",save:"Eeprom4k"},"11ba930da6683868":{name:"Kirby 64 - The Crystal Shards",save:"Eeprom4k"},"6fb81bcac5a5cc41":{name:"Kirby 64 - The Crystal Shards (1.1)",
save:"Eeprom4k"},"7a1c580ce4206e3d":{name:"Kirby 64 - The Crystal Shards (1.2)",save:"Eeprom4k"},"9ff8b1bca2520706":{name:"Kirby 64 - The Crystal Shards (1.3)",save:"Eeprom4k"},"99d7e0fc546c3165":{name:"Knife Edge - Nose Gunner"},"3fef1a93906b19ef":{name:"Knife Edge - Nose Gunner"},"747c994a997f08e2":{name:"Knife Edge - Nose Gunner"},"9c9094082dd8d4da":{name:"Knockout Kings 2000"},"95a7d6e33c5d1c2a":{name:"Knockout Kings 2000"},"94846b611092508a":{name:"Kobe Bryant's NBA Courtside",save:"Eeprom16k"},
baef3917683ab4d0:{name:"Kobe Bryant's NBA Courtside",save:"Eeprom16k"},e8603e5e95d4b54a:{name:"Kuiki Uhabi Suigo"},"9940307f7652cf52":{name:"Last Legion UX",save:"Eeprom4k"},ea406a09100abe8a:{name:"LEGO Racers"},b3d878f46ddd1697:{name:"LEGO Racers"},"2bc6673d5031d031":{name:"Let's Smash Tennis"},df1850253aaed657:{name:"Lode Runner 3-D",save:"Eeprom4k"},"0bdd4a96db1392b2":{name:"Lode Runner 3-D",save:"Eeprom4k"},"80064660720e5f30":{name:"Lode Runner 3-D",save:"Eeprom4k"},"5b05a00a65df3776":{name:"Looney Tunes - Duck Dodgers",
save:"Eeprom4k"},"2ce9cbf412ed92b3":{name:"Lylat Wars",save:"Eeprom4k"},"2bf283245e026e13":{name:"Lylat Wars",save:"Eeprom4k"},"5007706bfe21d629":{name:"Mace - The Dark Age"},"3d444511db0e6111":{name:"Mace - The Dark Age"},"8616b80c815ad85f":{name:"Madden 2000"},"89638313763c5b26":{name:"Madden Football 64"},"52cb97a10ede2075":{name:"Madden Football 64"},"8d4f13d7b5001ac1":{name:"Madden NFL 2002",save:"Eeprom16k"},"92f738eb46a20e19":{name:"Madden NFL 2001"},ba8bb7de9dbdf652:{name:"Madden NFL 99"},
"25d625395ec7838c":{name:"Madden NFL 99"},f793efe10b8b9014:{name:"Magical Tetris Challenge"},"4716b67578bfda7a":{name:"Magical Tetris Challenge"},"4a56c880ab659c92":{name:"Magical Tetris Challenge"},"796690e4053f249f":{name:"Magical Tetris Challenge"},"41dc3ec55993e1ec":{name:"Mahjong 64"},"1e82cccc838ae896":{name:"Mahjong Hourouki Classic"},"702cc40fcdf15487":{name:"Mahjong Master"},"5cc0c180f45e06ea":{name:"Major League Baseball Featuring Ken Griffey Jr.",save:"SRAM"},be98b9cdc8a52410:{name:"Major League Baseball Featuring Ken Griffey Jr.",
save:"SRAM"},d4a34b66b7808a67:{name:"Mario Golf 64",save:"SRAM"},d14489d40e3ad9b0:{name:"Mario Golf 64",save:"SRAM"},d057e9625d5ac17f:{name:"Mario Golf 64",save:"SRAM"},b655503e52da922e:{name:"Mario Kart 64",save:"Eeprom4k"},"5847ff6b5e5dffe5":{name:"Mario Kart 64 (v1.0)",save:"Eeprom4k"},"9ddeb6c376ded265":{name:"Mario Kart 64 (v1.0)",save:"Eeprom4k"},"87a9c3c94c341058":{name:"Mario Kart 64 (v1.1)",save:"Eeprom4k"},d4c77725aeaa8fd1:{name:"Mario Kart 64 (v1.1)",save:"Eeprom4k"},ac90989adf13c3f0:{name:"Mario No Photopie"},
"7e652928771862a0":{name:"Mario Party",save:"Eeprom4k"},be15a8ad2f622860:{name:"Mario Party",save:"Eeprom4k"},"6930669c804af280":{name:"Mario Party",save:"Eeprom4k"},"5858a99e18b672af":{name:"Mario Party 2",save:"Eeprom4k"},"0f7d56ed1589b038":{name:"Mario Party 2",save:"Eeprom4k"},"87033882d944c7df":{name:"Mario Party 2",save:"Eeprom4k"},d929387cce47826e:{name:"Mario Party 3",save:"Eeprom16k"},cdb40a0b3789157b:{name:"Mario Party 3",save:"Eeprom16k"},"604167c53c455f0f":{name:"Mario Party 3",save:"Eeprom16k"},
dccda73ba0524e46:{name:"Mario Story",save:"FlashRam"},"4fcf0150bdb30cf3":{name:"Mario Tennis",save:"Eeprom16k"},b5426c3a1bdaca1a:{name:"Mario Tennis",save:"Eeprom16k"},d53a9f83fa156d40:{name:"Mario Tennis",save:"Eeprom16k"},f558c10e96683efb:{name:"Mega Man 64",save:"FlashRam"},"0cf10110c1d8513d":{name:"Mia Hamm Soccer 64"},c26661e3e5a21386:{name:"Michael Owens WLS 2000"},"71458cfac0f9e7bb":{name:"Mickey's Speedway USA",save:"Eeprom4k"},"9addd0dea72582e7":{name:"Mickey's Speedway USA",save:"Eeprom4k"},
afe66a73c7e91741:{name:"Mickey no Racing Challenge USA",save:"Eeprom4k"},"350c85f11279e0ac":{name:"Micro Machines 64 Turbo"},"8d01492a024a03d0":{name:"Micro Machines 64 Turbo"},"4c5eb3e4c95cc41a":{name:"Midway's Greatest Arcade Hits Volume 1"},"163ed509b968b23a":{name:"Mike Piazza's Strike Zone"},cd5e952e840800f3:{name:"Milo's Astro Lanes"},"9d0d499adc3a018f":{name:"Milo's Astro Lanes"},"1b05930bf9813d60":{name:"Mischief Makers",save:"Eeprom4k"},"98da8b41580f8a24":{name:"Mischief Makers",save:"Eeprom4k"},
"7e3feb93445e6781":{name:"Mission Impossible",save:"Eeprom4k"},f85c032635912b80:{name:"Mission Impossible",save:"Eeprom4k"},"345b0920879e3d34":{name:"Mission Impossible",save:"Eeprom4k"},dc49a9ebbdecba39:{name:"Mission Impossible",save:"Eeprom4k"},daec56229c1bab71:{name:"Mission Impossible",save:"Eeprom4k"},e2046a5f0d07fad4:{name:"Mission Impossible",save:"Eeprom4k"},"6d8d76286c9779b3":{name:"Monaco Grand Prix",save:"Eeprom4k"},e183c35a87e312d7:{name:"Monopoly",save:"Eeprom4k"},"99d99ab11851587e":{name:"Monster Truck Madness 64"},
fc06d8d3a8a23ab4:{name:"Monster Truck Madness 64"},"70dde8e898d15d41":{name:"Morita Shogi 64",save:"Eeprom4k"},f4d47d41e22f481b:{name:"Mortal Kombat 4",save:"Eeprom4k"},"3b6f0373e9690dce":{name:"Mortal Kombat 4",save:"Eeprom4k"},ac0443c321c0792d:{name:"Mortal Kombat Mythologies - Sub-Zero"},c4ed44ff1392ae1a:{name:"Mortal Kombat Mythologies - Sub-Zero"},"125cf7d9599b85a8":{name:"Mortal Kombat Trilogy"},"92113d8ce172f1be":{name:"Mortal Kombat Trilogy"},a93af3830dd401a9:{name:"Mortal Kombat Trilogy (v1.2)"},
"5cb6f92ad7a2e285":{name:"MRC - Multi Racing Championship",save:"Eeprom4k"},"13b4b6a6cc13d115":{name:"MRC - Multi Racing Championship",save:"Eeprom4k"},"03bdf0b89e187944":{name:"MRC - Multi Racing Championship",save:"Eeprom4k"},"5c52381956966e58":{name:"Ms. Pac-Man Maze Madness"},"21cbbcfc6b3c9072":{name:"Mystical Ninja - Starring Goemon"},be0f36f51d69f12b:{name:"Mystical Ninja - Starring Goemon"},d345937fdeca1e84:{name:"Mystical Ninja 2 - Starring Goemon"},"8725c27e23e31aef":{name:"Nagano Olympic Hockey '98"},
"3730f490f570535c":{name:"Nagano Olympic Hockey '98"},"353a2dae1ad4f024":{name:"Nagano Olympic Hockey '98"},"98ae2b8dbf2537d7":{name:"Nagano Winter Olympics '98"},"4cc3c52f9dcc057a":{name:"Nagano Winter Olympics '98"},"1620456dee093c71":{name:"Nagano Winter Olympics '98"},dab629518c3cef9d:{name:"Namco Museum 64"},"181a33df44e0d45f":{name:"NASCAR 2000"},"78957423fd58dc80":{name:"NASCAR 99"},"49140000c99249ae":{name:"NASCAR 99"},c99249ae53b25392:{name:"NASCAR 99"},"57ebf724f4f9b374":{name:"NBA Courtside 2 - Featuring Kobe Bryant",
save:"FlashRam"},d8526891efeadb73:{name:"NBA Courtside 2 - Featuring Kobe Bryant",save:"FlashRam"},"87b4694e90e218fe":{name:"NBA Hangtime"},aedc88c70a0003bd:{name:"NBA Hangtime"},"011fe1aa45a02526":{name:"NBA In the Zone 2000"},"185bf98d7b49daec":{name:"NBA In the Zone 2000"},"9f4f05b3b59eb696":{name:"NBA In the Zone 2000"},"3019126a74c25c66":{name:"NBA In the Zone '98"},"9bbaac36944d8df2":{name:"NBA In the Zone '98"},"4f5292a2492a6c3d":{name:"NBA In the Zone '99"},dba8eeeb3cb2ecf2:{name:"NBA Jam 2000"},
a0cad0b6c893f4e3:{name:"NBA Jam 2000"},f6290781c1cf3fe0:{name:"NBA Jam 99"},"1e8300e6a822f459":{name:"NBA Jam 99"},eeb0255fdbc12762:{name:"NBA Live 2000"},"8f9c49ebb66745cd":{name:"NBA Live 2000"},"9b1cf85735fa3311":{name:"NBA Live 99"},"5ff484cfebf6e400":{name:"NBA Live 99"},"2f96deac7ff8cbb2":{name:"NBA Pro 98"},b680178d76b9b357:{name:"NBA Pro 99"},f480fe3f7e5fc1a7:{name:"NBA Showtime - NBA on NBC"},db0e7e142cb1c536:{name:"Neon Genesis Evangelion",save:"Eeprom16k"},"4fd5ea30f60b6231":{name:"NFL Blitz - Special Edition"},
"70b194d0ccb5c4d7":{name:"NFL Blitz"},"6909a01585a2e534":{name:"NFL Blitz 2000"},eb35fa36362e5ee8:{name:"NFL Blitz 2001"},d04eabe3d20d0483:{name:"NFL Quarterback Club 2000"},"9e5abd88bfdf1fe8":{name:"NFL Quarterback Club 2000"},"224678288529b2ff":{name:"NFL Quarterback Club 2001"},f8e29bd8df7ac999:{name:"NFL Quarterback Club 98"},f49e624b9b1db299:{name:"NFL Quarterback Club 98"},ffed76be092d4520:{name:"NFL Quarterback Club 99"},"47cfa352fc3bc14e":{name:"NFL Quarterback Club 99"},"6e801a591d92e6a5":{name:"NHL 99"},
"1e607d28aef8f4ab":{name:"NHL 99"},"30dcef8261246a80":{name:"NHL Blades of Steel '99"},c3cdfd6dc801e74d:{name:"NHL Breakaway 98"},"9276ce297985c571":{name:"NHL Breakaway 98"},d06817444ff2737d:{name:"NHL Breakaway 99"},cb21468727c13100:{name:"NHL Breakaway 99"},d95c89a96c012070:{name:"NHL Pro 99"},"4d675728da3743cc":{name:"Nightmare Creatures"},df3c3ccdfa937731:{name:"Nintama Rantarou 64"},"45b8508f2fd229d7":{name:"Nuclear Strike 64"},bbdd9849bcaeb7f7:{name:"Nuclear Strike 64"},"97a1978ac1f62d27":{name:"Nuclear Strike 64"},
"20b93bd8166440cc":{name:"Nushi Zuri 64"},"18169b5b49c6431b":{name:"Nushi Tsuri 64 - Shiokaze ni Notte"},ec939031ef09c20f:{name:"Off Road Challenge"},d08922819632e5c2:{name:"Off Road Challenge"},c59b41e6e31d0169:{name:"Ogre Battle 64 - Person of Lordly Caliber",save:"SRAM"},"67cf7503aa3fa956":{name:"Ogre Battle 64 - Person of Lordly Caliber (v1.1)",save:"SRAM"},"6910969c8d48eaf5":{name:"Ohzumou 64",save:"Eeprom4k"},"168bc185af2296df":{name:"Ohzumou 64 2",save:"Eeprom4k"},"669464dcd9f02f57":{name:"Onegai Monsters"},
"3b4b5574b5bcaef4":{name:"Pachinko 365 Nichi"},"3ae5ee653c737ded":{name:"Paper Mario",save:"FlashRam"},af29ab1928cd1bc7:{name:"Paper Mario",save:"FlashRam"},"129b52893bed5308":{name:"Paperboy"},"9e8d193e7e26e1f2":{name:"Paperboy"},"386b97ac7ac9a9c3":{name:"Paperboy"},"31cbe2cf1d1e6b4d":{name:"Parlor! Pro 64 Pachinko Jikki Simulation Game"},"6647dd6ea89b3ea9":{name:"Pawapuro Puroyakyu 2001"},ad5b4934269d2e50:{name:"Pawapuro Puroyakyu 4"},da4329d2c0772bac:{name:"Pawapuro Puroyakyu 5"},b7205eb7fdfdfeb3:{name:"Pawapuro Puroyakyu 6"},
"8c1168f44ee42ee3":{name:"PD Ultraman Battle Collection 64",save:"Eeprom16k"},fbb1ab739360ca9c:{name:"Penny Racers",save:"Eeprom4k"},"83eb3cc81962c5fd":{name:"Penny Racers",save:"Eeprom4k"},b47e749643b24b10:{name:"Perfect Dark",save:"Eeprom16k"},"0780b0e433ff02a6":{name:"Perfect Dark",save:"Eeprom16k"},cc60f4ddc034a63c:{name:"Perfect Dark (v1.0)",save:"Eeprom16k"},"8fb9f24166b458b4":{name:"Perfect Dark (v1.1)",save:"Eeprom16k"},"81e84cb52661cbbc":{name:"PGA European Tour",save:"Eeprom4k"},"02c608eea6d5c26b":{name:"PGA European Tour",
save:"Eeprom4k"},"0553243faa740bfc":{name:"Pikachu Genki Dechu"},"1c9651c8faaafc78":{name:"Pilot Wings 64",save:"Eeprom4k"},"0148cc0991e42ee4":{name:"Pilot Wings 64",save:"Eeprom4k"},d55aa01a802df546:{name:"Pilot Wings 64",save:"Eeprom4k"},"0d690fec8c43a732":{name:"Pocket Monsters Snap",save:"FlashRam"},"59825e661dbd98d0":{name:"Pocket Monsters Stadium",save:"FlashRam"},"865877637b0eb85f":{name:"Pocket Monsters Stadium 2",save:"FlashRam"},ac47477a23ecee44:{name:"Pokemon Puzzle League",save:"FlashRam"},
a753c519524b0fa7:{name:"Pokemon Puzzle League",save:"FlashRam"},f3e6b23efe9e2f06:{name:"Pokemon Puzzle League",save:"FlashRam"},"53d11c4af8ae30d8":{name:"Pokemon Puzzle League",save:"FlashRam"},"6f97f54fd859f5ac":{name:"Pokemon Snap",save:"FlashRam"},"6a287d81167441ef":{name:"Pokemon Snap",save:"FlashRam"},"0d7253574d888a2a":{name:"Pokemon Snap",save:"FlashRam"},"47b512cae44efa71":{name:"Pokemon Snap",save:"FlashRam"},"3a296cba38a3af9f":{name:"Pokemon Snap",save:"FlashRam"},"4650c8c0051b0561":{name:"Pokemon Snap",
save:"FlashRam"},"408db17b59851383":{name:"Pokemon Snap",save:"FlashRam"},"729811399f2e7207":{name:"Pokemon Snap Station",save:"FlashRam"},"432d121a0faf7dc1":{name:"Pokemon Stadium - Kiosk",save:"FlashRam"},"2da83fa55dc1e2da":{name:"Pokemon Stadium",save:"FlashRam"},"5de0c991b9af3aad":{name:"Pokemon Stadium",save:"FlashRam"},"1b1e0142b52d55e3":{name:"Pokemon Stadium",save:"FlashRam"},b3d9f590f0dc0e9d:{name:"Pokemon Stadium",save:"FlashRam"},a35335a2392dbf42:{name:"Pokemon Stadium",save:"FlashRam"},
"757207849c5b3157":{name:"Pokemon Stadium",save:"FlashRam"},ce49e5b6c03481dc:{name:"Pokemon Stadium",save:"FlashRam"},"821157036dd02f89":{name:"Pokemon Stadium 2",save:"FlashRam"},c7a55aacc3cdb0a9:{name:"Pokemon Stadium 2",save:"FlashRam"},"727e9b435d49a1c1":{name:"Pokemon Stadium 2",save:"FlashRam"},"0bfca1d04b07b82f":{name:"Pokemon Stadium 2",save:"FlashRam"},"00afceef48480922":{name:"Pokemon Stadium 2",save:"FlashRam"},"5bfca1d04b07b82f":{name:"Pokemon Stadium 2",save:"FlashRam"},"9c365229a8c3e4b6":{name:"Pokemon Stadium 2",
save:"FlashRam"},c2d74fee38d9f19c:{name:"Pokemon Stadium GS",save:"FlashRam"},"9207384145e067a1":{name:"Polaris Sno Cross"},fadca6d7b7b6fecc:{name:"Power League Baseball 64"},ad5789cfa97ed596:{name:"Power Rangers - Lightspeed Rescue"},"110cf6397dba2eab":{name:"Power Rangers - Lightspeed Rescue"},"75d474fcab78029a":{name:"Powerpuff Girls - Chemical X-Traction",save:"Eeprom4k"},"547fd2f3f9ac11c1":{name:"Premier Manager 64"},"4e0ca19bd3ab0804":{name:"Pro Mahjong Kiwame 64"},"0fb3dc1b76d832a1":{name:"Pro Mahjong Tsuwamono 64"},
"8366ce8a6e42ba3f":{name:"Pro Yak Yu King Baseball"},b972464be75dbe2d:{name:"Puyo Puyo 4 - Puyo Puyo Party",save:"Eeprom4k"},"6b7e8094e462cc60":{name:"Puyo Puyo Sun 64",save:"Eeprom4k"},"4707dec0d372dfa2":{name:"Puzzle Bobble 64"},"9cf75b9fa008fed2":{name:"Quake 64"},"741d9316346ddc65":{name:"Quake 64"},"43f1a8bd622dafb1":{name:"Quake II"},d7d93374d022432c:{name:"Quake II"},d94dbbc80b435fcc:{name:"Quest 64"},a55f70280e6909b5:{name:"Racing Simulation - Monaco Grand Prix",save:"Eeprom4k"},"2dac77289a13dcc3":{name:"Racing Simulation 2"},
f0ca1e9f0e8ac4ee:{name:"Rakuga Kids"},"6818d267614042c5":{name:"Rakuga Kids"},"0cbad935865548df":{name:"Rally '99"},"3d8ea87371c5c53a":{name:"Rally Challenge 2000",save:"Eeprom4k"},e4f99fc27dfe4b26:{name:"Rampage - World Tour"},"4844d484b019ca67":{name:"Rampage - World Tour"},"9b093d67de08c8a4":{name:"Rampage 2 - Universal Tour"},"4942fc5d079c5299":{name:"Rampage 2 - Universal Tour"},"8ec40403b80140ac":{name:"Rat Attack"},f10bfd20871dcff5:{name:"Rat Attack"},"9bbfc5f3e2330f16":{name:"Rayman 2 - The Great Escape"},
"0be1d56046eded8b":{name:"Rayman 2 - The Great Escape"},"4a831839290cb515":{name:"Razor Freestyle Scooter"},"29b4b7ea572cc9ba":{name:"Ready 2 Rumble Boxing"},"34a3d48b058b131e":{name:"Ready 2 Rumble Boxing"},"339521e9bdaffb13":{name:"Ready 2 Rumble Boxing Round 2"},a5b118aaeb6adb07:{name:"Resident Evil 2",save:"SRAM"},"8e0e509bb35005e9":{name:"Resident Evil 2",save:"SRAM"},"87a91f0fa6afc1bf":{name:"Re-Volt"},"9ee2e7c3cc51725d":{name:"Re-Volt"},"6c7450f00b827b24":{name:"Road Rash 64"},"6a36d8029cefab6c":{name:"Road Rash 64"},
db4d6b0b82e67196:{name:"Roadsters"},"707ae874d4ae9362":{name:"Roadsters"},d3a5bc747e5f944a:{name:"Roadsters Trophy"},"0f692b27777a0aad":{name:"Robot Ponkottsu 64 - Caramel of the 7 Seas",save:"Eeprom4k"},"93b8a075b521a34c":{name:"Robotech - Crystal Dreams"},"324b8eac2673b4e7":{name:"Robotron 64"},"4f9df69f59005f19":{name:"Robotron 64"},f875d39fc82df345:{name:"Rocket - Robot on Wheels",save:"Eeprom4k"},"85e05e0c3edd67a1":{name:"Rocket - Robot on Wheels",save:"Eeprom4k"},"3b5966d6075ca2d7":{name:"Rockman Dash",
save:"FlashRam"},"7e260025cec37e2a":{name:"RR64 - Ridge Racer 64",save:"Eeprom16k"},"1070e9fea0a9944e":{name:"RR64 - Ridge Racer 64",save:"Eeprom16k"},"378f8f658dd21318":{name:"RTL World League Soccer 2000"},c5b3020cb811259e:{name:"Rugrats - Scavenger Hunt"},dadf3a4daefc9875:{name:"Rugrats - Treasure Hunt"},"0fca1a458abc6378":{name:"Rugrats - Treasure Hunt"},b46c692bd8dc937b:{name:"Rugrats - Treasure Hunt"},"3215c21fd466640b":{name:"Rugrats in Paris - The Movie"},"391dc60aa603faab":{name:"Rugrats in Paris - The Movie"},
"31e0d6ed13601368":{name:"Rush 2 - Extreme Racing USA"},"3621cfb715a70afa":{name:"Rush 2 - Extreme Racing USA"},f34791760ec13320:{name:"S.C.A.R.S."},"602d8e913e6865f8":{name:"S.C.A.R.S."},"20186b2a66f4bc6a":{name:"San Francisco Rush - Extreme Racing"},b016d1610cd624fa:{name:"San Francisco Rush - Extreme Racing"},a2eca9b98ee4aa17:{name:"San Francisco Rush 2049"},"1894d251e36ab4d5":{name:"San Francisco Rush 2049"},c44e810ca85cfe58:{name:"Scooby-Doo - Classic Creep Capers"},"1d22bde3d334083c":{name:"Scooby-Doo - Classic Creep Capers"},
b7f6f5eb39d756c9:{name:"SD Hiryuu no Ken Densetsu"},"75fdd584df3cfdbb":{name:"Shadow Man"},b560473a10d4742d:{name:"Shadow Man"},c3f806eaeddec207:{name:"Shadow Man"},e537c460e31e25a2:{name:"Shadow Man"},ce97680354fad4e0:{name:"Shadowgate 64 - Trials of the Four Towers"},"556fb4020b8d7761":{name:"Shadowgate 64 - Trials of the Four Towers"},"84ea4ed8b4f1b245":{name:"Shadowgate 64 - Trials of the Four Towers"},f2fcc12bf40d9a7b:{name:"Shadowgate 64 - Trials of the Four Towers"},"0c28d5b12abca74b":{name:"Sim City 2000"},
b00fbcb6982181e3:{name:"Sin and Punishment - Tsumi To Batsu",save:"Eeprom4k"},"19d5f42e5e0c4ac6":{name:"Snow Speeder"},"9deaf4dbc0823e33":{name:"Snowboard Kids"},ff04fc84e93c25b1:{name:"Snowboard Kids"},a0cdd75fad51bbd9:{name:"Snowboard Kids"},ea290c93bf459293:{name:"Snowboard Kids 2",save:"Eeprom4k"},"1a1d75c2ff9bc1f8":{name:"Snowboard Kids 2",save:"Eeprom4k"},"512321224b594640":{name:"Sonic Wings Assault",save:"Eeprom4k"},"39e9cb7e9517333c":{name:"South Park"},"6236b5209f89617b":{name:"South Park"},
"48a90cc04bd3608e":{name:"South Park - Chef's Luv Shack"},"76b2f307393d8fec":{name:"South Park Rally"},"3afc8a4ff22d91f7":{name:"South Park Rally"},"123446378d38c5ea":{name:"Space Dynamites",save:"Eeprom4k"},"9723feeb34da74ff":{name:"Space Invaders"},"8438e2bfafea48ef":{name:"Spacestation Silicon Valley",save:"Eeprom4k"},"72e270fcaae7ff08":{name:"Spacestation Silicon Valley",save:"Eeprom4k"},"71d10ea66ed0853d":{name:"Spider-Man"},"6805ed0d5e510215":{name:"St. Andrews Old Course"},f815d0a743aa8922:{name:"Star Fox 64",
save:"Eeprom4k"},c1a7caff37858568:{name:"Star Fox 64",save:"Eeprom4k"},a00b78ba34db210f:{name:"Star Fox 64",save:"Eeprom4k"},"853cd9dde881e3da":{name:"Star Soldier Vanishing Earth",save:"Eeprom4k"},"23eb03b73ae5aa28":{name:"Star Soldier Vanishing Earth",save:"Eeprom4k"},"42a263f13b9b44f2":{name:"Star Twins"},"124aa266c26aaf22":{name:"Star Wars - Rogue Squadron",save:"Eeprom4k"},a2bd5c164622a605:{name:"Star Wars - Rogue Squadron",save:"Eeprom4k"},c1919121613c1833:{name:"Star Wars - Rogue Squadron",
save:"Eeprom4k"},ec4ba2664fd9ad2e:{name:"Star Wars - Rogue Squadron",save:"Eeprom4k"},bbe8e07eaa11e449:{name:"Star Wars - Rogue Squadron",save:"Eeprom4k"},"63ac24fe17aa411b":{name:"Star Wars - Shadows of the Empire",save:"Eeprom4k"},"8166484d45927dab":{name:"Star Wars - Shadows of the Empire",save:"Eeprom4k"},"5c7e4d2622468718":{name:"Star Wars - Shadows of the Empire (v1.0)",save:"Eeprom4k"},"91b0474160102563":{name:"Star Wars - Shadows of the Empire (v1.1)",save:"Eeprom4k"},"54edd74d7d28f974":{name:"Star Wars - Shadows of the Empire (v1.2)",
save:"Eeprom4k"},"90487e82dc688495":{name:"Star Wars - Shuggeki Rogue Chitai",save:"Eeprom4k"},"9b98023de281a3d4":{name:"Star Wars Episode I - Battle for Naboo",save:"Eeprom4k"},e2ace6ea84430b02:{name:"Star Wars Episode I - Battle for Naboo",save:"Eeprom4k"},"9803f7728ba95665":{name:"Star Wars Episode I - Racer",save:"Eeprom16k"},"52b1f561ab226104":{name:"Star Wars Episode I - Racer",save:"Eeprom16k"},c42ded5302802506:{name:"Star Wars Episode I - Racer",save:"Eeprom16k"},fbfb8406a5a83e5d:{name:"StarCraft 64",
save:"FlashRam"},a35ecf42df34139a:{name:"StarCraft 64",save:"FlashRam"},c32c9bbca54dd04e:{name:"StarCraft 64 (beta)",save:"FlashRam"},b8a5ed9403e97386:{name:"Starshot - Space Circus Fever",save:"Eeprom4k"},"550e9ed89aa97ab1":{name:"Starshot - Space Circus Fever",save:"Eeprom4k"},d7d81095d20d1035:{name:"Stunt Racer 64"},"696b64f4951075c5":{name:"Super B-Daman - Battle Phoenix 64"},"5a211daa9abecb91":{name:"Super Bowling 64"},"85f3f2f37f0c496e":{name:"Super Bowling 64"},f08cbca5f651bad8:{name:"Super Mario 64 - Star Road",
save:"Eeprom4k"},"76d1fe61f9bb05ea":{name:"Super Mario 64 - The Missing Stars v2",save:"Eeprom4k"},"88aefe21241410a4":{name:"Super Mario 64 - The Missing Stars",save:"Eeprom4k"},d5ba7f26dcfa9375:{name:"Super Mario 64 Ru",save:"Eeprom4k"},c5425a63dc8ec5bd:{name:"Super Mario 64 Extended",save:"Eeprom4k"},ff2b5a632623028b:{name:"Super Mario 64",save:"Eeprom4k"},"0e3daa4e247c7574":{name:"Super Mario 64",save:"Eeprom4k"},"36f03ca0d2c5c1bc":{name:"Super Mario 64",save:"Eeprom4k"},a8a4fbd62caa2663:{name:"Super Mario 64 Shindou Edition",
save:"Eeprom4k"},"80205766e148e328":{name:"Super Robot Spirits"},"10d84916d2d63af7":{name:"Super Robot Taisen 64"},"5b8b6b91a4850b78":{name:"Super Smash Brothers",save:"SRAM"},"485f9493302e0f5c":{name:"Super Smash Brothers",save:"SRAM"},a1fd26dde36b4acb:{name:"Super Smash Brothers",save:"SRAM"},"222ee09cb0f16e20":{name:"Super Speed Race 64"},"532545c1d9247b5d":{name:"Supercross 2000"},"7f12bb2cd8bfc209":{name:"Supercross 2000"},"5bf3e8a2d987dcc9":{name:"Superman - The Animated Series"},"74ab4cb4299a0207":{name:"Superman - The Animated Series"},
f311e83524277999:{name:"Susume! Taisen Puzzle Dama Toukon! Marumata Chou"},"56a48bb9af762b5b":{name:"Tamagotchi World 64"},"54ddbcae4a83ff15":{name:"Taz Express",save:"Eeprom4k"},bb2f04d97c99fffc:{name:"Telefoot Soccer 2000"},a6db3a969bc8d5f7:{name:"Tetris 64"},beda1f3cbae0a402:{name:"Tetrisphere",save:"Eeprom4k"},a984e60fc47ab78b:{name:"Tetrisphere",save:"Eeprom4k"},"161b7d91e19b1f83":{name:"The Legend of Zelda - OoT Nightmare Mod",save:"SRAM"},c7c7b1f831a4fc1e:{name:"The Legend of Zelda - Ocarina of Time Ru",
save:"SRAM"},"4fecec6a144892f0":{name:"The Legend of Zelda - Majora's Mask ",save:"FlashRam"},E585C39FC705CC3E:{name:"The Legend of Zelda - Majora's Mask Debug",save:"FlashRam"},b71170ec2bd71676:{name:"The Legend of Zelda - Ocarina of Time (v1.0)",save:"SRAM"},"1a0034f006ed47ae":{name:"The Legend of Zelda - Ocarina of Time Master Quest (GC)",save:"SRAM"},"69b544b085193c37":{name:"The Legend of Zelda - Ocarina of Time (v1.0)",save:"SRAM"},"1fa83dd4191e1e02":{name:"The Legend of Zelda - Ocarina of Time (v1.1)",
save:"SRAM"},bd5f05b20c4eab0b:{name:"The Legend of Zelda - Ocarina of Time (v1.1)",save:"SRAM"},aea23b699f4ef1b7:{name:"The Legend of Zelda - Ocarina of Time (v1.2)",save:"SRAM"},c35a46091b50cbf8:{name:"The Legend of Zelda - Ocarina of Time (GC)",save:"SRAM"},f6187d915354bc69:{name:"The Legend of Zelda - Zelda's Birthday",save:"SRAM"},"08eb43b49311b34d":{name:"The Legend of Zelda - Majora's Mask (GC)",save:"FlashRam"},"459379bf027aff39":{name:"The Legend of Zelda - Majora's Mask (Demo)",save:"FlashRam"},
"1c635453f0dea203":{name:"The Legend of Zelda - Majora's Mask",save:"FlashRam"},c65579e9388d33bc:{name:"The Legend of Zelda - Majora's Mask",save:"FlashRam"},ba35ddf375e05241:{name:"The Legend of Zelda - Ocarina of Time (GC)",save:"SRAM"},f336411da9ee63af:{name:"The Legend of Zelda - OOT (Master Quest)",save:"SRAM"},"3f14532151632d99":{name:"The New Tetris",save:"SRAM"},"0aff1ce6710d1cce":{name:"The New Tetris",save:"SRAM"},"33ddbf4e849d4c66":{name:"Tigger's Honey Hunt",save:"FlashRam"},"2ff7c4e006159e76":{name:"Tigger's Honey Hunt",
save:"FlashRam"},"1c39e76333eacce6":{name:"Tom and Jerry in Fists of Furry",save:"Eeprom4k"},fb4e4f2bfe11c543:{name:"Tom and Jerry in Fists of Furry",save:"Eeprom4k"},"3329418ddb648f58":{name:"Tom Clancy's Rainbow Six"},"35f36b4881cc4d03":{name:"Tom Clancy's Rainbow Six"},"420c2a397de790b7":{name:"Tom Clancy's Rainbow Six"},"3daf7548a2d3669a":{name:"Tom Clancy's Rainbow Six"},"14979eef7d2c3bc0":{name:"Tonic Trouble"},"6e913f0998b60844":{name:"Tonic Trouble"},"22c04e2085d119b1":{name:"Tony Hawk's Pro Skater (v1.0)"},
"804114e0c9780b65":{name:"Tony Hawk's Pro Skater (v1.1)"},a526899f09b48705:{name:"Tony Hawk's Pro Skater"},"57b5ea840f198ac8":{name:"Tony Hawk's Pro Skater 2"},"180e1599a5e66612":{name:"Tony Hawk's Pro Skater 2"},"99150E181266E6A5":{name:"Tony Hawk's Pro Skater 2"},b5707f1afdb9b700:{name:"Tony Hawk's Pro Skater 3"},bf6e749a99ea0228:{name:"Toon Panic (Proto)"},f002cc8e81de8b7f:{name:"Top Gear Hyper-Bike",save:"Eeprom4k"},c6493f5fb014c70d:{name:"Top Gear Hyper-Bike",save:"Eeprom4k"},"80cd41d712b9a9ac":{name:"Top Gear Overdrive",
save:"Eeprom4k"},"4ff2780517bf7591":{name:"Top Gear Overdrive",save:"Eeprom4k"},"38a59bd089541a1c":{name:"Top Gear Overdrive",save:"Eeprom4k"},"3d9b2662e8b111fe":{name:"Top Gear Rally",save:"Eeprom4k"},"4762590e8b4b3d75":{name:"Top Gear Rally",save:"Eeprom4k"},"01e7437fd1286353":{name:"Top Gear Rally",save:"Eeprom4k"},e07359beb8edb089:{name:"Top Gear Rally 2"},d62cefcfe673e9c9:{name:"Top Gear Rally 2"},"77b6babee4b5b051":{name:"Top Gear Rally 2"},"77d32df847b33f8c":{name:"Top Gear Rally 2"},a43c70efc99a4a4d:{name:"Toukon Road - Brave Spirits"},
"437f1c551c834991":{name:"Toukon Road 2 - The Next Generation"},"75902a781d6352e5":{name:"Toy Story 2"},"3e7450a1cd2225cf":{name:"Toy Story 2"},"97db93cbd5635c7f":{name:"Toy Story 2"},"5838ebcc972d9526":{name:"Toy Story 2"},"436b4bfea7291d08":{name:"Triple Play 2000"},"0ffae466d0c788de":{name:"Turok - Legenden des Verlorenen Landes"},"8b49b9ad558ff2da":{name:"Turok - Rage Wars"},"1462a21e0f9090e7":{name:"Turok - Rage Wars"},dd09702f53ac3bfc:{name:"Turok - The Dinosaur Hunter"},"63d95f661266ccb5":{name:"Turok - The Dinosaur Hunter"},
b8e66a9122ab1788:{name:"Turok - The Dinosaur Hunter"},"0df1702fff87415c":{name:"Turok - The Dinosaur Hunter (v1.0)"},dd095f6653ac3bfc:{name:"Turok - The Dinosaur Hunter (v1.0)"},cd0d702fc9c56c17:{name:"Turok - The Dinosaur Hunter (v1.1/v1.2)"},"49770e2e599db4b8":{name:"Turok 2 - Seeds of Evil"},"942bb9e025e0a7b9":{name:"Turok 2 - Seeds of Evil"},"0b8405fe0c329393":{name:"Turok 2 - Seeds of Evil"},"118a08497e959464":{name:"Turok 2 - Seeds of Evil"},"942bb9e0bd7ce880":{name:"Turok 2 - Seeds of Evil"},
fc5ac9e8da21d135:{name:"Turok 2 - Seeds of Evil - Kiosk"},f179a589ef977e66:{name:"Turok 3 - Shadow of Oblivion"},f22f166a4c709320:{name:"Turok 3 - Shadow of Oblivion"},"329dc9bb80aa7d11":{name:"Twisted Edge Extreme Snowboarding"},b8a588e6183f4bb1:{name:"Twisted Edge Extreme Snowboarding"},"7851da6ec1fe96d3":{name:"Vigilante 8"},"6a0571ea474821e4":{name:"Vigilante 8"},a282bce294d61c59:{name:"Vigilante 8"},f4791f15e5c8ed8e:{name:"Vigilante 8"},"6d86c5f5d9132705":{name:"Vigilante 8 - 2nd Offense"},"7ebc10dd51b300f9":{name:"Vigilante 8 - 2nd Offense"},
"986c006081a30526":{name:"Violence Killer - Turok New Generation"},"8b24b3824d243ee7":{name:"Virtual Chess 64"},"21a2da2fcea788a5":{name:"Virtual Chess 64"},"43764a4ed73974a3":{name:"Virtual Pool 64"},d0f2f9989cf0d903:{name:"Virtual Pool 64"},c4085c048b79fd4a:{name:"Virtual Pro Wrestling",save:"Eeprom4k"},"354209cd624b0788":{name:"Virtual Pro Wrestling 2",save:"SRAM"},"3890053c8221bfc8":{name:"V-Rally Edition 99",save:"Eeprom4k"},a524024d9457eb1b:{name:"V-Rally Edition 99",save:"Eeprom4k"},"196b6e635fdc7de5":{name:"V-Rally Edition 99",
save:"Eeprom4k"},"8ad56680c1cadec3":{name:"Waialae Country Club - True Golf Classics",save:"Eeprom4k"},"75300593430f1e26":{name:"Waialae Country Club - True Golf Classics",save:"Eeprom4k"},ad57500c6e126e04:{name:"Waialae Country Club - True Golf Classics (1.1)",save:"Eeprom4k"},e28c31ddba9837b7:{name:"Waialae Country Club - True Golf Classics (1.1)",save:"Eeprom4k"},f628fef7c3acf2c3:{name:"War Gods"},"70cc15d7d6f51c27":{name:"War Gods"},d691915c06c30ab3:{name:"Wave Race 64",save:"Eeprom4k"},"96fa0e65a7f9dd30":{name:"Wave Race 64",
save:"Eeprom4k"},"531fe17d9d2f8774":{name:"Wave Race 64 (v1.0)",save:"Eeprom4k"},"614b2f496a14e504":{name:"Wave Race 64 (v1.1)",save:"Eeprom4k"},e2f35d53f1899760:{name:"Wave Race 64 Shindou Edition",save:"Eeprom4k"},"59aa3bdc6a45bb0a":{name:"Wayne Gretzky's 3D Hockey v1.1"},"3f22456b565c0ef0":{name:"Wayne Gretzky's 3D Hockey"},"431030f11a5480fd":{name:"Wayne Gretzky's 3D Hockey"},"4b090922af59952c":{name:"Wayne Gretzky's 3D Hockey"},"59389d5a10e7aa97":{name:"Wayne Gretzky's 3D Hockey '98"},f3451b666d26d69e:{name:"Wayne Gretzky's 3D Hockey '98"},
dd5a6f39a7ec9366:{name:"WCW Backstage Assault"},d68cbe33126918ec:{name:"WCW Mayhem"},"58067baa7b93969c":{name:"WCW Mayhem"},"1a5ac4d45eb225f4":{name:"WCW Nitro"},"68afdb8b364b5b34":{name:"WCW vs. NWO - World Tour"},bd193e2c5eee1351:{name:"WCW vs. NWO - World Tour (v1.0)"},b960be713cfbdb1d:{name:"WCW vs. NWO - World Tour (v1.2)"},ab96e5dee77a3baf:{name:"WCW-NWO Revenge",save:"SRAM"},"75a8e86886a4e70c":{name:"WCW-NWO Revenge",save:"SRAM"},"4fb5a8ce03d5217f":{name:"Wetrix"},faeab6dca3cfbbc6:{name:"Wetrix"},
"2b0996e84e4d24dc":{name:"Wheel of Fortune"},c7c4eb0c32e99c0c:{name:"Wild Choppers",save:"Eeprom4k"},"7e9598edacdc4282":{name:"WinBack - Covert Operations"},e056a01f6a94b9a4:{name:"WinBack - Covert Operations"},af8c89d55bb60760:{name:"WinBack - Covert Operations"},"32272d1318910ec7":{name:"Wipeout 64"},"7d0e3154d830546b":{name:"Wipeout 64"},"65973ce4bec1b105":{name:"Wonder Project J2"},"38594b3a9d986fa2":{name:"Wonder Project J2 (English)"},f7881e4f963f5a4a:{name:"Wonder Project J2 (English)"},"6a6d63bdba541f5d":{name:"World Cup 98"},
"9030fcf9c24e01ff":{name:"World Cup 98"},c8fe8d30f6b52ece:{name:"World Driver Championship"},"782706acb8fcaddf":{name:"World Driver Championship"},a059e913b0ca930e:{name:"Worms - Armageddon",save:"Eeprom4k"},"7bc5212d8cc5e48f":{name:"Worms - Armageddon",save:"Eeprom4k"},"0fec5bcd0810fd86":{name:"WWF - War Zone"},a475a233594450b8:{name:"WWF - War Zone"},c851318f45f53a4f:{name:"WWF Attitude"},"142fbed288374538":{name:"WWF Attitude"},"7b5bf45be8ee6b59":{name:"WWF Attitude"},"40064b4efbbc491b":{name:"WWF No Mercy",
save:"FlashRAM"},"8ef08d6dcfc308d0":{name:"WWF No Mercy (v1.0)",save:"FlashRAM"},c294db8cf0c646cb:{name:"WWF No Mercy (v1.1)",save:"FlashRAM"},"0390a59064980831":{name:"WWF WrestleMania 2000",save:"SRAM"},a57d731259919623:{name:"WWF Wrestlemania 2000",save:"SRAM"},be5313c7eea609aa:{name:"WWF WrestleMania 2000",save:"SRAM"},"9dae5305c1e0d8ea":{name:"Xena Warrior Princess - Talisman of Fate"},c767160aa6463329:{name:"Xena Warrior Princess - Talisman of Fate"},c3968b9fdc9411a0:{name:"Yakouchuu II - Satsujun Kouru"},
e8d83723ec7c8e6b:{name:"Yoshi's Story",save:"Eeprom16k"},"60cacf2d47b15483":{name:"Yoshi's Story",save:"Eeprom16k"},"497df9d35b132469":{name:"Yoshi's Story",save:"Eeprom16k"},"8d3bda777c0d2b16":{name:"Yosuke no Mahjong Juku",save:"Eeprom4k"},"2d16e69f37407ee9":{name:"Yuke Yuke!! Trouble Makers"},c1d0738466061223:{name:"Zelda no Densetsu 2 - Mujura no Kamen",save:"FlashRam"},b82df5f736e69521:{name:"Zelda no Densetsu - Toki no Ocarina Collectors Ed.",save:"SRAM"},baf411f65c1384c5:{name:"Zelda no Densetsu - Toki no Ocarina (GC)",
save:"SRAM"},ba453bf46f9b0e2f:{name:"Zelda no Densetsu - Toki no Ocarina (GC)",save:"SRAM"},"127341ec5fde31eb":{name:"Zelda no Densetsu 2 - Mujura no Kamen",save:"FlashRam"},"3804ae69f3f3632c":{name:"Zelda no Densetsu 2 - Mujura no Kamen (1.1)",save:"FlashRam"},cd0c011cfab7d322:{name:"Zool - Majou Tsukai Densetsu"},"54a43977662af5a2":{name:"A HORiZON64 RELEASE"},"91d8ab5ccef62962":{name:"Fishy by NaN v0.3141"},bc069a1355006b41:{name:"Mind Present-Readme"},b1cb11c87c61b78f:{name:"Mind Present / DNX"},
"54f53fcb0bcd7387":{name:"Tron Demo"},"4549049c0c0b1ed3":{name:"POM99 - README"},"7a7d3b994df0542e":{name:"POM99 - MADEIRAGAMES"},"575aa9a37dc2e69f":{name:"POM99 - WET DREAMS"},"95c03bca0a864996":{name:"POM99 - CAN-BETA"},d44a7da4f981fa8b:{name:"Manic Miner 64"},"2d369c9d086be65b":{name:"Shag-a-delic/CAMELOT"},c479518fdc263580:{name:"Space Rotator"},"70bb552625997d66":{name:"O.D.T.",save:"Controller"},a61564e8535b3998:{name:"O.D.T.",save:"Controller"}}})(window.n64js=window.n64js||{});(function(b){function K(b,q,t,o,p){var b=b||"GET",z=[];if(t){var E="",B;for(B in t)t.hasOwnProperty(B)&&(E&&(E+="&"),E+=escape(B),void 0!==t[B]&&(E+="="+escape(t[B])));q+="?"+E}var v=new XMLHttpRequest;v.open(b,q,!0);try{v.responseType="arraybuffer"}catch(K){alert("responseType arrayBuffer not supported!")}v.onreadystatechange=function(){if(4===v.readyState){var b;for(b=0;b<z.length;++b)z[b]()}};v.onload=function(){ArrayBuffer.prototype.isPrototypeOf(this.response)?p(this.response):alert("wasn't arraybuffer, was "+
typeof this.response+JSON.stringify(this.response))};v.send(o);this.always=function(b){4===v.readyState&&b();z.push(b);return this}}function q(){this.kBufferLength=1048576;this.syncBuffer=null;this.fileOffset=this.syncBufferIdx=0;this.curRequest=null;this.oos=!1;this.nextBuffer=null}function B(){this.kBufferLength=262144;this.syncBuffer=new Uint32Array(this.kBufferLength);this.fileOffset=this.syncBufferIdx=0;this.curRequest=null;this.buffers=[]}q.prototype.refill=function(){if(!this.syncBuffer||this.syncBufferIdx>=
this.syncBuffer.length)this.syncBuffer=this.nextBuffer,this.syncBufferIdx=0,this.nextBuffer=null};q.prototype.tick=function(){this.refill();if(!this.nextBuffer&&!this.curRequest){var b=this;this.curRequest=(new K("GET","rsynclog",{o:this.fileOffset,l:this.kBufferLength},void 0,function(q){b.nextBuffer=new Uint32Array(q);b.fileOffset+=q.byteLength})).always(function(){b.curRequest=null});return!1}return!0};q.prototype.getAvailableBytes=function(){var b=0;this.syncBuffer&&(b+=this.syncBuffer.length-
this.syncBufferIdx);this.nextBuffer&&(b+=this.nextBuffer.length);return 4*b};q.prototype.pop=function(){(!this.syncBuffer||this.syncBufferIdx>=this.syncBuffer.length)&&this.refill();if(this.syncBuffer&&this.syncBufferIdx<this.syncBuffer.length){var b=this.syncBuffer[this.syncBufferIdx];this.syncBufferIdx++;return b}return-1};q.prototype.sync32=function(j,q){if(this.oos)return!1;var t=this.pop();return j!==t?(b.warn(q+" mismatch: local "+b.toString32(j)+" remote "+b.toString32(t)),this.oos=!0,!1):
!0};q.prototype.reflect32=function(b){return this.oos?b:this.pop()};B.prototype.flushBuffer=function(){this.syncBufferIdx>=this.syncBuffer.length&&(this.buffers.push(this.syncBuffer),this.syncBuffer=new Uint32Array(this.kBufferLength),this.syncBufferIdx=0)};B.prototype.tick=function(){if(!this.curRequest&&0<this.syncBufferIdx){for(var b=new Uint32Array(this.syncBufferIdx),q=0;q<this.syncBufferIdx;++q)b[q]=this.syncBuffer[q];this.buffers.push(b);this.syncBuffer=new Uint32Array(this.kBufferLength);
this.syncBufferIdx=0}if(!this.curRequest&&0<this.buffers.length){b=this.buffers[0];this.buffers.splice(0,1);var t=this,o=4*b.length;this.curRequest=(new K("POST","wsynclog",{o:this.fileOffset,l:o},b,function(){t.fileOffset+=o})).always(function(){t.curRequest=null})}return 0===this.buffers.length};B.prototype.getAvailableBytes=function(){return 1E9};B.prototype.sync32=function(b){this.syncBufferIdx>=this.syncBuffer.length&&this.flushBuffer();this.syncBuffer[this.syncBufferIdx]=b;this.syncBufferIdx++;
return!0};B.prototype.reflect32=function(b){this.syncBufferIdx>=this.syncBuffer.length&&this.flushBuffer();this.syncBuffer[this.syncBufferIdx]=b;this.syncBufferIdx++;return b};b.createSyncConsumer=function(){return new q};b.createSyncProducer=function(){return new B}})(window.n64js=window.n64js||{});
//@ sourceMappingURL=n64.min.js.map
